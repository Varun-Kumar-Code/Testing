var yv=t=>{throw TypeError(t)};var Ch=(t,e,n)=>e.has(t)||yv("Cannot "+n);var j=(t,e,n)=>(Ch(t,e,"read from private field"),n?n.call(t):e.get(t)),Q=(t,e,n)=>e.has(t)?yv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),W=(t,e,n,r)=>(Ch(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),te=(t,e,n)=>(Ch(t,e,"access private method"),n);var _c=(t,e,n,r)=>({set _(s){W(t,e,s,n)},get _(){return j(t,e,r)}});function oN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vx={exports:{}},pd={},wx={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Symbol.for("react.element"),aN=Symbol.for("react.portal"),lN=Symbol.for("react.fragment"),cN=Symbol.for("react.strict_mode"),uN=Symbol.for("react.profiler"),dN=Symbol.for("react.provider"),hN=Symbol.for("react.context"),fN=Symbol.for("react.forward_ref"),pN=Symbol.for("react.suspense"),mN=Symbol.for("react.memo"),gN=Symbol.for("react.lazy"),vv=Symbol.iterator;function yN(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var _x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xx=Object.assign,Ex={};function zo(t,e,n){this.props=t,this.context=e,this.refs=Ex,this.updater=n||_x}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cx(){}Cx.prototype=zo.prototype;function hm(t,e,n){this.props=t,this.context=e,this.refs=Ex,this.updater=n||_x}var fm=hm.prototype=new Cx;fm.constructor=hm;xx(fm,zo.prototype);fm.isPureReactComponent=!0;var wv=Array.isArray,Sx=Object.prototype.hasOwnProperty,pm={current:null},bx={key:!0,ref:!0,__self:!0,__source:!0};function Tx(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Sx.call(e,r)&&!bx.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ll,type:t,key:i,ref:o,props:s,_owner:pm.current}}function vN(t,e){return{$$typeof:Ll,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function mm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ll}function wN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _v=/\/+/g;function Sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?wN(""+t.key):e.toString(36)}function Gc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ll:case aN:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Sh(o,0):r,wv(s)?(n="",t!=null&&(n=t.replace(_v,"$&/")+"/"),Gc(s,e,n,"",function(u){return u})):s!=null&&(mm(s)&&(s=vN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(_v,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",wv(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Sh(i,a);o+=Gc(i,e,n,c,s)}else if(c=yN(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Sh(i,a++),o+=Gc(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xc(t,e,n){if(t==null)return t;var r=[],s=0;return Gc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function _N(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Et={current:null},qc={transition:null},xN={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:qc,ReactCurrentOwner:pm};function Ix(){throw Error("act(...) is not supported in production builds of React.")}se.Children={map:xc,forEach:function(t,e,n){xc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xc(t,function(){e++}),e},toArray:function(t){return xc(t,function(e){return e})||[]},only:function(t){if(!mm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=zo;se.Fragment=lN;se.Profiler=uN;se.PureComponent=hm;se.StrictMode=cN;se.Suspense=pN;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xN;se.act=Ix;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xx({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=pm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Sx.call(e,c)&&!bx.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ll,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:hN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dN,_context:t},t.Consumer=t};se.createElement=Tx;se.createFactory=function(t){var e=Tx.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:fN,render:t}};se.isValidElement=mm;se.lazy=function(t){return{$$typeof:gN,_payload:{_status:-1,_result:t},_init:_N}};se.memo=function(t,e){return{$$typeof:mN,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=qc.transition;qc.transition={};try{t()}finally{qc.transition=e}};se.unstable_act=Ix;se.useCallback=function(t,e){return Et.current.useCallback(t,e)};se.useContext=function(t){return Et.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Et.current.useDeferredValue(t)};se.useEffect=function(t,e){return Et.current.useEffect(t,e)};se.useId=function(){return Et.current.useId()};se.useImperativeHandle=function(t,e,n){return Et.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Et.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Et.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Et.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Et.current.useReducer(t,e,n)};se.useRef=function(t){return Et.current.useRef(t)};se.useState=function(t){return Et.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Et.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Et.current.useTransition()};se.version="18.3.1";wx.exports=se;var N=wx.exports;const Ur=yx(N),EN=oN({__proto__:null,default:Ur},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CN=N,SN=Symbol.for("react.element"),bN=Symbol.for("react.fragment"),TN=Object.prototype.hasOwnProperty,IN=CN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NN={key:!0,ref:!0,__self:!0,__source:!0};function Nx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)TN.call(e,r)&&!NN.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:SN,type:t,key:i,ref:o,props:s,_owner:IN.current}}pd.Fragment=bN;pd.jsx=Nx;pd.jsxs=Nx;vx.exports=pd;var d=vx.exports,kx={exports:{}},Kt={},Rx={exports:{}},Ax={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,V){var Y=U.length;U.push(V);e:for(;0<Y;){var ee=Y-1>>>1,de=U[ee];if(0<s(de,V))U[ee]=V,U[Y]=de,Y=ee;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var V=U[0],Y=U.pop();if(Y!==V){U[0]=Y;e:for(var ee=0,de=U.length,ve=de>>>1;ee<ve;){var bt=2*(ee+1)-1,fn=U[bt],pn=bt+1,Qt=U[pn];if(0>s(fn,Y))pn<de&&0>s(Qt,fn)?(U[ee]=Qt,U[pn]=Y,ee=pn):(U[ee]=fn,U[bt]=Y,ee=bt);else if(pn<de&&0>s(Qt,Y))U[ee]=Qt,U[pn]=Y,ee=pn;else break e}}return V}function s(U,V){var Y=U.sortIndex-V.sortIndex;return Y!==0?Y:U.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,p=null,m=3,v=!1,x=!1,w=!1,I=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(U){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=U)r(u),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(u)}}function P(U){if(w=!1,b(U),!x)if(n(c)!==null)x=!0,ne(L);else{var V=n(u);V!==null&&re(P,V.startTime-U)}}function L(U,V){x=!1,w&&(w=!1,E(_),_=-1),v=!0;var Y=m;try{for(b(V),p=n(c);p!==null&&(!(p.expirationTime>V)||U&&!A());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var de=ee(p.expirationTime<=V);V=t.unstable_now(),typeof de=="function"?p.callback=de:p===n(c)&&r(c),b(V)}else r(c);p=n(c)}if(p!==null)var ve=!0;else{var bt=n(u);bt!==null&&re(P,bt.startTime-V),ve=!1}return ve}finally{p=null,m=Y,v=!1}}var D=!1,T=null,_=-1,S=5,k=-1;function A(){return!(t.unstable_now()-k<S)}function O(){if(T!==null){var U=t.unstable_now();k=U;var V=!0;try{V=T(!0,U)}finally{V?R():(D=!1,T=null)}}else D=!1}var R;if(typeof y=="function")R=function(){y(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,ie=H.port2;H.port1.onmessage=O,R=function(){ie.postMessage(null)}}else R=function(){I(O,0)};function ne(U){T=U,D||(D=!0,R())}function re(U,V){_=I(function(){U(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ne(L))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var V=3;break;default:V=m}var Y=m;m=V;try{return U()}finally{m=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,V){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Y=m;m=U;try{return V()}finally{m=Y}},t.unstable_scheduleCallback=function(U,V,Y){var ee=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?ee+Y:ee):Y=ee,U){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=Y+de,U={id:f++,callback:V,priorityLevel:U,startTime:Y,expirationTime:de,sortIndex:-1},Y>ee?(U.sortIndex=Y,e(u,U),n(c)===null&&U===n(u)&&(w?(E(_),_=-1):w=!0,re(P,Y-ee))):(U.sortIndex=de,e(c,U),x||v||(x=!0,ne(L))),U},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(U){var V=m;return function(){var Y=m;m=V;try{return U.apply(this,arguments)}finally{m=Y}}}})(Ax);Rx.exports=Ax;var kN=Rx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RN=N,qt=kN;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Px=new Set,tl={};function vi(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(tl[t]=e,t=0;t<e.length;t++)Px.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sf=Object.prototype.hasOwnProperty,AN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xv={},Ev={};function PN(t){return Sf.call(Ev,t)?!0:Sf.call(xv,t)?!1:AN.test(t)?Ev[t]=!0:(xv[t]=!0,!1)}function ON(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jN(t,e,n,r){if(e===null||typeof e>"u"||ON(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var gm=/[\-:]([a-z])/g;function ym(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(gm,ym);Ze[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(gm,ym);Ze[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(gm,ym);Ze[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function vm(t,e,n,r){var s=Ze.hasOwnProperty(e)?Ze[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jN(e,n,s,r)&&(n=null),r||s===null?PN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=RN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ec=Symbol.for("react.element"),Mi=Symbol.for("react.portal"),Di=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),Ox=Symbol.for("react.provider"),jx=Symbol.for("react.context"),_m=Symbol.for("react.forward_ref"),Tf=Symbol.for("react.suspense"),If=Symbol.for("react.suspense_list"),xm=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),Lx=Symbol.for("react.offscreen"),Cv=Symbol.iterator;function pa(t){return t===null||typeof t!="object"?null:(t=Cv&&t[Cv]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,bh;function Na(t){if(bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bh=e&&e[1]||""}return`
`+bh+t}var Th=!1;function Ih(t,e){if(!t||Th)return"";Th=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Th=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Na(t):""}function LN(t){switch(t.tag){case 5:return Na(t.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return t=Ih(t.type,!1),t;case 11:return t=Ih(t.type.render,!1),t;case 1:return t=Ih(t.type,!0),t;default:return""}}function Nf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Di:return"Fragment";case Mi:return"Portal";case bf:return"Profiler";case wm:return"StrictMode";case Tf:return"Suspense";case If:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jx:return(t.displayName||"Context")+".Consumer";case Ox:return(t._context.displayName||"Context")+".Provider";case _m:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case xm:return e=t.displayName||null,e!==null?e:Nf(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Nf(t(e))}catch{}}return null}function MN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nf(e);case 8:return e===wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ws(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DN(t){var e=Mx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Cc(t){t._valueTracker||(t._valueTracker=DN(t))}function Dx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kf(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Sv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ws(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fx(t,e){e=e.checked,e!=null&&vm(t,"checked",e,!1)}function Rf(t,e){Fx(t,e);var n=ws(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Af(t,e.type,n):e.hasOwnProperty("defaultValue")&&Af(t,e.type,ws(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Af(t,e,n){(e!=="number"||mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ka=Array.isArray;function Qi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ws(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Tv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(ka(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ws(n)}}function Ux(t,e){var n=ws(e.value),r=ws(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Iv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sc,$x=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FN=["Webkit","ms","Moz","O"];Object.keys(Ma).forEach(function(t){FN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ma[e]=Ma[t]})});function Hx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ma.hasOwnProperty(t)&&Ma[t]?(""+e).trim():e+"px"}function Bx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var UN=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jf(t,e){if(e){if(UN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mf=null;function Em(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Df=null,Xi=null,Ji=null;function Nv(t){if(t=Fl(t)){if(typeof Df!="function")throw Error(z(280));var e=t.stateNode;e&&(e=wd(e),Df(t.stateNode,t.type,e))}}function Vx(t){Xi?Ji?Ji.push(t):Ji=[t]:Xi=t}function Wx(){if(Xi){var t=Xi,e=Ji;if(Ji=Xi=null,Nv(t),e)for(t=0;t<e.length;t++)Nv(e[t])}}function Gx(t,e){return t(e)}function qx(){}var Nh=!1;function Kx(t,e,n){if(Nh)return t(e,n);Nh=!0;try{return Gx(t,e,n)}finally{Nh=!1,(Xi!==null||Ji!==null)&&(qx(),Wx())}}function rl(t,e){var n=t.stateNode;if(n===null)return null;var r=wd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Ff=!1;if(vr)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Ff=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Ff=!1}function zN(t,e,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(f){this.onError(f)}}var Da=!1,gu=null,yu=!1,Uf=null,$N={onError:function(t){Da=!0,gu=t}};function HN(t,e,n,r,s,i,o,a,c){Da=!1,gu=null,zN.apply($N,arguments)}function BN(t,e,n,r,s,i,o,a,c){if(HN.apply(this,arguments),Da){if(Da){var u=gu;Da=!1,gu=null}else throw Error(z(198));yu||(yu=!0,Uf=u)}}function wi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kv(t){if(wi(t)!==t)throw Error(z(188))}function VN(t){var e=t.alternate;if(!e){if(e=wi(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return kv(s),t;if(i===r)return kv(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Qx(t){return t=VN(t),t!==null?Xx(t):null}function Xx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xx(t);if(e!==null)return e;t=t.sibling}return null}var Jx=qt.unstable_scheduleCallback,Rv=qt.unstable_cancelCallback,WN=qt.unstable_shouldYield,GN=qt.unstable_requestPaint,Me=qt.unstable_now,qN=qt.unstable_getCurrentPriorityLevel,Cm=qt.unstable_ImmediatePriority,Zx=qt.unstable_UserBlockingPriority,vu=qt.unstable_NormalPriority,KN=qt.unstable_LowPriority,e1=qt.unstable_IdlePriority,md=null,Bn=null;function YN(t){if(Bn&&typeof Bn.onCommitFiberRoot=="function")try{Bn.onCommitFiberRoot(md,t,void 0,(t.current.flags&128)===128)}catch{}}var Tn=Math.clz32?Math.clz32:JN,QN=Math.log,XN=Math.LN2;function JN(t){return t>>>=0,t===0?32:31-(QN(t)/XN|0)|0}var bc=64,Tc=4194304;function Ra(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Ra(a):(i&=o,i!==0&&(r=Ra(i)))}else o=n&~s,o!==0?r=Ra(o):i!==0&&(r=Ra(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Tn(e),s=1<<n,r|=t[n],e&=~s;return r}function ZN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ek(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Tn(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=ZN(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function zf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function t1(){var t=bc;return bc<<=1,!(bc&4194240)&&(bc=64),t}function kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ml(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Tn(e),t[e]=n}function tk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Tn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Sm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Tn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ye=0;function n1(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var r1,bm,s1,i1,o1,$f=!1,Ic=[],os=null,as=null,ls=null,sl=new Map,il=new Map,Vr=[],nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Av(t,e){switch(t){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":as=null;break;case"mouseover":case"mouseout":ls=null;break;case"pointerover":case"pointerout":sl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":il.delete(e.pointerId)}}function ga(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Fl(e),e!==null&&bm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function rk(t,e,n,r,s){switch(e){case"focusin":return os=ga(os,t,e,n,r,s),!0;case"dragenter":return as=ga(as,t,e,n,r,s),!0;case"mouseover":return ls=ga(ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return sl.set(i,ga(sl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,il.set(i,ga(il.get(i)||null,t,e,n,r,s)),!0}return!1}function a1(t){var e=zs(t.target);if(e!==null){var n=wi(e);if(n!==null){if(e=n.tag,e===13){if(e=Yx(n),e!==null){t.blockedOn=e,o1(t.priority,function(){s1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mf=r,n.target.dispatchEvent(r),Mf=null}else return e=Fl(n),e!==null&&bm(e),t.blockedOn=n,!1;e.shift()}return!0}function Pv(t,e,n){Kc(t)&&n.delete(e)}function sk(){$f=!1,os!==null&&Kc(os)&&(os=null),as!==null&&Kc(as)&&(as=null),ls!==null&&Kc(ls)&&(ls=null),sl.forEach(Pv),il.forEach(Pv)}function ya(t,e){t.blockedOn===e&&(t.blockedOn=null,$f||($f=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,sk)))}function ol(t){function e(s){return ya(s,t)}if(0<Ic.length){ya(Ic[0],t);for(var n=1;n<Ic.length;n++){var r=Ic[n];r.blockedOn===t&&(r.blockedOn=null)}}for(os!==null&&ya(os,t),as!==null&&ya(as,t),ls!==null&&ya(ls,t),sl.forEach(e),il.forEach(e),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)a1(n),n.blockedOn===null&&Vr.shift()}var Zi=Ir.ReactCurrentBatchConfig,_u=!0;function ik(t,e,n,r){var s=ye,i=Zi.transition;Zi.transition=null;try{ye=1,Tm(t,e,n,r)}finally{ye=s,Zi.transition=i}}function ok(t,e,n,r){var s=ye,i=Zi.transition;Zi.transition=null;try{ye=4,Tm(t,e,n,r)}finally{ye=s,Zi.transition=i}}function Tm(t,e,n,r){if(_u){var s=Hf(t,e,n,r);if(s===null)Uh(t,e,r,xu,n),Av(t,r);else if(rk(s,t,e,n,r))r.stopPropagation();else if(Av(t,r),e&4&&-1<nk.indexOf(t)){for(;s!==null;){var i=Fl(s);if(i!==null&&r1(i),i=Hf(t,e,n,r),i===null&&Uh(t,e,r,xu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Uh(t,e,r,null,n)}}var xu=null;function Hf(t,e,n,r){if(xu=null,t=Em(r),t=zs(t),t!==null)if(e=wi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xu=t,null}function l1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qN()){case Cm:return 1;case Zx:return 4;case vu:case KN:return 16;case e1:return 536870912;default:return 16}default:return 16}}var ss=null,Im=null,Yc=null;function c1(){if(Yc)return Yc;var t,e=Im,n=e.length,r,s="value"in ss?ss.value:ss.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Yc=s.slice(t,1<r?1-r:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nc(){return!0}function Ov(){return!1}function Yt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nc:Ov,this.isPropagationStopped=Ov,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nc)},persist:function(){},isPersistent:Nc}),e}var $o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=Yt($o),Dl=Pe({},$o,{view:0,detail:0}),ak=Yt(Dl),Rh,Ah,va,gd=Pe({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==va&&(va&&t.type==="mousemove"?(Rh=t.screenX-va.screenX,Ah=t.screenY-va.screenY):Ah=Rh=0,va=t),Rh)},movementY:function(t){return"movementY"in t?t.movementY:Ah}}),jv=Yt(gd),lk=Pe({},gd,{dataTransfer:0}),ck=Yt(lk),uk=Pe({},Dl,{relatedTarget:0}),Ph=Yt(uk),dk=Pe({},$o,{animationName:0,elapsedTime:0,pseudoElement:0}),hk=Yt(dk),fk=Pe({},$o,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pk=Yt(fk),mk=Pe({},$o,{data:0}),Lv=Yt(mk),gk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vk[t])?!!e[t]:!1}function km(){return wk}var _k=Pe({},Dl,{key:function(t){if(t.key){var e=gk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:km,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xk=Yt(_k),Ek=Pe({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mv=Yt(Ek),Ck=Pe({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:km}),Sk=Yt(Ck),bk=Pe({},$o,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tk=Yt(bk),Ik=Pe({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Nk=Yt(Ik),kk=[9,13,27,32],Rm=vr&&"CompositionEvent"in window,Fa=null;vr&&"documentMode"in document&&(Fa=document.documentMode);var Rk=vr&&"TextEvent"in window&&!Fa,u1=vr&&(!Rm||Fa&&8<Fa&&11>=Fa),Dv=" ",Fv=!1;function d1(t,e){switch(t){case"keyup":return kk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Fi=!1;function Ak(t,e){switch(t){case"compositionend":return h1(e);case"keypress":return e.which!==32?null:(Fv=!0,Dv);case"textInput":return t=e.data,t===Dv&&Fv?null:t;default:return null}}function Pk(t,e){if(Fi)return t==="compositionend"||!Rm&&d1(t,e)?(t=c1(),Yc=Im=ss=null,Fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return u1&&e.locale!=="ko"?null:e.data;default:return null}}var Ok={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ok[t.type]:e==="textarea"}function f1(t,e,n,r){Vx(r),e=Eu(e,"onChange"),0<e.length&&(n=new Nm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,al=null;function jk(t){S1(t,0)}function yd(t){var e=$i(t);if(Dx(e))return t}function Lk(t,e){if(t==="change")return e}var p1=!1;if(vr){var Oh;if(vr){var jh="oninput"in document;if(!jh){var zv=document.createElement("div");zv.setAttribute("oninput","return;"),jh=typeof zv.oninput=="function"}Oh=jh}else Oh=!1;p1=Oh&&(!document.documentMode||9<document.documentMode)}function $v(){Ua&&(Ua.detachEvent("onpropertychange",m1),al=Ua=null)}function m1(t){if(t.propertyName==="value"&&yd(al)){var e=[];f1(e,al,t,Em(t)),Kx(jk,e)}}function Mk(t,e,n){t==="focusin"?($v(),Ua=e,al=n,Ua.attachEvent("onpropertychange",m1)):t==="focusout"&&$v()}function Dk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(al)}function Fk(t,e){if(t==="click")return yd(e)}function Uk(t,e){if(t==="input"||t==="change")return yd(e)}function zk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rn=typeof Object.is=="function"?Object.is:zk;function ll(t,e){if(Rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Sf.call(e,s)||!Rn(t[s],e[s]))return!1}return!0}function Hv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bv(t,e){var n=Hv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hv(n)}}function g1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?g1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y1(){for(var t=window,e=mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mu(t.document)}return e}function Am(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $k(t){var e=y1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&g1(n.ownerDocument.documentElement,n)){if(r!==null&&Am(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Bv(n,i);var o=Bv(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Hk=vr&&"documentMode"in document&&11>=document.documentMode,Ui=null,Bf=null,za=null,Vf=!1;function Vv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vf||Ui==null||Ui!==mu(r)||(r=Ui,"selectionStart"in r&&Am(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),za&&ll(za,r)||(za=r,r=Eu(Bf,"onSelect"),0<r.length&&(e=new Nm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ui)))}function kc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zi={animationend:kc("Animation","AnimationEnd"),animationiteration:kc("Animation","AnimationIteration"),animationstart:kc("Animation","AnimationStart"),transitionend:kc("Transition","TransitionEnd")},Lh={},v1={};vr&&(v1=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function vd(t){if(Lh[t])return Lh[t];if(!zi[t])return t;var e=zi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in v1)return Lh[t]=e[n];return t}var w1=vd("animationend"),_1=vd("animationiteration"),x1=vd("animationstart"),E1=vd("transitionend"),C1=new Map,Wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ts(t,e){C1.set(t,e),vi(e,[t])}for(var Mh=0;Mh<Wv.length;Mh++){var Dh=Wv[Mh],Bk=Dh.toLowerCase(),Vk=Dh[0].toUpperCase()+Dh.slice(1);Ts(Bk,"on"+Vk)}Ts(w1,"onAnimationEnd");Ts(_1,"onAnimationIteration");Ts(x1,"onAnimationStart");Ts("dblclick","onDoubleClick");Ts("focusin","onFocus");Ts("focusout","onBlur");Ts(E1,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vi("onBeforeInput",["compositionend","keypress","textInput","paste"]);vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wk=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Gv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,BN(r,e,void 0,t),t.currentTarget=null}function S1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Gv(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Gv(s,a,u),i=c}}}if(yu)throw t=Uf,yu=!1,Uf=null,t}function Se(t,e){var n=e[Yf];n===void 0&&(n=e[Yf]=new Set);var r=t+"__bubble";n.has(r)||(b1(e,t,2,!1),n.add(r))}function Fh(t,e,n){var r=0;e&&(r|=4),b1(n,t,r,e)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function cl(t){if(!t[Rc]){t[Rc]=!0,Px.forEach(function(n){n!=="selectionchange"&&(Wk.has(n)||Fh(n,!1,t),Fh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rc]||(e[Rc]=!0,Fh("selectionchange",!1,e))}}function b1(t,e,n,r){switch(l1(e)){case 1:var s=ik;break;case 4:s=ok;break;default:s=Tm}n=s.bind(null,e,n,t),s=void 0,!Ff||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Uh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=zs(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kx(function(){var u=i,f=Em(n),p=[];e:{var m=C1.get(t);if(m!==void 0){var v=Nm,x=t;switch(t){case"keypress":if(Qc(n)===0)break e;case"keydown":case"keyup":v=xk;break;case"focusin":x="focus",v=Ph;break;case"focusout":x="blur",v=Ph;break;case"beforeblur":case"afterblur":v=Ph;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=jv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ck;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sk;break;case w1:case _1:case x1:v=hk;break;case E1:v=Tk;break;case"scroll":v=ak;break;case"wheel":v=Nk;break;case"copy":case"cut":case"paste":v=pk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Mv}var w=(e&4)!==0,I=!w&&t==="scroll",E=w?m!==null?m+"Capture":null:m;w=[];for(var y=u,b;y!==null;){b=y;var P=b.stateNode;if(b.tag===5&&P!==null&&(b=P,E!==null&&(P=rl(y,E),P!=null&&w.push(ul(y,P,b)))),I)break;y=y.return}0<w.length&&(m=new v(m,x,null,n,f),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Mf&&(x=n.relatedTarget||n.fromElement)&&(zs(x)||x[wr]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=u,x=x?zs(x):null,x!==null&&(I=wi(x),x!==I||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=u),v!==x)){if(w=jv,P="onMouseLeave",E="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(w=Mv,P="onPointerLeave",E="onPointerEnter",y="pointer"),I=v==null?m:$i(v),b=x==null?m:$i(x),m=new w(P,y+"leave",v,n,f),m.target=I,m.relatedTarget=b,P=null,zs(f)===u&&(w=new w(E,y+"enter",x,n,f),w.target=b,w.relatedTarget=I,P=w),I=P,v&&x)t:{for(w=v,E=x,y=0,b=w;b;b=Pi(b))y++;for(b=0,P=E;P;P=Pi(P))b++;for(;0<y-b;)w=Pi(w),y--;for(;0<b-y;)E=Pi(E),b--;for(;y--;){if(w===E||E!==null&&w===E.alternate)break t;w=Pi(w),E=Pi(E)}w=null}else w=null;v!==null&&qv(p,m,v,w,!1),x!==null&&I!==null&&qv(p,I,x,w,!0)}}e:{if(m=u?$i(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var L=Lk;else if(Uv(m))if(p1)L=Uk;else{L=Dk;var D=Mk}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=Fk);if(L&&(L=L(t,u))){f1(p,L,n,f);break e}D&&D(t,m,u),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&Af(m,"number",m.value)}switch(D=u?$i(u):window,t){case"focusin":(Uv(D)||D.contentEditable==="true")&&(Ui=D,Bf=u,za=null);break;case"focusout":za=Bf=Ui=null;break;case"mousedown":Vf=!0;break;case"contextmenu":case"mouseup":case"dragend":Vf=!1,Vv(p,n,f);break;case"selectionchange":if(Hk)break;case"keydown":case"keyup":Vv(p,n,f)}var T;if(Rm)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Fi?d1(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(u1&&n.locale!=="ko"&&(Fi||_!=="onCompositionStart"?_==="onCompositionEnd"&&Fi&&(T=c1()):(ss=f,Im="value"in ss?ss.value:ss.textContent,Fi=!0)),D=Eu(u,_),0<D.length&&(_=new Lv(_,t,null,n,f),p.push({event:_,listeners:D}),T?_.data=T:(T=h1(n),T!==null&&(_.data=T)))),(T=Rk?Ak(t,n):Pk(t,n))&&(u=Eu(u,"onBeforeInput"),0<u.length&&(f=new Lv("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:u}),f.data=T))}S1(p,e)})}function ul(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Eu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=rl(t,n),i!=null&&r.unshift(ul(t,i,s)),i=rl(t,e),i!=null&&r.push(ul(t,i,s))),t=t.return}return r}function Pi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=rl(n,i),c!=null&&o.unshift(ul(n,c,a))):s||(c=rl(n,i),c!=null&&o.push(ul(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Gk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function Kv(t){return(typeof t=="string"?t:""+t).replace(Gk,`
`).replace(qk,"")}function Ac(t,e,n){if(e=Kv(e),Kv(t)!==e&&n)throw Error(z(425))}function Cu(){}var Wf=null,Gf=null;function qf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kf=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,Yv=typeof Promise=="function"?Promise:void 0,Yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Yv<"u"?function(t){return Yv.resolve(null).then(t).catch(Qk)}:Kf;function Qk(t){setTimeout(function(){throw t})}function zh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ol(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ol(e)}function cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ho=Math.random().toString(36).slice(2),$n="__reactFiber$"+Ho,dl="__reactProps$"+Ho,wr="__reactContainer$"+Ho,Yf="__reactEvents$"+Ho,Xk="__reactListeners$"+Ho,Jk="__reactHandles$"+Ho;function zs(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[wr]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Qv(t);t!==null;){if(n=t[$n])return n;t=Qv(t)}return e}t=n,n=t.parentNode}return null}function Fl(t){return t=t[$n]||t[wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $i(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function wd(t){return t[dl]||null}var Qf=[],Hi=-1;function Is(t){return{current:t}}function Ie(t){0>Hi||(t.current=Qf[Hi],Qf[Hi]=null,Hi--)}function xe(t,e){Hi++,Qf[Hi]=t.current,t.current=e}var _s={},dt=Is(_s),jt=Is(!1),ti=_s;function bo(t,e){var n=t.type.contextTypes;if(!n)return _s;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Lt(t){return t=t.childContextTypes,t!=null}function Su(){Ie(jt),Ie(dt)}function Xv(t,e,n){if(dt.current!==_s)throw Error(z(168));xe(dt,e),xe(jt,n)}function T1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,MN(t)||"Unknown",s));return Pe({},n,r)}function bu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||_s,ti=dt.current,xe(dt,t),xe(jt,jt.current),!0}function Jv(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=T1(t,e,ti),r.__reactInternalMemoizedMergedChildContext=t,Ie(jt),Ie(dt),xe(dt,t)):Ie(jt),xe(jt,n)}var sr=null,_d=!1,$h=!1;function I1(t){sr===null?sr=[t]:sr.push(t)}function Zk(t){_d=!0,I1(t)}function Ns(){if(!$h&&sr!==null){$h=!0;var t=0,e=ye;try{var n=sr;for(ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sr=null,_d=!1}catch(s){throw sr!==null&&(sr=sr.slice(t+1)),Jx(Cm,Ns),s}finally{ye=e,$h=!1}}return null}var Bi=[],Vi=0,Tu=null,Iu=0,en=[],tn=0,ni=null,lr=1,cr="";function Ms(t,e){Bi[Vi++]=Iu,Bi[Vi++]=Tu,Tu=t,Iu=e}function N1(t,e,n){en[tn++]=lr,en[tn++]=cr,en[tn++]=ni,ni=t;var r=lr;t=cr;var s=32-Tn(r)-1;r&=~(1<<s),n+=1;var i=32-Tn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,lr=1<<32-Tn(e)+s|n<<s|r,cr=i+t}else lr=1<<i|n<<s|r,cr=t}function Pm(t){t.return!==null&&(Ms(t,1),N1(t,1,0))}function Om(t){for(;t===Tu;)Tu=Bi[--Vi],Bi[Vi]=null,Iu=Bi[--Vi],Bi[Vi]=null;for(;t===ni;)ni=en[--tn],en[tn]=null,cr=en[--tn],en[tn]=null,lr=en[--tn],en[tn]=null}var Bt=null,Ht=null,ke=!1,_n=null;function k1(t,e){var n=nn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Zv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,Ht=cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,Ht=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ni!==null?{id:lr,overflow:cr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,Ht=null,!0):!1;default:return!1}}function Xf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jf(t){if(ke){var e=Ht;if(e){var n=e;if(!Zv(t,e)){if(Xf(t))throw Error(z(418));e=cs(n.nextSibling);var r=Bt;e&&Zv(t,e)?k1(r,n):(t.flags=t.flags&-4097|2,ke=!1,Bt=t)}}else{if(Xf(t))throw Error(z(418));t.flags=t.flags&-4097|2,ke=!1,Bt=t}}}function e0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Pc(t){if(t!==Bt)return!1;if(!ke)return e0(t),ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qf(t.type,t.memoizedProps)),e&&(e=Ht)){if(Xf(t))throw R1(),Error(z(418));for(;e;)k1(t,e),e=cs(e.nextSibling)}if(e0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ht=cs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ht=null}}else Ht=Bt?cs(t.stateNode.nextSibling):null;return!0}function R1(){for(var t=Ht;t;)t=cs(t.nextSibling)}function To(){Ht=Bt=null,ke=!1}function jm(t){_n===null?_n=[t]:_n.push(t)}var e2=Ir.ReactCurrentBatchConfig;function wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Oc(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function t0(t){var e=t._init;return e(t._payload)}function A1(t){function e(E,y){if(t){var b=E.deletions;b===null?(E.deletions=[y],E.flags|=16):b.push(y)}}function n(E,y){if(!t)return null;for(;y!==null;)e(E,y),y=y.sibling;return null}function r(E,y){for(E=new Map;y!==null;)y.key!==null?E.set(y.key,y):E.set(y.index,y),y=y.sibling;return E}function s(E,y){return E=fs(E,y),E.index=0,E.sibling=null,E}function i(E,y,b){return E.index=b,t?(b=E.alternate,b!==null?(b=b.index,b<y?(E.flags|=2,y):b):(E.flags|=2,y)):(E.flags|=1048576,y)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,y,b,P){return y===null||y.tag!==6?(y=Kh(b,E.mode,P),y.return=E,y):(y=s(y,b),y.return=E,y)}function c(E,y,b,P){var L=b.type;return L===Di?f(E,y,b.props.children,P,b.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===$r&&t0(L)===y.type)?(P=s(y,b.props),P.ref=wa(E,y,b),P.return=E,P):(P=ru(b.type,b.key,b.props,null,E.mode,P),P.ref=wa(E,y,b),P.return=E,P)}function u(E,y,b,P){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Yh(b,E.mode,P),y.return=E,y):(y=s(y,b.children||[]),y.return=E,y)}function f(E,y,b,P,L){return y===null||y.tag!==7?(y=ei(b,E.mode,P,L),y.return=E,y):(y=s(y,b),y.return=E,y)}function p(E,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Kh(""+y,E.mode,b),y.return=E,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ec:return b=ru(y.type,y.key,y.props,null,E.mode,b),b.ref=wa(E,null,y),b.return=E,b;case Mi:return y=Yh(y,E.mode,b),y.return=E,y;case $r:var P=y._init;return p(E,P(y._payload),b)}if(ka(y)||pa(y))return y=ei(y,E.mode,b,null),y.return=E,y;Oc(E,y)}return null}function m(E,y,b,P){var L=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:a(E,y,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:return b.key===L?c(E,y,b,P):null;case Mi:return b.key===L?u(E,y,b,P):null;case $r:return L=b._init,m(E,y,L(b._payload),P)}if(ka(b)||pa(b))return L!==null?null:f(E,y,b,P,null);Oc(E,b)}return null}function v(E,y,b,P,L){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(b)||null,a(y,E,""+P,L);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ec:return E=E.get(P.key===null?b:P.key)||null,c(y,E,P,L);case Mi:return E=E.get(P.key===null?b:P.key)||null,u(y,E,P,L);case $r:var D=P._init;return v(E,y,b,D(P._payload),L)}if(ka(P)||pa(P))return E=E.get(b)||null,f(y,E,P,L,null);Oc(y,P)}return null}function x(E,y,b,P){for(var L=null,D=null,T=y,_=y=0,S=null;T!==null&&_<b.length;_++){T.index>_?(S=T,T=null):S=T.sibling;var k=m(E,T,b[_],P);if(k===null){T===null&&(T=S);break}t&&T&&k.alternate===null&&e(E,T),y=i(k,y,_),D===null?L=k:D.sibling=k,D=k,T=S}if(_===b.length)return n(E,T),ke&&Ms(E,_),L;if(T===null){for(;_<b.length;_++)T=p(E,b[_],P),T!==null&&(y=i(T,y,_),D===null?L=T:D.sibling=T,D=T);return ke&&Ms(E,_),L}for(T=r(E,T);_<b.length;_++)S=v(T,E,_,b[_],P),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?_:S.key),y=i(S,y,_),D===null?L=S:D.sibling=S,D=S);return t&&T.forEach(function(A){return e(E,A)}),ke&&Ms(E,_),L}function w(E,y,b,P){var L=pa(b);if(typeof L!="function")throw Error(z(150));if(b=L.call(b),b==null)throw Error(z(151));for(var D=L=null,T=y,_=y=0,S=null,k=b.next();T!==null&&!k.done;_++,k=b.next()){T.index>_?(S=T,T=null):S=T.sibling;var A=m(E,T,k.value,P);if(A===null){T===null&&(T=S);break}t&&T&&A.alternate===null&&e(E,T),y=i(A,y,_),D===null?L=A:D.sibling=A,D=A,T=S}if(k.done)return n(E,T),ke&&Ms(E,_),L;if(T===null){for(;!k.done;_++,k=b.next())k=p(E,k.value,P),k!==null&&(y=i(k,y,_),D===null?L=k:D.sibling=k,D=k);return ke&&Ms(E,_),L}for(T=r(E,T);!k.done;_++,k=b.next())k=v(T,E,_,k.value,P),k!==null&&(t&&k.alternate!==null&&T.delete(k.key===null?_:k.key),y=i(k,y,_),D===null?L=k:D.sibling=k,D=k);return t&&T.forEach(function(O){return e(E,O)}),ke&&Ms(E,_),L}function I(E,y,b,P){if(typeof b=="object"&&b!==null&&b.type===Di&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ec:e:{for(var L=b.key,D=y;D!==null;){if(D.key===L){if(L=b.type,L===Di){if(D.tag===7){n(E,D.sibling),y=s(D,b.props.children),y.return=E,E=y;break e}}else if(D.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===$r&&t0(L)===D.type){n(E,D.sibling),y=s(D,b.props),y.ref=wa(E,D,b),y.return=E,E=y;break e}n(E,D);break}else e(E,D);D=D.sibling}b.type===Di?(y=ei(b.props.children,E.mode,P,b.key),y.return=E,E=y):(P=ru(b.type,b.key,b.props,null,E.mode,P),P.ref=wa(E,y,b),P.return=E,E=P)}return o(E);case Mi:e:{for(D=b.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(E,y.sibling),y=s(y,b.children||[]),y.return=E,E=y;break e}else{n(E,y);break}else e(E,y);y=y.sibling}y=Yh(b,E.mode,P),y.return=E,E=y}return o(E);case $r:return D=b._init,I(E,y,D(b._payload),P)}if(ka(b))return x(E,y,b,P);if(pa(b))return w(E,y,b,P);Oc(E,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(E,y.sibling),y=s(y,b),y.return=E,E=y):(n(E,y),y=Kh(b,E.mode,P),y.return=E,E=y),o(E)):n(E,y)}return I}var Io=A1(!0),P1=A1(!1),Nu=Is(null),ku=null,Wi=null,Lm=null;function Mm(){Lm=Wi=ku=null}function Dm(t){var e=Nu.current;Ie(Nu),t._currentValue=e}function Zf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function eo(t,e){ku=t,Lm=Wi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Lm!==t)if(t={context:t,memoizedValue:e,next:null},Wi===null){if(ku===null)throw Error(z(308));Wi=t,ku.dependencies={lanes:0,firstContext:t}}else Wi=Wi.next=t;return e}var $s=null;function Fm(t){$s===null?$s=[t]:$s.push(t)}function O1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Fm(e)):(n.next=s.next,s.next=n),e.interleaved=n,_r(t,r)}function _r(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function Um(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,he&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,_r(t,n)}return s=r.interleaved,s===null?(e.next=e,Fm(r)):(e.next=s.next,s.next=e),r.interleaved=e,_r(t,n)}function Xc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}function n0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ru(t,e,n,r){var s=t.updateQueue;Hr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(i!==null){var p=s.baseState;o=0,f=u=c=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,w=a;switch(m=e,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){p=x.call(v,p,m);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(v,p,m):x,m==null)break e;p=Pe({},p,m);break e;case 2:Hr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=v,c=p):f=f.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(c=p),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);si|=o,t.lanes=o,t.memoizedState=p}}function r0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Ul={},Vn=Is(Ul),hl=Is(Ul),fl=Is(Ul);function Hs(t){if(t===Ul)throw Error(z(174));return t}function zm(t,e){switch(xe(fl,e),xe(hl,t),xe(Vn,Ul),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Of(e,t)}Ie(Vn),xe(Vn,e)}function No(){Ie(Vn),Ie(hl),Ie(fl)}function L1(t){Hs(fl.current);var e=Hs(Vn.current),n=Of(e,t.type);e!==n&&(xe(hl,t),xe(Vn,n))}function $m(t){hl.current===t&&(Ie(Vn),Ie(hl))}var Re=Is(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hh=[];function Hm(){for(var t=0;t<Hh.length;t++)Hh[t]._workInProgressVersionPrimary=null;Hh.length=0}var Jc=Ir.ReactCurrentDispatcher,Bh=Ir.ReactCurrentBatchConfig,ri=0,Ae=null,Ue=null,Ve=null,Pu=!1,$a=!1,pl=0,t2=0;function rt(){throw Error(z(321))}function Bm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Rn(t[n],e[n]))return!1;return!0}function Vm(t,e,n,r,s,i){if(ri=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Jc.current=t===null||t.memoizedState===null?i2:o2,t=n(r,s),$a){i=0;do{if($a=!1,pl=0,25<=i)throw Error(z(301));i+=1,Ve=Ue=null,e.updateQueue=null,Jc.current=a2,t=n(r,s)}while($a)}if(Jc.current=Ou,e=Ue!==null&&Ue.next!==null,ri=0,Ve=Ue=Ae=null,Pu=!1,e)throw Error(z(300));return t}function Wm(){var t=pl!==0;return pl=0,t}function Mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ae.memoizedState=Ve=t:Ve=Ve.next=t,Ve}function ln(){if(Ue===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Ve===null?Ae.memoizedState:Ve.next;if(e!==null)Ve=e,Ue=t;else{if(t===null)throw Error(z(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Ve===null?Ae.memoizedState=Ve=t:Ve=Ve.next=t}return Ve}function ml(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ue,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var f=u.lane;if((ri&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=p,o=r):c=c.next=p,Ae.lanes|=f,si|=f}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Rn(r,e.memoizedState)||(Pt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,si|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wh(t){var e=ln(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Rn(i,e.memoizedState)||(Pt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function M1(){}function D1(t,e){var n=Ae,r=ln(),s=e(),i=!Rn(r.memoizedState,s);if(i&&(r.memoizedState=s,Pt=!0),r=r.queue,Gm(z1.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ve!==null&&Ve.memoizedState.tag&1){if(n.flags|=2048,gl(9,U1.bind(null,n,r,s,e),void 0,null),Ke===null)throw Error(z(349));ri&30||F1(n,e,s)}return s}function F1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function U1(t,e,n,r){e.value=n,e.getSnapshot=r,$1(e)&&H1(t)}function z1(t,e,n){return n(function(){$1(e)&&H1(t)})}function $1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Rn(t,n)}catch{return!0}}function H1(t){var e=_r(t,1);e!==null&&In(e,t,1,-1)}function s0(t){var e=Mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:t},e.queue=t,t=t.dispatch=s2.bind(null,Ae,t),[e.memoizedState,t]}function gl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function B1(){return ln().memoizedState}function Zc(t,e,n,r){var s=Mn();Ae.flags|=t,s.memoizedState=gl(1|e,n,void 0,r===void 0?null:r)}function xd(t,e,n,r){var s=ln();r=r===void 0?null:r;var i=void 0;if(Ue!==null){var o=Ue.memoizedState;if(i=o.destroy,r!==null&&Bm(r,o.deps)){s.memoizedState=gl(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=gl(1|e,n,i,r)}function i0(t,e){return Zc(8390656,8,t,e)}function Gm(t,e){return xd(2048,8,t,e)}function V1(t,e){return xd(4,2,t,e)}function W1(t,e){return xd(4,4,t,e)}function G1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function q1(t,e,n){return n=n!=null?n.concat([t]):null,xd(4,4,G1.bind(null,e,t),n)}function qm(){}function K1(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Y1(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Bm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q1(t,e,n){return ri&21?(Rn(n,e)||(n=t1(),Ae.lanes|=n,si|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pt=!0),t.memoizedState=n)}function n2(t,e){var n=ye;ye=n!==0&&4>n?n:4,t(!0);var r=Bh.transition;Bh.transition={};try{t(!1),e()}finally{ye=n,Bh.transition=r}}function X1(){return ln().memoizedState}function r2(t,e,n){var r=hs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},J1(t))Z1(e,n);else if(n=O1(t,e,n,r),n!==null){var s=wt();In(n,t,r,s),eE(n,e,r)}}function s2(t,e,n){var r=hs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(J1(t))Z1(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Rn(a,o)){var c=e.interleaved;c===null?(s.next=s,Fm(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=O1(t,e,s,r),n!==null&&(s=wt(),In(n,t,r,s),eE(n,e,r))}}function J1(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function Z1(t,e){$a=Pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sm(t,n)}}var Ou={readContext:an,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useInsertionEffect:rt,useLayoutEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useMutableSource:rt,useSyncExternalStore:rt,useId:rt,unstable_isNewReconciler:!1},i2={readContext:an,useCallback:function(t,e){return Mn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:i0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Zc(4194308,4,G1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Zc(4,2,t,e)},useMemo:function(t,e){var n=Mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r2.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=Mn();return t={current:t},e.memoizedState=t},useState:s0,useDebugValue:qm,useDeferredValue:function(t){return Mn().memoizedState=t},useTransition:function(){var t=s0(!1),e=t[0];return t=n2.bind(null,t[1]),Mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=Mn();if(ke){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Ke===null)throw Error(z(349));ri&30||F1(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,i0(z1.bind(null,r,i,t),[t]),r.flags|=2048,gl(9,U1.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mn(),e=Ke.identifierPrefix;if(ke){var n=cr,r=lr;n=(r&~(1<<32-Tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},o2={readContext:an,useCallback:K1,useContext:an,useEffect:Gm,useImperativeHandle:q1,useInsertionEffect:V1,useLayoutEffect:W1,useMemo:Y1,useReducer:Vh,useRef:B1,useState:function(){return Vh(ml)},useDebugValue:qm,useDeferredValue:function(t){var e=ln();return Q1(e,Ue.memoizedState,t)},useTransition:function(){var t=Vh(ml)[0],e=ln().memoizedState;return[t,e]},useMutableSource:M1,useSyncExternalStore:D1,useId:X1,unstable_isNewReconciler:!1},a2={readContext:an,useCallback:K1,useContext:an,useEffect:Gm,useImperativeHandle:q1,useInsertionEffect:V1,useLayoutEffect:W1,useMemo:Y1,useReducer:Wh,useRef:B1,useState:function(){return Wh(ml)},useDebugValue:qm,useDeferredValue:function(t){var e=ln();return Ue===null?e.memoizedState=t:Q1(e,Ue.memoizedState,t)},useTransition:function(){var t=Wh(ml)[0],e=ln().memoizedState;return[t,e]},useMutableSource:M1,useSyncExternalStore:D1,useId:X1,unstable_isNewReconciler:!1};function yn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ep(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ed={isMounted:function(t){return(t=t._reactInternals)?wi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),s=hs(t),i=pr(r,s);i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(In(e,t,s,r),Xc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),s=hs(t),i=pr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=us(t,i,s),e!==null&&(In(e,t,s,r),Xc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=hs(t),s=pr(n,r);s.tag=2,e!=null&&(s.callback=e),e=us(t,s,r),e!==null&&(In(e,t,r,n),Xc(e,t,r))}};function o0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ll(n,r)||!ll(s,i):!0}function tE(t,e,n){var r=!1,s=_s,i=e.contextType;return typeof i=="object"&&i!==null?i=an(i):(s=Lt(e)?ti:dt.current,r=e.contextTypes,i=(r=r!=null)?bo(t,s):_s),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ed,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function a0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ed.enqueueReplaceState(e,e.state,null)}function tp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Um(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=an(i):(i=Lt(e)?ti:dt.current,s.context=bo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ep(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ed.enqueueReplaceState(s,s.state,null),Ru(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e){try{var n="",r=e;do n+=LN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Gh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l2=typeof WeakMap=="function"?WeakMap:Map;function nE(t,e,n){n=pr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lu||(Lu=!0,hp=r),np(t,e)},n}function rE(t,e,n){n=pr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){np(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){np(t,e),typeof r!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function l0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=E2.bind(null,t,e,n),e.then(t,t))}function c0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function u0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=pr(-1,1),e.tag=2,us(n,e,1))),n.lanes|=1),t)}var c2=Ir.ReactCurrentOwner,Pt=!1;function yt(t,e,n,r){e.child=t===null?P1(e,null,n,r):Io(e,t.child,n,r)}function d0(t,e,n,r,s){n=n.render;var i=e.ref;return eo(e,s),r=Vm(t,e,n,r,i,s),n=Wm(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(ke&&n&&Pm(e),e.flags|=1,yt(t,e,r,s),e.child)}function h0(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!tg(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,sE(t,e,i,r,s)):(t=ru(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ll,n(o,r)&&t.ref===e.ref)return xr(t,e,s)}return e.flags|=1,t=fs(i,r),t.ref=e.ref,t.return=e,e.child=t}function sE(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ll(i,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,xr(t,e,s)}return rp(t,e,n,r,s)}function iE(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xe(qi,zt),zt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xe(qi,zt),zt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,xe(qi,zt),zt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,xe(qi,zt),zt|=r;return yt(t,e,s,n),e.child}function oE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rp(t,e,n,r,s){var i=Lt(n)?ti:dt.current;return i=bo(e,i),eo(e,s),n=Vm(t,e,n,r,i,s),r=Wm(),t!==null&&!Pt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,xr(t,e,s)):(ke&&r&&Pm(e),e.flags|=1,yt(t,e,n,s),e.child)}function f0(t,e,n,r,s){if(Lt(n)){var i=!0;bu(e)}else i=!1;if(eo(e,s),e.stateNode===null)eu(t,e),tE(e,n,r),tp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=an(u):(u=Lt(n)?ti:dt.current,u=bo(e,u));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&a0(e,o,r,u),Hr=!1;var m=e.memoizedState;o.state=m,Ru(e,r,o,s),c=e.memoizedState,a!==r||m!==c||jt.current||Hr?(typeof f=="function"&&(ep(e,n,f,r),c=e.memoizedState),(a=Hr||o0(e,n,a,r,m,c,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,j1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:yn(e.type,a),o.props=u,p=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=an(c):(c=Lt(n)?ti:dt.current,c=bo(e,c));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==c)&&a0(e,o,r,c),Hr=!1,m=e.memoizedState,o.state=m,Ru(e,r,o,s);var x=e.memoizedState;a!==p||m!==x||jt.current||Hr?(typeof v=="function"&&(ep(e,n,v,r),x=e.memoizedState),(u=Hr||o0(e,n,u,r,m,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return sp(t,e,n,r,i,s)}function sp(t,e,n,r,s,i){oE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Jv(e,n,!1),xr(t,e,i);r=e.stateNode,c2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Io(e,t.child,null,i),e.child=Io(e,null,a,i)):yt(t,e,a,i),e.memoizedState=r.state,s&&Jv(e,n,!0),e.child}function aE(t){var e=t.stateNode;e.pendingContext?Xv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xv(t,e.context,!1),zm(t,e.containerInfo)}function p0(t,e,n,r,s){return To(),jm(s),e.flags|=256,yt(t,e,n,r),e.child}var ip={dehydrated:null,treeContext:null,retryLane:0};function op(t){return{baseLanes:t,cachePool:null,transitions:null}}function lE(t,e,n){var r=e.pendingProps,s=Re.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),xe(Re,s&1),t===null)return Jf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=bd(o,r,0,null),t=ei(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=op(n),e.memoizedState=ip,t):Km(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return u2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=fs(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=fs(a,i):(i=ei(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?op(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ip,r}return i=t.child,t=i.sibling,r=fs(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Km(t,e){return e=bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jc(t,e,n,r){return r!==null&&jm(r),Io(e,t.child,null,n),t=Km(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function u2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Gh(Error(z(422))),jc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=bd({mode:"visible",children:r.children},s,0,null),i=ei(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Io(e,t.child,null,o),e.child.memoizedState=op(o),e.memoizedState=ip,i);if(!(e.mode&1))return jc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Gh(i,r,void 0),jc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Pt||a){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_r(t,s),In(r,t,s,-1))}return eg(),r=Gh(Error(z(421))),jc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=C2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ht=cs(s.nextSibling),Bt=e,ke=!0,_n=null,t!==null&&(en[tn++]=lr,en[tn++]=cr,en[tn++]=ni,lr=t.id,cr=t.overflow,ni=e),e=Km(e,r.children),e.flags|=4096,e)}function m0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zf(t.return,e,n)}function qh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cE(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m0(t,n,e);else if(t.tag===19)m0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xe(Re,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Au(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qh(e,!0,n,null,i);break;case"together":qh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function eu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),si|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=fs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=fs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function d2(t,e,n){switch(e.tag){case 3:aE(e),To();break;case 5:L1(e);break;case 1:Lt(e.type)&&bu(e);break;case 4:zm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;xe(Nu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xe(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?lE(t,e,n):(xe(Re,Re.current&1),t=xr(t,e,n),t!==null?t.sibling:null);xe(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cE(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,iE(t,e,n)}return xr(t,e,n)}var uE,ap,dE,hE;uE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ap=function(){};dE=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Hs(Vn.current);var i=null;switch(n){case"input":s=kf(t,s),r=kf(t,r),i=[];break;case"select":s=Pe({},s,{value:void 0}),r=Pe({},r,{value:void 0}),i=[];break;case"textarea":s=Pf(t,s),r=Pf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Cu)}jf(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(tl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(tl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Se("scroll",t),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hE=function(t,e,n,r){n!==r&&(e.flags|=4)};function _a(t,e){if(!ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function st(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h2(t,e,n){var r=e.pendingProps;switch(Om(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return st(e),null;case 1:return Lt(e.type)&&Su(),st(e),null;case 3:return r=e.stateNode,No(),Ie(jt),Ie(dt),Hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Pc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(mp(_n),_n=null))),ap(t,e),st(e),null;case 5:$m(e);var s=Hs(fl.current);if(n=e.type,t!==null&&e.stateNode!=null)dE(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return st(e),null}if(t=Hs(Vn.current),Pc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[$n]=e,r[dl]=i,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(s=0;s<Aa.length;s++)Se(Aa[s],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Sv(r,i),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Se("invalid",r);break;case"textarea":Tv(r,i),Se("invalid",r)}jf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ac(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ac(r.textContent,a,t),s=["children",""+a]):tl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Cc(r),bv(r,i,!0);break;case"textarea":Cc(r),Iv(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Cu)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$n]=e,t[dl]=r,uE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lf(n,r),n){case"dialog":Se("cancel",t),Se("close",t),s=r;break;case"iframe":case"object":case"embed":Se("load",t),s=r;break;case"video":case"audio":for(s=0;s<Aa.length;s++)Se(Aa[s],t);s=r;break;case"source":Se("error",t),s=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),s=r;break;case"details":Se("toggle",t),s=r;break;case"input":Sv(t,r),s=kf(t,r),Se("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Pe({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Tv(t,r),s=Pf(t,r),Se("invalid",t);break;default:s=r}jf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Bx(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&$x(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&nl(t,c):typeof c=="number"&&nl(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(tl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Se("scroll",t):c!=null&&vm(t,i,c,o))}switch(n){case"input":Cc(t),bv(t,r,!1);break;case"textarea":Cc(t),Iv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ws(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qi(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Cu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return st(e),null;case 6:if(t&&e.stateNode!=null)hE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Hs(fl.current),Hs(Vn.current),Pc(e)){if(r=e.stateNode,n=e.memoizedProps,r[$n]=e,(i=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:Ac(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ac(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=e,e.stateNode=r}return st(e),null;case 13:if(Ie(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ke&&Ht!==null&&e.mode&1&&!(e.flags&128))R1(),To(),e.flags|=98560,i=!1;else if(i=Pc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[$n]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;st(e),i=!1}else _n!==null&&(mp(_n),_n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?$e===0&&($e=3):eg())),e.updateQueue!==null&&(e.flags|=4),st(e),null);case 4:return No(),ap(t,e),t===null&&cl(e.stateNode.containerInfo),st(e),null;case 10:return Dm(e.type._context),st(e),null;case 17:return Lt(e.type)&&Su(),st(e),null;case 19:if(Ie(Re),i=e.memoizedState,i===null)return st(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_a(i,!1);else{if($e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Au(t),o!==null){for(e.flags|=128,_a(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xe(Re,Re.current&1|2),e.child}t=t.sibling}i.tail!==null&&Me()>Ro&&(e.flags|=128,r=!0,_a(i,!1),e.lanes=4194304)}else{if(!r)if(t=Au(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_a(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ke)return st(e),null}else 2*Me()-i.renderingStartTime>Ro&&n!==1073741824&&(e.flags|=128,r=!0,_a(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Me(),e.sibling=null,n=Re.current,xe(Re,r?n&1|2:n&1),e):(st(e),null);case 22:case 23:return Zm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zt&1073741824&&(st(e),e.subtreeFlags&6&&(e.flags|=8192)):st(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function f2(t,e){switch(Om(e),e.tag){case 1:return Lt(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return No(),Ie(jt),Ie(dt),Hm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $m(e),null;case 13:if(Ie(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Re),null;case 4:return No(),null;case 10:return Dm(e.type._context),null;case 22:case 23:return Zm(),null;case 24:return null;default:return null}}var Lc=!1,ot=!1,p2=typeof WeakSet=="function"?WeakSet:Set,G=null;function Gi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function lp(t,e,n){try{n()}catch(r){je(t,e,r)}}var g0=!1;function m2(t,e){if(Wf=_u,t=y1(),Am(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==n||s!==0&&p.nodeType!==3||(a=o+s),p!==i||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++u===s&&(a=o),m===i&&++f===r&&(c=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gf={focusedElem:t,selectionRange:n},_u=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,I=x.memoizedState,E=e.stateNode,y=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:yn(e.type,w),I);E.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(P){je(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return x=g0,g0=!1,x}function Ha(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&lp(e,n,i)}s=s.next}while(s!==r)}}function Cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fE(t){var e=t.alternate;e!==null&&(t.alternate=null,fE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[dl],delete e[Yf],delete e[Xk],delete e[Jk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pE(t){return t.tag===5||t.tag===3||t.tag===4}function y0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function up(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Cu));else if(r!==4&&(t=t.child,t!==null))for(up(t,e,n),t=t.sibling;t!==null;)up(t,e,n),t=t.sibling}function dp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dp(t,e,n),t=t.sibling;t!==null;)dp(t,e,n),t=t.sibling}var Qe=null,wn=!1;function Lr(t,e,n){for(n=n.child;n!==null;)mE(t,e,n),n=n.sibling}function mE(t,e,n){if(Bn&&typeof Bn.onCommitFiberUnmount=="function")try{Bn.onCommitFiberUnmount(md,n)}catch{}switch(n.tag){case 5:ot||Gi(n,e);case 6:var r=Qe,s=wn;Qe=null,Lr(t,e,n),Qe=r,wn=s,Qe!==null&&(wn?(t=Qe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qe.removeChild(n.stateNode));break;case 18:Qe!==null&&(wn?(t=Qe,n=n.stateNode,t.nodeType===8?zh(t.parentNode,n):t.nodeType===1&&zh(t,n),ol(t)):zh(Qe,n.stateNode));break;case 4:r=Qe,s=wn,Qe=n.stateNode.containerInfo,wn=!0,Lr(t,e,n),Qe=r,wn=s;break;case 0:case 11:case 14:case 15:if(!ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&lp(n,e,o),s=s.next}while(s!==r)}Lr(t,e,n);break;case 1:if(!ot&&(Gi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(ot=(r=ot)||n.memoizedState!==null,Lr(t,e,n),ot=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function v0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p2),e.forEach(function(r){var s=S2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qe=a.stateNode,wn=!1;break e;case 3:Qe=a.stateNode.containerInfo,wn=!0;break e;case 4:Qe=a.stateNode.containerInfo,wn=!0;break e}a=a.return}if(Qe===null)throw Error(z(160));mE(i,o,s),Qe=null,wn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){je(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gE(e,t),e=e.sibling}function gE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gn(e,t),Ln(t),r&4){try{Ha(3,t,t.return),Cd(3,t)}catch(w){je(t,t.return,w)}try{Ha(5,t,t.return)}catch(w){je(t,t.return,w)}}break;case 1:gn(e,t),Ln(t),r&512&&n!==null&&Gi(n,n.return);break;case 5:if(gn(e,t),Ln(t),r&512&&n!==null&&Gi(n,n.return),t.flags&32){var s=t.stateNode;try{nl(s,"")}catch(w){je(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Fx(s,i),Lf(a,o);var u=Lf(a,i);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?Bx(s,p):f==="dangerouslySetInnerHTML"?$x(s,p):f==="children"?nl(s,p):vm(s,f,p,u)}switch(a){case"input":Rf(s,i);break;case"textarea":Ux(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Qi(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qi(s,!!i.multiple,i.defaultValue,!0):Qi(s,!!i.multiple,i.multiple?[]:"",!1))}s[dl]=i}catch(w){je(t,t.return,w)}}break;case 6:if(gn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){je(t,t.return,w)}}break;case 3:if(gn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ol(e.containerInfo)}catch(w){je(t,t.return,w)}break;case 4:gn(e,t),Ln(t);break;case 13:gn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Xm=Me())),r&4&&v0(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ot=(u=ot)||f,gn(e,t),ot=u):gn(e,t),Ln(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!f&&t.mode&1)for(G=t,f=t.child;f!==null;){for(p=G=f;G!==null;){switch(m=G,v=m.child,m.tag){case 0:case 11:case 14:case 15:Ha(4,m,m.return);break;case 1:Gi(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){je(r,n,w)}}break;case 5:Gi(m,m.return);break;case 22:if(m.memoizedState!==null){_0(p);continue}}v!==null?(v.return=m,G=v):_0(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Hx("display",o))}catch(w){je(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){je(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:gn(e,t),Ln(t),r&4&&v0(t);break;case 21:break;default:gn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pE(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(nl(s,""),r.flags&=-33);var i=y0(t);dp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=y0(t);up(t,a,o);break;default:throw Error(z(161))}}catch(c){je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g2(t,e,n){G=t,yE(t)}function yE(t,e,n){for(var r=(t.mode&1)!==0;G!==null;){var s=G,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lc;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ot;a=Lc;var u=ot;if(Lc=o,(ot=c)&&!u)for(G=s;G!==null;)o=G,c=o.child,o.tag===22&&o.memoizedState!==null?x0(s):c!==null?(c.return=o,G=c):x0(s);for(;i!==null;)G=i,yE(i),i=i.sibling;G=s,Lc=a,ot=u}w0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,G=i):w0(t)}}function w0(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ot||Cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ot)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&r0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}r0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&ol(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}ot||e.flags&512&&cp(e)}catch(m){je(e,e.return,m)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function _0(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function x0(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Cd(4,e)}catch(c){je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){je(e,s,c)}}var i=e.return;try{cp(e)}catch(c){je(e,i,c)}break;case 5:var o=e.return;try{cp(e)}catch(c){je(e,o,c)}}}catch(c){je(e,e.return,c)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var y2=Math.ceil,ju=Ir.ReactCurrentDispatcher,Ym=Ir.ReactCurrentOwner,sn=Ir.ReactCurrentBatchConfig,he=0,Ke=null,Fe=null,Je=0,zt=0,qi=Is(0),$e=0,yl=null,si=0,Sd=0,Qm=0,Ba=null,Nt=null,Xm=0,Ro=1/0,rr=null,Lu=!1,hp=null,ds=null,Mc=!1,is=null,Mu=0,Va=0,fp=null,tu=-1,nu=0;function wt(){return he&6?Me():tu!==-1?tu:tu=Me()}function hs(t){return t.mode&1?he&2&&Je!==0?Je&-Je:e2.transition!==null?(nu===0&&(nu=t1()),nu):(t=ye,t!==0||(t=window.event,t=t===void 0?16:l1(t.type)),t):1}function In(t,e,n,r){if(50<Va)throw Va=0,fp=null,Error(z(185));Ml(t,n,r),(!(he&2)||t!==Ke)&&(t===Ke&&(!(he&2)&&(Sd|=n),$e===4&&Wr(t,Je)),Mt(t,r),n===1&&he===0&&!(e.mode&1)&&(Ro=Me()+500,_d&&Ns()))}function Mt(t,e){var n=t.callbackNode;ek(t,e);var r=wu(t,t===Ke?Je:0);if(r===0)n!==null&&Rv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Rv(n),e===1)t.tag===0?Zk(E0.bind(null,t)):I1(E0.bind(null,t)),Yk(function(){!(he&6)&&Ns()}),n=null;else{switch(n1(r)){case 1:n=Cm;break;case 4:n=Zx;break;case 16:n=vu;break;case 536870912:n=e1;break;default:n=vu}n=bE(n,vE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vE(t,e){if(tu=-1,nu=0,he&6)throw Error(z(327));var n=t.callbackNode;if(to()&&t.callbackNode!==n)return null;var r=wu(t,t===Ke?Je:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Du(t,r);else{e=r;var s=he;he|=2;var i=_E();(Ke!==t||Je!==e)&&(rr=null,Ro=Me()+500,Zs(t,e));do try{_2();break}catch(a){wE(t,a)}while(!0);Mm(),ju.current=i,he=s,Fe!==null?e=0:(Ke=null,Je=0,e=$e)}if(e!==0){if(e===2&&(s=zf(t),s!==0&&(r=s,e=pp(t,s))),e===1)throw n=yl,Zs(t,0),Wr(t,r),Mt(t,Me()),n;if(e===6)Wr(t,r);else{if(s=t.current.alternate,!(r&30)&&!v2(s)&&(e=Du(t,r),e===2&&(i=zf(t),i!==0&&(r=i,e=pp(t,i))),e===1))throw n=yl,Zs(t,0),Wr(t,r),Mt(t,Me()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:Ds(t,Nt,rr);break;case 3:if(Wr(t,r),(r&130023424)===r&&(e=Xm+500-Me(),10<e)){if(wu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Kf(Ds.bind(null,t,Nt,rr),e);break}Ds(t,Nt,rr);break;case 4:if(Wr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Tn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y2(r/1960))-r,10<r){t.timeoutHandle=Kf(Ds.bind(null,t,Nt,rr),r);break}Ds(t,Nt,rr);break;case 5:Ds(t,Nt,rr);break;default:throw Error(z(329))}}}return Mt(t,Me()),t.callbackNode===n?vE.bind(null,t):null}function pp(t,e){var n=Ba;return t.current.memoizedState.isDehydrated&&(Zs(t,e).flags|=256),t=Du(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&mp(e)),t}function mp(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function v2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Rn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wr(t,e){for(e&=~Qm,e&=~Sd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Tn(e),r=1<<n;t[n]=-1,e&=~r}}function E0(t){if(he&6)throw Error(z(327));to();var e=wu(t,0);if(!(e&1))return Mt(t,Me()),null;var n=Du(t,e);if(t.tag!==0&&n===2){var r=zf(t);r!==0&&(e=r,n=pp(t,r))}if(n===1)throw n=yl,Zs(t,0),Wr(t,e),Mt(t,Me()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,Nt,rr),Mt(t,Me()),null}function Jm(t,e){var n=he;he|=1;try{return t(e)}finally{he=n,he===0&&(Ro=Me()+500,_d&&Ns())}}function ii(t){is!==null&&is.tag===0&&!(he&6)&&to();var e=he;he|=1;var n=sn.transition,r=ye;try{if(sn.transition=null,ye=1,t)return t()}finally{ye=r,sn.transition=n,he=e,!(he&6)&&Ns()}}function Zm(){zt=qi.current,Ie(qi)}function Zs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Kk(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Om(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:No(),Ie(jt),Ie(dt),Hm();break;case 5:$m(r);break;case 4:No();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:Dm(r.type._context);break;case 22:case 23:Zm()}n=n.return}if(Ke=t,Fe=t=fs(t.current,null),Je=zt=e,$e=0,yl=null,Qm=Sd=si=0,Nt=Ba=null,$s!==null){for(e=0;e<$s.length;e++)if(n=$s[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}$s=null}return t}function wE(t,e){do{var n=Fe;try{if(Mm(),Jc.current=Ou,Pu){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Pu=!1}if(ri=0,Ve=Ue=Ae=null,$a=!1,pl=0,Ym.current=null,n===null||n.return===null){$e=1,yl=e,Fe=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Je,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=c0(o);if(v!==null){v.flags&=-257,u0(v,o,a,i,e),v.mode&1&&l0(i,u,e),e=v,c=u;var x=e.updateQueue;if(x===null){var w=new Set;w.add(c),e.updateQueue=w}else x.add(c);break e}else{if(!(e&1)){l0(i,u,e),eg();break e}c=Error(z(426))}}else if(ke&&a.mode&1){var I=c0(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),u0(I,o,a,i,e),jm(ko(c,a));break e}}i=c=ko(c,a),$e!==4&&($e=2),Ba===null?Ba=[i]:Ba.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=nE(i,c,e);n0(i,E);break e;case 1:a=c;var y=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ds===null||!ds.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var P=rE(i,a,e);n0(i,P);break e}}i=i.return}while(i!==null)}EE(n)}catch(L){e=L,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function _E(){var t=ju.current;return ju.current=Ou,t===null?Ou:t}function eg(){($e===0||$e===3||$e===2)&&($e=4),Ke===null||!(si&268435455)&&!(Sd&268435455)||Wr(Ke,Je)}function Du(t,e){var n=he;he|=2;var r=_E();(Ke!==t||Je!==e)&&(rr=null,Zs(t,e));do try{w2();break}catch(s){wE(t,s)}while(!0);if(Mm(),he=n,ju.current=r,Fe!==null)throw Error(z(261));return Ke=null,Je=0,$e}function w2(){for(;Fe!==null;)xE(Fe)}function _2(){for(;Fe!==null&&!WN();)xE(Fe)}function xE(t){var e=SE(t.alternate,t,zt);t.memoizedProps=t.pendingProps,e===null?EE(t):Fe=e,Ym.current=null}function EE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f2(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$e=6,Fe=null;return}}else if(n=h2(n,e,zt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);$e===0&&($e=5)}function Ds(t,e,n){var r=ye,s=sn.transition;try{sn.transition=null,ye=1,x2(t,e,n,r)}finally{sn.transition=s,ye=r}return null}function x2(t,e,n,r){do to();while(is!==null);if(he&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(tk(t,i),t===Ke&&(Fe=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mc||(Mc=!0,bE(vu,function(){return to(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=sn.transition,sn.transition=null;var o=ye;ye=1;var a=he;he|=4,Ym.current=null,m2(t,n),gE(n,t),$k(Gf),_u=!!Wf,Gf=Wf=null,t.current=n,g2(n),GN(),he=a,ye=o,sn.transition=i}else t.current=n;if(Mc&&(Mc=!1,is=t,Mu=s),i=t.pendingLanes,i===0&&(ds=null),YN(n.stateNode),Mt(t,Me()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Lu)throw Lu=!1,t=hp,hp=null,t;return Mu&1&&t.tag!==0&&to(),i=t.pendingLanes,i&1?t===fp?Va++:(Va=0,fp=t):Va=0,Ns(),null}function to(){if(is!==null){var t=n1(Mu),e=sn.transition,n=ye;try{if(sn.transition=null,ye=16>t?16:t,is===null)var r=!1;else{if(t=is,is=null,Mu=0,he&6)throw Error(z(331));var s=he;for(he|=4,G=t.current;G!==null;){var i=G,o=i.child;if(G.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(G=u;G!==null;){var f=G;switch(f.tag){case 0:case 11:case 15:Ha(8,f,i)}var p=f.child;if(p!==null)p.return=f,G=p;else for(;G!==null;){f=G;var m=f.sibling,v=f.return;if(fE(f),f===u){G=null;break}if(m!==null){m.return=v,G=m;break}G=v}}}var x=i.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var I=w.sibling;w.sibling=null,w=I}while(w!==null)}}G=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,G=o;else e:for(;G!==null;){if(i=G,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ha(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,G=E;break e}G=i.return}}var y=t.current;for(G=y;G!==null;){o=G;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,G=b;else e:for(o=y;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Cd(9,a)}}catch(L){je(a,a.return,L)}if(a===o){G=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,G=P;break e}G=a.return}}if(he=s,Ns(),Bn&&typeof Bn.onPostCommitFiberRoot=="function")try{Bn.onPostCommitFiberRoot(md,t)}catch{}r=!0}return r}finally{ye=n,sn.transition=e}}return!1}function C0(t,e,n){e=ko(n,e),e=nE(t,e,1),t=us(t,e,1),e=wt(),t!==null&&(Ml(t,1,e),Mt(t,e))}function je(t,e,n){if(t.tag===3)C0(t,t,n);else for(;e!==null;){if(e.tag===3){C0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=ko(n,t),t=rE(e,t,1),e=us(e,t,1),t=wt(),e!==null&&(Ml(e,1,t),Mt(e,t));break}}e=e.return}}function E2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(Je&n)===n&&($e===4||$e===3&&(Je&130023424)===Je&&500>Me()-Xm?Zs(t,0):Qm|=n),Mt(t,e)}function CE(t,e){e===0&&(t.mode&1?(e=Tc,Tc<<=1,!(Tc&130023424)&&(Tc=4194304)):e=1);var n=wt();t=_r(t,e),t!==null&&(Ml(t,e,n),Mt(t,n))}function C2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),CE(t,n)}function S2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),CE(t,n)}var SE;SE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||jt.current)Pt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pt=!1,d2(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,ke&&e.flags&1048576&&N1(e,Iu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;eu(t,e),t=e.pendingProps;var s=bo(e,dt.current);eo(e,n),s=Vm(null,e,r,t,s,n);var i=Wm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Lt(r)?(i=!0,bu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Um(e),s.updater=Ed,e.stateNode=s,s._reactInternals=e,tp(e,r,t,n),e=sp(null,e,r,!0,i,n)):(e.tag=0,ke&&i&&Pm(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(eu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=T2(r),t=yn(r,t),s){case 0:e=rp(null,e,r,t,n);break e;case 1:e=f0(null,e,r,t,n);break e;case 11:e=d0(null,e,r,t,n);break e;case 14:e=h0(null,e,r,yn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),rp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),f0(t,e,r,s,n);case 3:e:{if(aE(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,j1(t,e),Ru(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ko(Error(z(423)),e),e=p0(t,e,r,n,s);break e}else if(r!==s){s=ko(Error(z(424)),e),e=p0(t,e,r,n,s);break e}else for(Ht=cs(e.stateNode.containerInfo.firstChild),Bt=e,ke=!0,_n=null,n=P1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===s){e=xr(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return L1(e),t===null&&Jf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,qf(r,s)?o=null:i!==null&&qf(r,i)&&(e.flags|=32),oE(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&Jf(e),null;case 13:return lE(t,e,n);case 4:return zm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Io(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),d0(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,xe(Nu,r._currentValue),r._currentValue=o,i!==null)if(Rn(i.value,o)){if(i.children===s.children&&!jt.current){e=xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=pr(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Zf(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zf(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,eo(e,n),s=an(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=yn(r,e.pendingProps),s=yn(r.type,s),h0(t,e,r,s,n);case 15:return sE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:yn(r,s),eu(t,e),e.tag=1,Lt(r)?(t=!0,bu(e)):t=!1,eo(e,n),tE(e,r,s),tp(e,r,s,n),sp(null,e,r,!0,t,n);case 19:return cE(t,e,n);case 22:return iE(t,e,n)}throw Error(z(156,e.tag))};function bE(t,e){return Jx(t,e)}function b2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,r){return new b2(t,e,n,r)}function tg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function T2(t){if(typeof t=="function")return tg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_m)return 11;if(t===xm)return 14}return 2}function fs(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ru(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")tg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Di:return ei(n.children,s,i,e);case wm:o=8,s|=8;break;case bf:return t=nn(12,n,e,s|2),t.elementType=bf,t.lanes=i,t;case Tf:return t=nn(13,n,e,s),t.elementType=Tf,t.lanes=i,t;case If:return t=nn(19,n,e,s),t.elementType=If,t.lanes=i,t;case Lx:return bd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ox:o=10;break e;case jx:o=9;break e;case _m:o=11;break e;case xm:o=14;break e;case $r:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=nn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ei(t,e,n,r){return t=nn(7,t,r,e),t.lanes=n,t}function bd(t,e,n,r){return t=nn(22,t,r,e),t.elementType=Lx,t.lanes=n,t.stateNode={isHidden:!1},t}function Kh(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Yh(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kh(0),this.expirationTimes=kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ng(t,e,n,r,s,i,o,a,c){return t=new I2(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=nn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Um(i),t}function N2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TE(t){if(!t)return _s;t=t._reactInternals;e:{if(wi(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(Lt(n))return T1(t,n,e)}return e}function IE(t,e,n,r,s,i,o,a,c){return t=ng(n,r,!0,t,s,i,o,a,c),t.context=TE(null),n=t.current,r=wt(),s=hs(n),i=pr(r,s),i.callback=e??null,us(n,i,s),t.current.lanes=s,Ml(t,s,r),Mt(t,r),t}function Td(t,e,n,r){var s=e.current,i=wt(),o=hs(s);return n=TE(n),e.context===null?e.context=n:e.pendingContext=n,e=pr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=us(s,e,o),t!==null&&(In(t,s,o,i),Xc(t,s,o)),o}function Fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function S0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function rg(t,e){S0(t,e),(t=t.alternate)&&S0(t,e)}function k2(){return null}var NE=typeof reportError=="function"?reportError:function(t){console.error(t)};function sg(t){this._internalRoot=t}Id.prototype.render=sg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Td(t,e,null,null)};Id.prototype.unmount=sg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){Td(null,t,null,null)}),e[wr]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=i1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vr.length&&e!==0&&e<Vr[n].priority;n++);Vr.splice(n,0,t),n===0&&a1(t)}};function ig(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function b0(){}function R2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Fu(o);i.call(u)}}var o=IE(e,r,t,0,null,!1,!1,"",b0);return t._reactRootContainer=o,t[wr]=o.current,cl(t.nodeType===8?t.parentNode:t),ii(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Fu(c);a.call(u)}}var c=ng(t,0,!1,null,null,!1,!1,"",b0);return t._reactRootContainer=c,t[wr]=c.current,cl(t.nodeType===8?t.parentNode:t),ii(function(){Td(e,c,n,r)}),c}function kd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Fu(o);a.call(c)}}Td(e,o,t,s)}else o=R2(n,e,t,s,r);return Fu(o)}r1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ra(e.pendingLanes);n!==0&&(Sm(e,n|1),Mt(e,Me()),!(he&6)&&(Ro=Me()+500,Ns()))}break;case 13:ii(function(){var r=_r(t,1);if(r!==null){var s=wt();In(r,t,1,s)}}),rg(t,1)}};bm=function(t){if(t.tag===13){var e=_r(t,134217728);if(e!==null){var n=wt();In(e,t,134217728,n)}rg(t,134217728)}};s1=function(t){if(t.tag===13){var e=hs(t),n=_r(t,e);if(n!==null){var r=wt();In(n,t,e,r)}rg(t,e)}};i1=function(){return ye};o1=function(t,e){var n=ye;try{return ye=t,e()}finally{ye=n}};Df=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=wd(r);if(!s)throw Error(z(90));Dx(r),Rf(r,s)}}}break;case"textarea":Ux(t,n);break;case"select":e=n.value,e!=null&&Qi(t,!!n.multiple,e,!1)}};Gx=Jm;qx=ii;var A2={usingClientEntryPoint:!1,Events:[Fl,$i,wd,Vx,Wx,Jm]},xa={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P2={bundleType:xa.bundleType,version:xa.version,rendererPackageName:xa.rendererPackageName,rendererConfig:xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qx(t),t===null?null:t.stateNode},findFiberByHostInstance:xa.findFiberByHostInstance||k2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{md=Dc.inject(P2),Bn=Dc}catch{}}Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A2;Kt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ig(e))throw Error(z(200));return N2(t,e,null,n)};Kt.createRoot=function(t,e){if(!ig(t))throw Error(z(299));var n=!1,r="",s=NE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=ng(t,1,!1,null,null,n,!1,r,s),t[wr]=e.current,cl(t.nodeType===8?t.parentNode:t),new sg(e)};Kt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Qx(e),t=t===null?null:t.stateNode,t};Kt.flushSync=function(t){return ii(t)};Kt.hydrate=function(t,e,n){if(!Nd(e))throw Error(z(200));return kd(null,t,e,!0,n)};Kt.hydrateRoot=function(t,e,n){if(!ig(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=NE;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=IE(e,null,t,1,n??null,s,!1,i,o),t[wr]=e.current,cl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Id(e)};Kt.render=function(t,e,n){if(!Nd(e))throw Error(z(200));return kd(null,t,e,!1,n)};Kt.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(z(40));return t._reactRootContainer?(ii(function(){kd(null,null,t,!1,function(){t._reactRootContainer=null,t[wr]=null})}),!0):!1};Kt.unstable_batchedUpdates=Jm;Kt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nd(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return kd(t,e,n,!1,r)};Kt.version="18.3.1-next-f1338f8080-20240426";function kE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kE)}catch(t){console.error(t)}}kE(),kx.exports=Kt;var zl=kx.exports;const O2=yx(zl);var RE,T0=zl;RE=T0.createRoot,T0.hydrateRoot;function j2(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,s,i,o=[],a="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)n=s[0],n==="*"?(o.push(n),a+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~r?r:~i?i:s.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+s.substring(i))):a+="/"+s;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var AE={exports:{}},PE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=N;function L2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M2=typeof Object.is=="function"?Object.is:L2,D2=Ao.useState,F2=Ao.useEffect,U2=Ao.useLayoutEffect,z2=Ao.useDebugValue;function $2(t,e){var n=e(),r=D2({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return U2(function(){s.value=n,s.getSnapshot=e,Qh(s)&&i({inst:s})},[t,n,e]),F2(function(){return Qh(s)&&i({inst:s}),t(function(){Qh(s)&&i({inst:s})})},[t]),z2(n),n}function Qh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!M2(t,n)}catch{return!0}}function H2(t,e){return e()}var B2=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?H2:$2;PE.useSyncExternalStore=Ao.useSyncExternalStore!==void 0?Ao.useSyncExternalStore:B2;AE.exports=PE;var V2=AE.exports;const W2=EN.useInsertionEffect,G2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",q2=G2?N.useLayoutEffect:N.useEffect,K2=W2||q2,OE=t=>{const e=N.useRef([t,(...n)=>e[0](...n)]).current;return K2(()=>{e[0]=t}),e[1]},Y2="popstate",og="pushState",ag="replaceState",Q2="hashchange",I0=[Y2,og,ag,Q2],X2=t=>{for(const e of I0)addEventListener(e,t);return()=>{for(const e of I0)removeEventListener(e,t)}},jE=(t,e)=>V2.useSyncExternalStore(X2,t,e),J2=()=>location.search,Z2=({ssrSearch:t=""}={})=>jE(J2,()=>t),N0=()=>location.pathname,eR=({ssrPath:t}={})=>jE(N0,t?()=>t:N0),tR=(t,{replace:e=!1,state:n=null}={})=>history[e?ag:og](n,"",t),nR=(t={})=>[eR(t),tR],k0=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[k0]>"u"){for(const t of[og,ag]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,k0,{value:!0})}const rR=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",LE=(t="")=>t==="/"?"":t,sR=(t,e)=>t[0]==="~"?t.slice(1):LE(e)+t,iR=(t="",e)=>rR(R0(LE(t)),R0(e)),R0=t=>{try{return decodeURI(t)}catch{return t}},ME={hook:nR,searchHook:Z2,parser:j2,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},DE=N.createContext(ME),$l=()=>N.useContext(DE),FE={},UE=N.createContext(FE),oR=()=>N.useContext(UE),Rd=t=>{const[e,n]=t.hook(t);return[iR(t.base,e),OE((r,s)=>n(sR(r,t.base),s))]},Nr=()=>Rd($l()),zE=(t,e,n,r)=>{const{pattern:s,keys:i}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=s.exec(n)||[],[a,...c]=o;return a!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((p,m)=>[p,c[m]])):o.groups;let f={...c};return u&&Object.assign(f,u),f})(),...r?[a]:[]]:[!1,null]},aR=({children:t,...e})=>{var f,p;const n=$l(),r=e.hook?ME:n;let s=r;const[i,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=i),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let a=N.useRef({}),c=a.current,u=c;for(let m in r){const v=m==="base"?r[m]+(e[m]||""):e[m]||r[m];c===u&&v!==u[m]&&(a.current=u={...u}),u[m]=v,v!==r[m]&&(s=u)}return N.createElement(DE.Provider,{value:s,children:t})},A0=({children:t,component:e},n)=>e?N.createElement(e,{params:n}):typeof t=="function"?t(n):t,lR=t=>{let e=N.useRef(FE),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},er=({path:t,nest:e,match:n,...r})=>{const s=$l(),[i]=Rd(s),[o,a,c]=n??zE(s.parser,t,i,e),u=lR({...oR(),...a});if(!o)return null;const f=c?N.createElement(aR,{base:c},A0(r,u)):A0(r,u);return N.createElement(UE.Provider,{value:u,children:f})},$E=N.forwardRef((t,e)=>{const n=$l(),[r,s]=Rd(n),{to:i="",href:o=i,onClick:a,asChild:c,children:u,className:f,replace:p,state:m,...v}=t,x=OE(I=>{I.ctrlKey||I.metaKey||I.altKey||I.shiftKey||I.button!==0||(a==null||a(I),I.defaultPrevented||(I.preventDefault(),s(o,t)))}),w=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return c&&N.isValidElement(u)?N.cloneElement(u,{onClick:x,href:w}):N.createElement("a",{...v,onClick:x,href:w,className:f!=null&&f.call?f(r===o):f,children:u,ref:e})}),HE=t=>Array.isArray(t)?t.flatMap(e=>HE(e&&e.type===N.Fragment?e.props.children:e)):[t],cR=({children:t,location:e})=>{const n=$l(),[r]=Rd(n);for(const s of HE(t)){let i=0;if(N.isValidElement(s)&&(i=zE(n.parser,s.props.path,e||r,s.props.nest))[0])return N.cloneElement(s,{match:i})}return null};var Bo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},oi=typeof window>"u"||"Deno"in globalThis;function Zt(){}function uR(t,e){return typeof t=="function"?t(e):t}function gp(t){return typeof t=="number"&&t>=0&&t!==1/0}function BE(t,e){return Math.max(t+(e||0)-Date.now(),0)}function no(t,e){return typeof t=="function"?t(e):t}function xn(t,e){return typeof t=="function"?t(e):t}function P0(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==lg(o,e.options))return!1}else if(!vl(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function O0(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(ai(e.options.mutationKey)!==ai(i))return!1}else if(!vl(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function lg(t,e){return((e==null?void 0:e.queryKeyHashFn)||ai)(t)}function ai(t){return JSON.stringify(t,(e,n)=>yp(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!vl(t[n],e[n])):!1}function VE(t,e){if(t===e)return t;const n=j0(t)&&j0(e);if(n||yp(t)&&yp(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{};let c=0;for(let u=0;u<o;u++){const f=n?u:i[u];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=VE(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function Uu(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function j0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yp(t){if(!L0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!L0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function L0(t){return Object.prototype.toString.call(t)==="[object Object]"}function dR(t){return new Promise(e=>{setTimeout(e,t)})}function vp(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?VE(t,e):e}function hR(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fR(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var cg=Symbol();function WE(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cg?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gs,Yr,uo,ax,pR=(ax=class extends Bo{constructor(){super();Q(this,Gs);Q(this,Yr);Q(this,uo);W(this,uo,e=>{if(!oi&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){j(this,Yr)||this.setEventListener(j(this,uo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Yr))==null||e.call(this),W(this,Yr,void 0))}setEventListener(e){var n;W(this,uo,e),(n=j(this,Yr))==null||n.call(this),W(this,Yr,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){j(this,Gs)!==e&&(W(this,Gs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof j(this,Gs)=="boolean"?j(this,Gs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gs=new WeakMap,Yr=new WeakMap,uo=new WeakMap,ax),ug=new pR,ho,Qr,fo,lx,mR=(lx=class extends Bo{constructor(){super();Q(this,ho,!0);Q(this,Qr);Q(this,fo);W(this,fo,e=>{if(!oi&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){j(this,Qr)||this.setEventListener(j(this,fo))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,Qr))==null||e.call(this),W(this,Qr,void 0))}setEventListener(e){var n;W(this,fo,e),(n=j(this,Qr))==null||n.call(this),W(this,Qr,e(this.setOnline.bind(this)))}setOnline(e){j(this,ho)!==e&&(W(this,ho,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return j(this,ho)}},ho=new WeakMap,Qr=new WeakMap,fo=new WeakMap,lx),zu=new mR;function wp(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function gR(t){return Math.min(1e3*2**t,3e4)}function GE(t){return(t??"online")==="online"?zu.isOnline():!0}var qE=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Xh(t){return t instanceof qE}function KE(t){let e=!1,n=0,r=!1,s;const i=wp(),o=w=>{var I;r||(m(new qE(w)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},c=()=>{e=!1},u=()=>ug.isFocused()&&(t.networkMode==="always"||zu.isOnline())&&t.canRun(),f=()=>GE(t.networkMode)&&t.canRun(),p=w=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,w),s==null||s(),i.resolve(w))},m=w=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,w),s==null||s(),i.reject(w))},v=()=>new Promise(w=>{var I;s=E=>{(r||u())&&w(E)},(I=t.onPause)==null||I.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),x=()=>{if(r)return;let w;const I=n===0?t.initialPromise:void 0;try{w=I??t.fn()}catch(E){w=Promise.reject(E)}Promise.resolve(w).then(p).catch(E=>{var D;if(r)return;const y=t.retry??(oi?0:3),b=t.retryDelay??gR,P=typeof b=="function"?b(n,E):b,L=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,E);if(e||!L){m(E);return}n++,(D=t.onFail)==null||D.call(t,n,E),dR(P).then(()=>u()?void 0:v()).then(()=>{e?m(E):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:f,start:()=>(f()?x():v().then(x),i)}}function yR(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=a=>setTimeout(a,0);const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var ze=yR(),qs,cx,YE=(cx=class{constructor(){Q(this,qs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gp(this.gcTime)&&W(this,qs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(oi?1/0:5*60*1e3))}clearGcTimeout(){j(this,qs)&&(clearTimeout(j(this,qs)),W(this,qs,void 0))}},qs=new WeakMap,cx),po,mo,Jt,it,Al,Ks,vn,nr,ux,vR=(ux=class extends YE{constructor(e){super();Q(this,vn);Q(this,po);Q(this,mo);Q(this,Jt);Q(this,it);Q(this,Al);Q(this,Ks);W(this,Ks,!1),W(this,Al,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,Jt,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,po,wR(this.options)),this.state=e.state??j(this,po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,it))==null?void 0:e.promise}setOptions(e){this.options={...j(this,Al),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,Jt).remove(this)}setData(e,n){const r=vp(this.state.data,e,this.options);return te(this,vn,nr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){te(this,vn,nr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,s;const n=(r=j(this,it))==null?void 0:r.promise;return(s=j(this,it))==null||s.cancel(e),n?n.then(Zt).catch(Zt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,po))}isActive(){return this.observers.some(e=>xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!BE(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=j(this,it))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=j(this,it))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,Jt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(j(this,it)&&(j(this,Ks)?j(this,it).cancel({revert:!0}):j(this,it).cancelRetry()),this.scheduleGc()),j(this,Jt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,vn,nr).call(this,{type:"invalidate"})}fetch(e,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(j(this,it))return j(this,it).continueRetry(),j(this,it).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(W(this,Ks,!0),r.signal)})},i=()=>{const p=WE(this.options,n),m={queryKey:this.queryKey,meta:this.meta};return s(m),W(this,Ks,!1),this.options.persister?this.options.persister(p,m,this):p(m)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(c=this.options.behavior)==null||c.onFetch(o,this),W(this,mo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&te(this,vn,nr).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const a=p=>{var m,v,x,w;Xh(p)&&p.silent||te(this,vn,nr).call(this,{type:"error",error:p}),Xh(p)||((v=(m=j(this,Jt).config).onError)==null||v.call(m,p,this),(w=(x=j(this,Jt).config).onSettled)==null||w.call(x,this.state.data,p,this)),this.scheduleGc()};return W(this,it,KE({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,v,x,w;if(p===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(I){a(I);return}(v=(m=j(this,Jt).config).onSuccess)==null||v.call(m,p,this),(w=(x=j(this,Jt).config).onSettled)==null||w.call(x,p,this.state.error,this),this.scheduleGc()},onError:a,onFail:(p,m)=>{te(this,vn,nr).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{te(this,vn,nr).call(this,{type:"pause"})},onContinue:()=>{te(this,vn,nr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),j(this,it).start()}},po=new WeakMap,mo=new WeakMap,Jt=new WeakMap,it=new WeakMap,Al=new WeakMap,Ks=new WeakMap,vn=new WeakSet,nr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...QE(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return Xh(s)&&s.revert&&j(this,mo)?{...j(this,mo),fetchStatus:"idle"}:{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ze.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),j(this,Jt).notify({query:this,type:"updated",action:e})})},ux);function QE(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:GE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function wR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Dn,dx,_R=(dx=class extends Bo{constructor(e={}){super();Q(this,Dn);this.config=e,W(this,Dn,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??lg(s,n);let o=this.get(i);return o||(o=new vR({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){j(this,Dn).has(e.queryHash)||(j(this,Dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=j(this,Dn).get(e.queryHash);n&&(e.destroy(),n===e&&j(this,Dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ze.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Dn).get(e)}getAll(){return[...j(this,Dn).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>P0(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>P0(e,r)):n}notify(e){ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dn=new WeakMap,dx),Fn,mt,Ys,Un,zr,hx,xR=(hx=class extends YE{constructor(e){super();Q(this,Un);Q(this,Fn);Q(this,mt);Q(this,Ys);this.mutationId=e.mutationId,W(this,mt,e.mutationCache),W(this,Fn,[]),this.state=e.state||XE(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,Fn).includes(e)||(j(this,Fn).push(e),this.clearGcTimeout(),j(this,mt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,Fn,j(this,Fn).filter(n=>n!==e)),this.scheduleGc(),j(this,mt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,Fn).length||(this.state.status==="pending"?this.scheduleGc():j(this,mt).remove(this))}continue(){var e;return((e=j(this,Ys))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,i,o,a,c,u,f,p,m,v,x,w,I,E,y,b,P,L,D,T;W(this,Ys,KE({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(_,S)=>{te(this,Un,zr).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{te(this,Un,zr).call(this,{type:"pause"})},onContinue:()=>{te(this,Un,zr).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,mt).canRun(this)}));const n=this.state.status==="pending",r=!j(this,Ys).canStart();try{if(!n){te(this,Un,zr).call(this,{type:"pending",variables:e,isPaused:r}),await((i=(s=j(this,mt).config).onMutate)==null?void 0:i.call(s,e,this));const S=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));S!==this.state.context&&te(this,Un,zr).call(this,{type:"pending",context:S,variables:e,isPaused:r})}const _=await j(this,Ys).start();return await((u=(c=j(this,mt).config).onSuccess)==null?void 0:u.call(c,_,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,_,e,this.state.context)),await((v=(m=j(this,mt).config).onSettled)==null?void 0:v.call(m,_,null,this.state.variables,this.state.context,this)),await((w=(x=this.options).onSettled)==null?void 0:w.call(x,_,null,e,this.state.context)),te(this,Un,zr).call(this,{type:"success",data:_}),_}catch(_){try{throw await((E=(I=j(this,mt).config).onError)==null?void 0:E.call(I,_,e,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,_,e,this.state.context)),await((L=(P=j(this,mt).config).onSettled)==null?void 0:L.call(P,void 0,_,this.state.variables,this.state.context,this)),await((T=(D=this.options).onSettled)==null?void 0:T.call(D,void 0,_,e,this.state.context)),_}finally{te(this,Un,zr).call(this,{type:"error",error:_})}}finally{j(this,mt).runNext(this)}}},Fn=new WeakMap,mt=new WeakMap,Ys=new WeakMap,Un=new WeakSet,zr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ze.batch(()=>{j(this,Fn).forEach(r=>{r.onMutationUpdate(e)}),j(this,mt).notify({mutation:this,type:"updated",action:e})})},hx);function XE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ut,Pl,fx,ER=(fx=class extends Bo{constructor(e={}){super();Q(this,Ut);Q(this,Pl);this.config=e,W(this,Ut,new Map),W(this,Pl,Date.now())}build(e,n,r){const s=new xR({mutationCache:this,mutationId:++_c(this,Pl)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Fc(e),r=j(this,Ut).get(n)??[];r.push(e),j(this,Ut).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Fc(e);if(j(this,Ut).has(n)){const s=(r=j(this,Ut).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?j(this,Ut).delete(n):j(this,Ut).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=j(this,Ut).get(Fc(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=j(this,Ut).get(Fc(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ze.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...j(this,Ut).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>O0(n,r))}findAll(e={}){return this.getAll().filter(n=>O0(e,n))}notify(e){ze.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ze.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zt))))}},Ut=new WeakMap,Pl=new WeakMap,fx);function Fc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function M0(t){return{onFetch:(e,n)=>{var f,p,m,v,x;const r=e.options,s=(m=(p=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,i=((v=e.state.data)==null?void 0:v.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const I=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},E=WE(e.options,e.fetchOptions),y=async(b,P,L)=>{if(w)return Promise.reject();if(P==null&&b.pages.length)return Promise.resolve(b);const D={queryKey:e.queryKey,pageParam:P,direction:L?"backward":"forward",meta:e.options.meta};I(D);const T=await E(D),{maxPages:_}=e.options,S=L?fR:hR;return{pages:S(b.pages,T,_),pageParams:S(b.pageParams,P,_)}};if(s&&i.length){const b=s==="backward",P=b?CR:D0,L={pages:i,pageParams:o},D=P(r,L);a=await y(L,D,b)}else{const b=t??i.length;do{const P=c===0?o[0]??r.initialPageParam:D0(r,a);if(c>0&&P==null)break;a=await y(a,P),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var w,I;return(I=(w=e.options).persister)==null?void 0:I.call(w,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function D0(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function CR(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Oe,Xr,Jr,go,yo,Zr,vo,wo,px,SR=(px=class{constructor(t={}){Q(this,Oe);Q(this,Xr);Q(this,Jr);Q(this,go);Q(this,yo);Q(this,Zr);Q(this,vo);Q(this,wo);W(this,Oe,t.queryCache||new _R),W(this,Xr,t.mutationCache||new ER),W(this,Jr,t.defaultOptions||{}),W(this,go,new Map),W(this,yo,new Map),W(this,Zr,0)}mount(){_c(this,Zr)._++,j(this,Zr)===1&&(W(this,vo,ug.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Oe).onFocus())})),W(this,wo,zu.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,Oe).onOnline())})))}unmount(){var t,e;_c(this,Zr)._--,j(this,Zr)===0&&((t=j(this,vo))==null||t.call(this),W(this,vo,void 0),(e=j(this,wo))==null||e.call(this),W(this,wo,void 0))}isFetching(t){return j(this,Oe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,Xr).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Oe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=j(this,Oe).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(no(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return j(this,Oe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=j(this,Oe).get(r.queryHash),i=s==null?void 0:s.state.data,o=uR(e,i);if(o!==void 0)return j(this,Oe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ze.batch(()=>j(this,Oe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=j(this,Oe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=j(this,Oe);ze.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=j(this,Oe),r={type:"active",...t};return ze.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ze.batch(()=>j(this,Oe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Zt).catch(Zt)}invalidateQueries(t={},e={}){return ze.batch(()=>{if(j(this,Oe).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ze.batch(()=>j(this,Oe).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Zt)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Zt)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=j(this,Oe).build(this,e);return n.isStaleByTime(no(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zt).catch(Zt)}fetchInfiniteQuery(t){return t.behavior=M0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zt).catch(Zt)}ensureInfiniteQueryData(t){return t.behavior=M0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return zu.isOnline()?j(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,Oe)}getMutationCache(){return j(this,Xr)}getDefaultOptions(){return j(this,Jr)}setDefaultOptions(t){W(this,Jr,t)}setQueryDefaults(t,e){j(this,go).set(ai(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,go).values()];let n={};return e.forEach(r=>{vl(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){j(this,yo).set(ai(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,yo).values()];let n={};return e.forEach(r=>{vl(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Jr).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lg(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===cg&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Jr).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,Oe).clear(),j(this,Xr).clear()}},Oe=new WeakMap,Xr=new WeakMap,Jr=new WeakMap,go=new WeakMap,yo=new WeakMap,Zr=new WeakMap,vo=new WeakMap,wo=new WeakMap,px),Tt,oe,Ol,gt,Qs,_o,es,zn,jl,xo,Eo,Xs,Js,ts,Co,ge,Pa,_p,xp,Ep,Cp,Sp,bp,Tp,JE,mx,bR=(mx=class extends Bo{constructor(e,n){super();Q(this,ge);Q(this,Tt);Q(this,oe);Q(this,Ol);Q(this,gt);Q(this,Qs);Q(this,_o);Q(this,es);Q(this,zn);Q(this,jl);Q(this,xo);Q(this,Eo);Q(this,Xs);Q(this,Js);Q(this,ts);Q(this,Co,new Set);this.options=n,W(this,Tt,e),W(this,zn,null),W(this,es,wp()),this.options.experimental_prefetchInRender||j(this,es).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,oe).addObserver(this),F0(j(this,oe),this.options)?te(this,ge,Pa).call(this):this.updateResult(),te(this,ge,Cp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ip(j(this,oe),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ip(j(this,oe),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,te(this,ge,Sp).call(this),te(this,ge,bp).call(this),j(this,oe).removeObserver(this)}setOptions(e,n){const r=this.options,s=j(this,oe);if(this.options=j(this,Tt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,j(this,oe))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");te(this,ge,Tp).call(this),j(this,oe).setOptions(this.options),r._defaulted&&!Uu(this.options,r)&&j(this,Tt).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,oe),observer:this});const i=this.hasListeners();i&&U0(j(this,oe),s,this.options,r)&&te(this,ge,Pa).call(this),this.updateResult(n),i&&(j(this,oe)!==s||xn(this.options.enabled,j(this,oe))!==xn(r.enabled,j(this,oe))||no(this.options.staleTime,j(this,oe))!==no(r.staleTime,j(this,oe)))&&te(this,ge,_p).call(this);const o=te(this,ge,xp).call(this);i&&(j(this,oe)!==s||xn(this.options.enabled,j(this,oe))!==xn(r.enabled,j(this,oe))||o!==j(this,ts))&&te(this,ge,Ep).call(this,o)}getOptimisticResult(e){const n=j(this,Tt).getQueryCache().build(j(this,Tt),e),r=this.createResult(n,e);return IR(this,r)&&(W(this,gt,r),W(this,_o,this.options),W(this,Qs,j(this,oe).state)),r}getCurrentResult(){return j(this,gt)}trackResult(e,n){const r={};return Object.keys(e).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),e[s])})}),r}trackProp(e){j(this,Co).add(e)}getCurrentQuery(){return j(this,oe)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=j(this,Tt).defaultQueryOptions(e),r=j(this,Tt).getQueryCache().build(j(this,Tt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return te(this,ge,Pa).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,gt)))}createResult(e,n){var _;const r=j(this,oe),s=this.options,i=j(this,gt),o=j(this,Qs),a=j(this,_o),u=e!==r?e.state:j(this,Ol),{state:f}=e;let p={...f},m=!1,v;if(n._optimisticResults){const S=this.hasListeners(),k=!S&&F0(e,n),A=S&&U0(e,r,n,s);(k||A)&&(p={...p,...QE(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:w,status:I}=p;if(n.select&&p.data!==void 0)if(i&&p.data===(o==null?void 0:o.data)&&n.select===j(this,jl))v=j(this,xo);else try{W(this,jl,n.select),v=n.select(p.data),v=vp(i==null?void 0:i.data,v,n),W(this,xo,v),W(this,zn,null)}catch(S){W(this,zn,S)}else v=p.data;if(n.placeholderData!==void 0&&v===void 0&&I==="pending"){let S;if(i!=null&&i.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))S=i.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((_=j(this,Eo))==null?void 0:_.state.data,j(this,Eo)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),W(this,zn,null)}catch(k){W(this,zn,k)}S!==void 0&&(I="success",v=vp(i==null?void 0:i.data,S,n),m=!0)}j(this,zn)&&(x=j(this,zn),v=j(this,xo),w=Date.now(),I="error");const E=p.fetchStatus==="fetching",y=I==="pending",b=I==="error",P=y&&E,L=v!==void 0,T={status:I,fetchStatus:p.fetchStatus,isPending:y,isSuccess:I==="success",isError:b,isInitialLoading:P,isLoading:P,data:v,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:E,isRefetching:E&&!y,isLoadingError:b&&!L,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:b&&L,isStale:dg(e,n),refetch:this.refetch,promise:j(this,es)};if(this.options.experimental_prefetchInRender){const S=O=>{T.status==="error"?O.reject(T.error):T.data!==void 0&&O.resolve(T.data)},k=()=>{const O=W(this,es,T.promise=wp());S(O)},A=j(this,es);switch(A.status){case"pending":e.queryHash===r.queryHash&&S(A);break;case"fulfilled":(T.status==="error"||T.data!==A.value)&&k();break;case"rejected":(T.status!=="error"||T.error!==A.reason)&&k();break}}return T}updateResult(e){const n=j(this,gt),r=this.createResult(j(this,oe),this.options);if(W(this,Qs,j(this,oe).state),W(this,_o,this.options),j(this,Qs).data!==void 0&&W(this,Eo,j(this,oe)),Uu(r,n))return;W(this,gt,r);const s={},i=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!j(this,Co).size)return!0;const c=new Set(a??j(this,Co));return this.options.throwOnError&&c.add("error"),Object.keys(j(this,gt)).some(u=>{const f=u;return j(this,gt)[f]!==n[f]&&c.has(f)})};(e==null?void 0:e.listeners)!==!1&&i()&&(s.listeners=!0),te(this,ge,JE).call(this,{...s,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&te(this,ge,Cp).call(this)}},Tt=new WeakMap,oe=new WeakMap,Ol=new WeakMap,gt=new WeakMap,Qs=new WeakMap,_o=new WeakMap,es=new WeakMap,zn=new WeakMap,jl=new WeakMap,xo=new WeakMap,Eo=new WeakMap,Xs=new WeakMap,Js=new WeakMap,ts=new WeakMap,Co=new WeakMap,ge=new WeakSet,Pa=function(e){te(this,ge,Tp).call(this);let n=j(this,oe).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Zt)),n},_p=function(){te(this,ge,Sp).call(this);const e=no(this.options.staleTime,j(this,oe));if(oi||j(this,gt).isStale||!gp(e))return;const r=BE(j(this,gt).dataUpdatedAt,e)+1;W(this,Xs,setTimeout(()=>{j(this,gt).isStale||this.updateResult()},r))},xp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,oe)):this.options.refetchInterval)??!1},Ep=function(e){te(this,ge,bp).call(this),W(this,ts,e),!(oi||xn(this.options.enabled,j(this,oe))===!1||!gp(j(this,ts))||j(this,ts)===0)&&W(this,Js,setInterval(()=>{(this.options.refetchIntervalInBackground||ug.isFocused())&&te(this,ge,Pa).call(this)},j(this,ts)))},Cp=function(){te(this,ge,_p).call(this),te(this,ge,Ep).call(this,te(this,ge,xp).call(this))},Sp=function(){j(this,Xs)&&(clearTimeout(j(this,Xs)),W(this,Xs,void 0))},bp=function(){j(this,Js)&&(clearInterval(j(this,Js)),W(this,Js,void 0))},Tp=function(){const e=j(this,Tt).getQueryCache().build(j(this,Tt),this.options);if(e===j(this,oe))return;const n=j(this,oe);W(this,oe,e),W(this,Ol,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},JE=function(e){ze.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(j(this,gt))}),j(this,Tt).getQueryCache().notify({query:j(this,oe),type:"observerResultsUpdated"})})},mx);function TR(t,e){return xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function F0(t,e){return TR(t,e)||t.state.data!==void 0&&Ip(t,e,e.refetchOnMount)}function Ip(t,e,n){if(xn(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&dg(t,e)}return!1}function U0(t,e,n,r){return(t!==e||xn(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&dg(t,n)}function dg(t,e){return xn(e.enabled,t)!==!1&&t.isStaleByTime(no(e.staleTime,t))}function IR(t,e){return!Uu(t.getCurrentResult(),e)}var ns,rs,It,or,yr,su,Np,gx,NR=(gx=class extends Bo{constructor(n,r){super();Q(this,yr);Q(this,ns);Q(this,rs);Q(this,It);Q(this,or);W(this,ns,n),this.setOptions(r),this.bindMethods(),te(this,yr,su).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var s;const r=this.options;this.options=j(this,ns).defaultMutationOptions(n),Uu(this.options,r)||j(this,ns).getMutationCache().notify({type:"observerOptionsUpdated",mutation:j(this,It),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ai(r.mutationKey)!==ai(this.options.mutationKey)?this.reset():((s=j(this,It))==null?void 0:s.state.status)==="pending"&&j(this,It).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=j(this,It))==null||n.removeObserver(this)}onMutationUpdate(n){te(this,yr,su).call(this),te(this,yr,Np).call(this,n)}getCurrentResult(){return j(this,rs)}reset(){var n;(n=j(this,It))==null||n.removeObserver(this),W(this,It,void 0),te(this,yr,su).call(this),te(this,yr,Np).call(this)}mutate(n,r){var s;return W(this,or,r),(s=j(this,It))==null||s.removeObserver(this),W(this,It,j(this,ns).getMutationCache().build(j(this,ns),this.options)),j(this,It).addObserver(this),j(this,It).execute(n)}},ns=new WeakMap,rs=new WeakMap,It=new WeakMap,or=new WeakMap,yr=new WeakSet,su=function(){var r;const n=((r=j(this,It))==null?void 0:r.state)??XE();W(this,rs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Np=function(n){ze.batch(()=>{var r,s,i,o,a,c,u,f;if(j(this,or)&&this.hasListeners()){const p=j(this,rs).variables,m=j(this,rs).context;(n==null?void 0:n.type)==="success"?((s=(r=j(this,or)).onSuccess)==null||s.call(r,n.data,p,m),(o=(i=j(this,or)).onSettled)==null||o.call(i,n.data,null,p,m)):(n==null?void 0:n.type)==="error"&&((c=(a=j(this,or)).onError)==null||c.call(a,n.error,p,m),(f=(u=j(this,or)).onSettled)==null||f.call(u,void 0,n.error,p,m))}this.listeners.forEach(p=>{p(j(this,rs))})})},gx),ZE=N.createContext(void 0),hg=t=>{const e=N.useContext(ZE);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},kR=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(ZE.Provider,{value:t,children:e})),eC=N.createContext(!1),RR=()=>N.useContext(eC);eC.Provider;function AR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var PR=N.createContext(AR()),OR=()=>N.useContext(PR);function tC(t,e){return typeof t=="function"?t(...e):!!t}function kp(){}var jR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},LR=t=>{N.useEffect(()=>{t.clearReset()},[t])},MR=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&tC(n,[t.error,r]),DR=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},FR=(t,e)=>t.isLoading&&t.isFetching&&!e,UR=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,z0=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zR(t,e,n){var f,p,m,v,x;const r=hg(),s=RR(),i=OR(),o=r.defaultQueryOptions(t);(p=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",DR(o),jR(o,i),LR(i);const a=!r.getQueryCache().get(o.queryHash),[c]=N.useState(()=>new e(r,o)),u=c.getOptimisticResult(o);if(N.useSyncExternalStore(N.useCallback(w=>{const I=s?kp:c.subscribe(ze.batchCalls(w));return c.updateResult(),I},[c,s]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),N.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),UR(o,u))throw z0(o,c,i);if(MR({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if((v=(m=r.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||v.call(m,o,u),o.experimental_prefetchInRender&&!oi&&FR(u,s)){const w=a?z0(o,c,i):(x=r.getQueryCache().get(o.queryHash))==null?void 0:x.promise;w==null||w.catch(kp).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}function $R(t,e){return zR(t,bR)}function HR(t,e){const n=hg(),[r]=N.useState(()=>new NR(n,t));N.useEffect(()=>{r.setOptions(t)},[r,t]);const s=N.useSyncExternalStore(N.useCallback(o=>r.subscribe(ze.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=N.useCallback((o,a)=>{r.mutate(o,a).catch(kp)},[r]);if(s.error&&tC(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function nC(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}async function BR(t,e,n){const r=await fetch(e,{method:t,headers:{},body:void 0,credentials:"include"});return await nC(r),r}const VR=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await nC(n),await n.json())},WR=new SR({defaultOptions:{queries:{queryFn:VR({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),GR={theme:"system",setTheme:()=>null},rC=N.createContext(GR);function qR({children:t,defaultTheme:e="system",storageKey:n="ui-theme",...r}){const[s,i]=N.useState(()=>localStorage.getItem(n)||e);N.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),s==="system"){const c=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(c);return}a.classList.add(s)},[s]);const o={theme:s,setTheme:a=>{localStorage.setItem(n,a),i(a)}};return d.jsx(rC.Provider,{...r,value:o,children:t})}const sC=()=>{const t=N.useContext(rC);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function De(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function $0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=$0(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():$0(t[s],null)}}}}function cn(...t){return N.useCallback(iC(...t),t)}function Hl(t,e=[]){let n=[];function r(i,o){const a=N.createContext(o),c=n.length;n=[...n,o];const u=p=>{var E;const{scope:m,children:v,...x}=p,w=((E=m==null?void 0:m[t])==null?void 0:E[c])||a,I=N.useMemo(()=>x,Object.values(x));return d.jsx(w.Provider,{value:I,children:v})};u.displayName=i+"Provider";function f(p,m){var w;const v=((w=m==null?void 0:m[t])==null?void 0:w[c])||a,x=N.useContext(v);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,KR(s,...e)]}function KR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...a,...p}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function $u(t){const e=QR(t),n=N.forwardRef((r,s)=>{const{children:i,...o}=r,a=N.Children.toArray(i),c=a.find(JR);if(c){const u=c.props.children,f=a.map(p=>p===c?N.Children.count(u)>1?N.Children.only(null):N.isValidElement(u)?u.props.children:null:p);return d.jsx(e,{...o,ref:s,children:N.isValidElement(u)?N.cloneElement(u,void 0,f):null})}return d.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var YR=$u("Slot");function QR(t){const e=N.forwardRef((n,r)=>{const{children:s,...i}=n;if(N.isValidElement(s)){const o=eA(s),a=ZR(i,s.props);return s.type!==N.Fragment&&(a.ref=r?iC(r,o):o),N.cloneElement(s,a)}return N.Children.count(s)>1?N.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oC=Symbol("radix.slottable");function XR(t){const e=({children:n})=>d.jsx(d.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=oC,e}function JR(t){return N.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oC}function ZR(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function eA(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var tA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ht=tA.reduce((t,e)=>{const n=$u(`Primitive.${e}`),r=N.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),d.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function aC(t,e){t&&zl.flushSync(()=>t.dispatchEvent(e))}function qn(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function nA(t,e=globalThis==null?void 0:globalThis.document){const n=qn(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var rA="DismissableLayer",Rp="dismissableLayer.update",sA="dismissableLayer.pointerDownOutside",iA="dismissableLayer.focusOutside",H0,lC=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),fg=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,u=N.useContext(lC),[f,p]=N.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=N.useState({}),x=cn(e,T=>p(T)),w=Array.from(u.layers),[I]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),E=w.indexOf(I),y=f?w.indexOf(f):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,P=y>=E,L=aA(T=>{const _=T.target,S=[...u.branches].some(k=>k.contains(_));!P||S||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},m),D=lA(T=>{const _=T.target;[...u.branches].some(k=>k.contains(_))||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},m);return nA(T=>{y===u.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},m),N.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H0=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),B0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=H0)}},[f,m,n,u]),N.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),B0())},[f,u]),N.useEffect(()=>{const T=()=>v({});return document.addEventListener(Rp,T),()=>document.removeEventListener(Rp,T)},[]),d.jsx(ht.div,{...c,ref:x,style:{pointerEvents:b?P?"auto":"none":void 0,...t.style},onFocusCapture:De(t.onFocusCapture,D.onFocusCapture),onBlurCapture:De(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:De(t.onPointerDownCapture,L.onPointerDownCapture)})});fg.displayName=rA;var oA="DismissableLayerBranch",cC=N.forwardRef((t,e)=>{const n=N.useContext(lC),r=N.useRef(null),s=cn(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),d.jsx(ht.div,{...t,ref:s})});cC.displayName=oA;function aA(t,e=globalThis==null?void 0:globalThis.document){const n=qn(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){uC(sA,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function lA(t,e=globalThis==null?void 0:globalThis.document){const n=qn(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&uC(iA,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function B0(){const t=new CustomEvent(Rp);document.dispatchEvent(t)}function uC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?aC(s,i):s.dispatchEvent(i)}var cA=fg,uA=cC,li=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{};const dA=["top","right","bottom","left"],xs=Math.min,$t=Math.max,Hu=Math.round,Uc=Math.floor,Wn=t=>({x:t,y:t}),hA={left:"right",right:"left",bottom:"top",top:"bottom"},fA={start:"end",end:"start"};function Ap(t,e,n){return $t(t,xs(e,n))}function Er(t,e){return typeof t=="function"?t(e):t}function Cr(t){return t.split("-")[0]}function Vo(t){return t.split("-")[1]}function pg(t){return t==="x"?"y":"x"}function mg(t){return t==="y"?"height":"width"}function Es(t){return["top","bottom"].includes(Cr(t))?"y":"x"}function gg(t){return pg(Es(t))}function pA(t,e,n){n===void 0&&(n=!1);const r=Vo(t),s=gg(t),i=mg(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Bu(o)),[o,Bu(o)]}function mA(t){const e=Bu(t);return[Pp(t),e,Pp(e)]}function Pp(t){return t.replace(/start|end/g,e=>fA[e])}function gA(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function yA(t,e,n,r){const s=Vo(t);let i=gA(Cr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Pp)))),i}function Bu(t){return t.replace(/left|right|bottom|top/g,e=>hA[e])}function vA(t){return{top:0,right:0,bottom:0,left:0,...t}}function dC(t){return typeof t!="number"?vA(t):{top:t,right:t,bottom:t,left:t}}function Vu(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function V0(t,e,n){let{reference:r,floating:s}=t;const i=Es(e),o=gg(e),a=mg(o),c=Cr(e),u=i==="y",f=r.x+r.width/2-s.width/2,p=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let v;switch(c){case"top":v={x:f,y:r.y-s.height};break;case"bottom":v={x:f,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:p};break;case"left":v={x:r.x-s.width,y:p};break;default:v={x:r.x,y:r.y}}switch(Vo(e)){case"start":v[o]-=m*(n&&u?-1:1);break;case"end":v[o]+=m*(n&&u?-1:1);break}return v}const wA=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:p}=V0(u,r,c),m=r,v={},x=0;for(let w=0;w<a.length;w++){const{name:I,fn:E}=a[w],{x:y,y:b,data:P,reset:L}=await E({x:f,y:p,initialPlacement:r,placement:m,strategy:s,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});f=y??f,p=b??p,v={...v,[I]:{...v[I],...P}},L&&x<=50&&(x++,typeof L=="object"&&(L.placement&&(m=L.placement),L.rects&&(u=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):L.rects),{x:f,y:p}=V0(u,m,c)),w=-1)}return{x:f,y:p,placement:m,strategy:s,middlewareData:v}};async function wl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:m=!1,padding:v=0}=Er(e,t),x=dC(v),I=a[m?p==="floating"?"reference":"floating":p],E=Vu(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(I)))==null||n?I:I.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:f,strategy:c})),y=p==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),P=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},L=Vu(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:c}):y);return{top:(E.top-L.top+x.top)/P.y,bottom:(L.bottom-E.bottom+x.bottom)/P.y,left:(E.left-L.left+x.left)/P.x,right:(L.right-E.right+x.right)/P.x}}const _A=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:u,padding:f=0}=Er(t,e)||{};if(u==null)return{};const p=dC(f),m={x:n,y:r},v=gg(s),x=mg(v),w=await o.getDimensions(u),I=v==="y",E=I?"top":"left",y=I?"bottom":"right",b=I?"clientHeight":"clientWidth",P=i.reference[x]+i.reference[v]-m[v]-i.floating[x],L=m[v]-i.reference[v],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let T=D?D[b]:0;(!T||!await(o.isElement==null?void 0:o.isElement(D)))&&(T=a.floating[b]||i.floating[x]);const _=P/2-L/2,S=T/2-w[x]/2-1,k=xs(p[E],S),A=xs(p[y],S),O=k,R=T-w[x]-A,H=T/2-w[x]/2+_,ie=Ap(O,H,R),ne=!c.arrow&&Vo(s)!=null&&H!==ie&&i.reference[x]/2-(H<O?k:A)-w[x]/2<0,re=ne?H<O?H-O:H-R:0;return{[v]:m[v]+re,data:{[v]:ie,centerOffset:H-ie-re,...ne&&{alignmentOffset:re}},reset:ne}}}),xA=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:w=!0,...I}=Er(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Cr(s),y=Es(a),b=Cr(a)===a,P=await(c.isRTL==null?void 0:c.isRTL(u.floating)),L=m||(b||!w?[Bu(a)]:mA(a)),D=x!=="none";!m&&D&&L.push(...yA(a,w,x,P));const T=[a,...L],_=await wl(e,I),S=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(f&&S.push(_[E]),p){const H=pA(s,o,P);S.push(_[H[0]],_[H[1]])}if(k=[...k,{placement:s,overflows:S}],!S.every(H=>H<=0)){var A,O;const H=(((A=i.flip)==null?void 0:A.index)||0)+1,ie=T[H];if(ie)return{data:{index:H,overflows:k},reset:{placement:ie}};let ne=(O=k.filter(re=>re.overflows[0]<=0).sort((re,U)=>re.overflows[1]-U.overflows[1])[0])==null?void 0:O.placement;if(!ne)switch(v){case"bestFit":{var R;const re=(R=k.filter(U=>{if(D){const V=Es(U.placement);return V===y||V==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort((U,V)=>U[1]-V[1])[0])==null?void 0:R[0];re&&(ne=re);break}case"initialPlacement":ne=a;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function W0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function G0(t){return dA.some(e=>t[e]>=0)}const EA=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Er(t,e);switch(r){case"referenceHidden":{const i=await wl(e,{...s,elementContext:"reference"}),o=W0(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:G0(o)}}}case"escaped":{const i=await wl(e,{...s,altBoundary:!0}),o=W0(i,n.floating);return{data:{escapedOffsets:o,escaped:G0(o)}}}default:return{}}}}};async function CA(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Cr(n),a=Vo(n),c=Es(n)==="y",u=["left","top"].includes(o)?-1:1,f=i&&c?-1:1,p=Er(e,t);let{mainAxis:m,crossAxis:v,alignmentAxis:x}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof x=="number"&&(v=a==="end"?x*-1:x),c?{x:v*f,y:m*u}:{x:m*u,y:v*f}}const SA=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await CA(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},bA=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:E,y}=I;return{x:E,y}}},...c}=Er(t,e),u={x:n,y:r},f=await wl(e,c),p=Es(Cr(s)),m=pg(p);let v=u[m],x=u[p];if(i){const I=m==="y"?"top":"left",E=m==="y"?"bottom":"right",y=v+f[I],b=v-f[E];v=Ap(y,v,b)}if(o){const I=p==="y"?"top":"left",E=p==="y"?"bottom":"right",y=x+f[I],b=x-f[E];x=Ap(y,x,b)}const w=a.fn({...e,[m]:v,[p]:x});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[m]:i,[p]:o}}}}}},TA=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=Er(t,e),f={x:n,y:r},p=Es(s),m=pg(p);let v=f[m],x=f[p];const w=Er(a,e),I=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const b=m==="y"?"height":"width",P=i.reference[m]-i.floating[b]+I.mainAxis,L=i.reference[m]+i.reference[b]-I.mainAxis;v<P?v=P:v>L&&(v=L)}if(u){var E,y;const b=m==="y"?"width":"height",P=["top","left"].includes(Cr(s)),L=i.reference[p]-i.floating[b]+(P&&((E=o.offset)==null?void 0:E[p])||0)+(P?0:I.crossAxis),D=i.reference[p]+i.reference[b]+(P?0:((y=o.offset)==null?void 0:y[p])||0)-(P?I.crossAxis:0);x<L?x=L:x>D&&(x=D)}return{[m]:v,[p]:x}}}},IA=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...u}=Er(t,e),f=await wl(e,u),p=Cr(s),m=Vo(s),v=Es(s)==="y",{width:x,height:w}=i.floating;let I,E;p==="top"||p==="bottom"?(I=p,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=p,I=m==="end"?"top":"bottom");const y=w-f.top-f.bottom,b=x-f.left-f.right,P=xs(w-f[I],y),L=xs(x-f[E],b),D=!e.middlewareData.shift;let T=P,_=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(_=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),D&&!m){const k=$t(f.left,0),A=$t(f.right,0),O=$t(f.top,0),R=$t(f.bottom,0);v?_=x-2*(k!==0||A!==0?k+A:$t(f.left,f.right)):T=w-2*(O!==0||R!==0?O+R:$t(f.top,f.bottom))}await c({...e,availableWidth:_,availableHeight:T});const S=await o.getDimensions(a.floating);return x!==S.width||w!==S.height?{reset:{rects:!0}}:{}}}};function Ad(){return typeof window<"u"}function Wo(t){return hC(t)?(t.nodeName||"").toLowerCase():"#document"}function Vt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Yn(t){var e;return(e=(hC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hC(t){return Ad()?t instanceof Node||t instanceof Vt(t).Node:!1}function An(t){return Ad()?t instanceof Element||t instanceof Vt(t).Element:!1}function Kn(t){return Ad()?t instanceof HTMLElement||t instanceof Vt(t).HTMLElement:!1}function q0(t){return!Ad()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vt(t).ShadowRoot}function Bl(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Pn(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function NA(t){return["table","td","th"].includes(Wo(t))}function Pd(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function yg(t){const e=vg(),n=An(t)?Pn(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function kA(t){let e=Cs(t);for(;Kn(e)&&!Po(e);){if(yg(e))return e;if(Pd(e))return null;e=Cs(e)}return null}function vg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Po(t){return["html","body","#document"].includes(Wo(t))}function Pn(t){return Vt(t).getComputedStyle(t)}function Od(t){return An(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cs(t){if(Wo(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q0(t)&&t.host||Yn(t);return q0(e)?e.host:e}function fC(t){const e=Cs(t);return Po(e)?t.ownerDocument?t.ownerDocument.body:t.body:Kn(e)&&Bl(e)?e:fC(e)}function _l(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=fC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Vt(s);if(i){const a=Op(o);return e.concat(o,o.visualViewport||[],Bl(s)?s:[],a&&n?_l(a):[])}return e.concat(s,_l(s,[],n))}function Op(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pC(t){const e=Pn(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Kn(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Hu(n)!==i||Hu(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function wg(t){return An(t)?t:t.contextElement}function ro(t){const e=wg(t);if(!Kn(e))return Wn(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=pC(e);let o=(i?Hu(n.width):n.width)/r,a=(i?Hu(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const RA=Wn(0);function mC(t){const e=Vt(t);return!vg()||!e.visualViewport?RA:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AA(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vt(t)?!1:e}function ci(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=wg(t);let o=Wn(1);e&&(r?An(r)&&(o=ro(r)):o=ro(t));const a=AA(i,n,r)?mC(i):Wn(0);let c=(s.left+a.x)/o.x,u=(s.top+a.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(i){const m=Vt(i),v=r&&An(r)?Vt(r):r;let x=m,w=Op(x);for(;w&&r&&v!==x;){const I=ro(w),E=w.getBoundingClientRect(),y=Pn(w),b=E.left+(w.clientLeft+parseFloat(y.paddingLeft))*I.x,P=E.top+(w.clientTop+parseFloat(y.paddingTop))*I.y;c*=I.x,u*=I.y,f*=I.x,p*=I.y,c+=b,u+=P,x=Vt(w),w=Op(x)}}return Vu({width:f,height:p,x:c,y:u})}function _g(t,e){const n=Od(t).scrollLeft;return e?e.left+n:ci(Yn(t)).left+n}function gC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:_g(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function PA(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Yn(r),a=e?Pd(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},u=Wn(1);const f=Wn(0),p=Kn(r);if((p||!p&&!i)&&((Wo(r)!=="body"||Bl(o))&&(c=Od(r)),Kn(r))){const v=ci(r);u=ro(r),f.x=v.x+r.clientLeft,f.y=v.y+r.clientTop}const m=o&&!p&&!i?gC(o,c,!0):Wn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function OA(t){return Array.from(t.getClientRects())}function jA(t){const e=Yn(t),n=Od(t),r=t.ownerDocument.body,s=$t(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=$t(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+_g(t);const a=-n.scrollTop;return Pn(r).direction==="rtl"&&(o+=$t(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function LA(t,e){const n=Vt(t),r=Yn(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const u=vg();(!u||u&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}function MA(t,e){const n=ci(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Kn(t)?ro(t):Wn(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,u=r*i.y;return{width:o,height:a,x:c,y:u}}function K0(t,e,n){let r;if(e==="viewport")r=LA(t,n);else if(e==="document")r=jA(Yn(t));else if(An(e))r=MA(e,n);else{const s=mC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Vu(r)}function yC(t,e){const n=Cs(t);return n===e||!An(n)||Po(n)?!1:Pn(n).position==="fixed"||yC(n,e)}function DA(t,e){const n=e.get(t);if(n)return n;let r=_l(t,[],!1).filter(a=>An(a)&&Wo(a)!=="body"),s=null;const i=Pn(t).position==="fixed";let o=i?Cs(t):t;for(;An(o)&&!Po(o);){const a=Pn(o),c=yg(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Bl(o)&&!c&&yC(t,o))?r=r.filter(f=>f!==o):s=a,o=Cs(o)}return e.set(t,r),r}function FA(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Pd(e)?[]:DA(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((u,f)=>{const p=K0(e,f,s);return u.top=$t(p.top,u.top),u.right=xs(p.right,u.right),u.bottom=xs(p.bottom,u.bottom),u.left=$t(p.left,u.left),u},K0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function UA(t){const{width:e,height:n}=pC(t);return{width:e,height:n}}function zA(t,e,n){const r=Kn(e),s=Yn(e),i=n==="fixed",o=ci(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Wn(0);if(r||!r&&!i)if((Wo(e)!=="body"||Bl(s))&&(a=Od(e)),r){const m=ci(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&(c.x=_g(s));const u=s&&!r&&!i?gC(s,a):Wn(0),f=o.left+a.scrollLeft-c.x-u.x,p=o.top+a.scrollTop-c.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function Jh(t){return Pn(t).position==="static"}function Y0(t,e){if(!Kn(t)||Pn(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Yn(t)===n&&(n=n.ownerDocument.body),n}function vC(t,e){const n=Vt(t);if(Pd(t))return n;if(!Kn(t)){let s=Cs(t);for(;s&&!Po(s);){if(An(s)&&!Jh(s))return s;s=Cs(s)}return n}let r=Y0(t,e);for(;r&&NA(r)&&Jh(r);)r=Y0(r,e);return r&&Po(r)&&Jh(r)&&!yg(r)?n:r||kA(t)||n}const $A=async function(t){const e=this.getOffsetParent||vC,n=this.getDimensions,r=await n(t.floating);return{reference:zA(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HA(t){return Pn(t).direction==="rtl"}const BA={convertOffsetParentRelativeRectToViewportRelativeRect:PA,getDocumentElement:Yn,getClippingRect:FA,getOffsetParent:vC,getElementRects:$A,getClientRects:OA,getDimensions:UA,getScale:ro,isElement:An,isRTL:HA};function wC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function VA(t,e){let n=null,r;const s=Yn(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:f,top:p,width:m,height:v}=u;if(a||e(),!m||!v)return;const x=Uc(p),w=Uc(s.clientWidth-(f+m)),I=Uc(s.clientHeight-(p+v)),E=Uc(f),b={rootMargin:-x+"px "+-w+"px "+-I+"px "+-E+"px",threshold:$t(0,xs(1,c))||1};let P=!0;function L(D){const T=D[0].intersectionRatio;if(T!==c){if(!P)return o();T?o(!1,T):r=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!wC(u,t.getBoundingClientRect())&&o(),P=!1}try{n=new IntersectionObserver(L,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(L,b)}n.observe(t)}return o(!0),i}function WA(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=wg(t),f=s||i?[...u?_l(u):[],..._l(e)]:[];f.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const p=u&&a?VA(u,n):null;let m=-1,v=null;o&&(v=new ResizeObserver(E=>{let[y]=E;y&&y.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(e)})),n()}),u&&!c&&v.observe(u),v.observe(e));let x,w=c?ci(t):null;c&&I();function I(){const E=ci(t);w&&!wC(w,E)&&n(),w=E,x=requestAnimationFrame(I)}return n(),()=>{var E;f.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),p==null||p(),(E=v)==null||E.disconnect(),v=null,c&&cancelAnimationFrame(x)}}const GA=SA,qA=bA,KA=xA,YA=IA,QA=EA,Q0=_A,XA=TA,JA=(t,e,n)=>{const r=new Map,s={platform:BA,...n},i={...s.platform,_c:r};return wA(t,e,{...s,platform:i})};var iu=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Wu(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Wu(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Wu(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function _C(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X0(t,e){const n=_C(t);return Math.round(e*n)/n}function Zh(t){const e=N.useRef(t);return iu(()=>{e.current=t}),e}function ZA(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[f,p]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,v]=N.useState(r);Wu(m,r)||v(r);const[x,w]=N.useState(null),[I,E]=N.useState(null),y=N.useCallback(U=>{U!==D.current&&(D.current=U,w(U))},[]),b=N.useCallback(U=>{U!==T.current&&(T.current=U,E(U))},[]),P=i||x,L=o||I,D=N.useRef(null),T=N.useRef(null),_=N.useRef(f),S=c!=null,k=Zh(c),A=Zh(s),O=Zh(u),R=N.useCallback(()=>{if(!D.current||!T.current)return;const U={placement:e,strategy:n,middleware:m};A.current&&(U.platform=A.current),JA(D.current,T.current,U).then(V=>{const Y={...V,isPositioned:O.current!==!1};H.current&&!Wu(_.current,Y)&&(_.current=Y,zl.flushSync(()=>{p(Y)}))})},[m,e,n,A,O]);iu(()=>{u===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,p(U=>({...U,isPositioned:!1})))},[u]);const H=N.useRef(!1);iu(()=>(H.current=!0,()=>{H.current=!1}),[]),iu(()=>{if(P&&(D.current=P),L&&(T.current=L),P&&L){if(k.current)return k.current(P,L,R);R()}},[P,L,R,k,S]);const ie=N.useMemo(()=>({reference:D,floating:T,setReference:y,setFloating:b}),[y,b]),ne=N.useMemo(()=>({reference:P,floating:L}),[P,L]),re=N.useMemo(()=>{const U={position:n,left:0,top:0};if(!ne.floating)return U;const V=X0(ne.floating,f.x),Y=X0(ne.floating,f.y);return a?{...U,transform:"translate("+V+"px, "+Y+"px)",..._C(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Y}},[n,a,ne.floating,f.x,f.y]);return N.useMemo(()=>({...f,update:R,refs:ie,elements:ne,floatingStyles:re}),[f,R,ie,ne,re])}const eP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Q0({element:r.current,padding:s}).fn(n):{}:r?Q0({element:r,padding:s}).fn(n):{}}}},tP=(t,e)=>({...GA(t),options:[t,e]}),nP=(t,e)=>({...qA(t),options:[t,e]}),rP=(t,e)=>({...XA(t),options:[t,e]}),sP=(t,e)=>({...KA(t),options:[t,e]}),iP=(t,e)=>({...YA(t),options:[t,e]}),oP=(t,e)=>({...QA(t),options:[t,e]}),aP=(t,e)=>({...eP(t),options:[t,e]});var lP="Arrow",xC=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return d.jsx(ht.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:d.jsx("polygon",{points:"0,0 30,0 15,10"})})});xC.displayName=lP;var cP=xC;function EC(t){const[e,n]=N.useState(void 0);return li(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,a=u.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var CC="Popper",[SC,bC]=Hl(CC),[wU,TC]=SC(CC),IC="PopperAnchor",NC=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=TC(IC,n),o=N.useRef(null),a=cn(e,o);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:d.jsx(ht.div,{...s,ref:a})});NC.displayName=IC;var xg="PopperContent",[uP,dP]=SC(xg),kC=N.forwardRef((t,e)=>{var Qt,sc,ic,Rs,As,bi;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:v="optimized",onPlaced:x,...w}=t,I=TC(xg,n),[E,y]=N.useState(null),b=cn(e,Xn=>y(Xn)),[P,L]=N.useState(null),D=EC(P),T=(D==null?void 0:D.width)??0,_=(D==null?void 0:D.height)??0,S=r+(i!=="center"?"-"+i:""),k=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},A=Array.isArray(u)?u:[u],O=A.length>0,R={padding:k,boundary:A.filter(fP),altBoundary:O},{refs:H,floatingStyles:ie,placement:ne,isPositioned:re,middlewareData:U}=ZA({strategy:"fixed",placement:S,whileElementsMounted:(...Xn)=>WA(...Xn,{animationFrame:v==="always"}),elements:{reference:I.anchor},middleware:[tP({mainAxis:s+_,alignmentAxis:o}),c&&nP({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?rP():void 0,...R}),c&&sP({...R}),iP({...R,apply:({elements:Xn,rects:Ti,availableWidth:ea,availableHeight:oc})=>{const{width:eh,height:th}=Ti.reference,Ps=Xn.floating.style;Ps.setProperty("--radix-popper-available-width",`${ea}px`),Ps.setProperty("--radix-popper-available-height",`${oc}px`),Ps.setProperty("--radix-popper-anchor-width",`${eh}px`),Ps.setProperty("--radix-popper-anchor-height",`${th}px`)}}),P&&aP({element:P,padding:a}),pP({arrowWidth:T,arrowHeight:_}),m&&oP({strategy:"referenceHidden",...R})]}),[V,Y]=PC(ne),ee=qn(x);li(()=>{re&&(ee==null||ee())},[re,ee]);const de=(Qt=U.arrow)==null?void 0:Qt.x,ve=(sc=U.arrow)==null?void 0:sc.y,bt=((ic=U.arrow)==null?void 0:ic.centerOffset)!==0,[fn,pn]=N.useState();return li(()=>{E&&pn(window.getComputedStyle(E).zIndex)},[E]),d.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:re?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fn,"--radix-popper-transform-origin":[(Rs=U.transformOrigin)==null?void 0:Rs.x,(As=U.transformOrigin)==null?void 0:As.y].join(" "),...((bi=U.hide)==null?void 0:bi.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:d.jsx(uP,{scope:n,placedSide:V,onArrowChange:L,arrowX:de,arrowY:ve,shouldHideArrow:bt,children:d.jsx(ht.div,{"data-side":V,"data-align":Y,...w,ref:b,style:{...w.style,animation:re?void 0:"none"}})})})});kC.displayName=xg;var RC="PopperArrow",hP={top:"bottom",right:"left",bottom:"top",left:"right"},AC=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=dP(RC,r),o=hP[i.placedSide];return d.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:d.jsx(cP,{...s,ref:n,style:{...s.style,display:"block"}})})});AC.displayName=RC;function fP(t){return t!==null}var pP=t=>({name:"transformOrigin",options:t,fn(e){var I,E,y;const{placement:n,rects:r,middlewareData:s}=e,o=((I=s.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,f]=PC(n),p={start:"0%",center:"50%",end:"100%"}[f],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,v=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let x="",w="";return u==="bottom"?(x=o?p:`${m}px`,w=`${-c}px`):u==="top"?(x=o?p:`${m}px`,w=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,w=o?p:`${v}px`):u==="left"&&(x=`${r.floating.width+c}px`,w=o?p:`${v}px`),{data:{x,y:w}}}});function PC(t){const[e,n="center"]=t.split("-");return[e,n]}var mP=NC,gP=kC,yP=AC,vP="Portal",OC=N.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=N.useState(!1);li(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?O2.createPortal(d.jsx(ht.div,{...r,ref:e}),o):null});OC.displayName=vP;function wP(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var jd=t=>{const{present:e,children:n}=t,r=_P(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=cn(r.ref,xP(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};jd.displayName="Presence";function _P(t){const[e,n]=N.useState(),r=N.useRef({}),s=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[a,c]=wP(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=zc(r.current);i.current=a==="mounted"?u:"none"},[a]),li(()=>{const u=r.current,f=s.current;if(f!==t){const m=i.current,v=zc(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),li(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,p=v=>{const w=zc(r.current).includes(v.animationName);if(v.target===e&&w&&(c("ANIMATION_END"),!s.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},m=v=>{v.target===e&&(i.current=zc(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:N.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function zc(t){return(t==null?void 0:t.animationName)||"none"}function xP(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function jC({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=EP({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=qn(n),c=N.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&a(p)}else s(u)},[i,t,s,a]);return[o,c]}function EP({defaultProp:t,onChange:e}){const n=N.useState(t),[r]=n,s=N.useRef(r),i=qn(e);return N.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var CP="VisuallyHidden",Ld=N.forwardRef((t,e)=>d.jsx(ht.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ld.displayName=CP;var SP=Ld,[Md,_U]=Hl("Tooltip",[bC]),Eg=bC(),LC="TooltipProvider",bP=700,J0="tooltip.open",[TP,MC]=Md(LC),DC=t=>{const{__scopeTooltip:e,delayDuration:n=bP,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=N.useRef(!0),a=N.useRef(!1),c=N.useRef(0);return N.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),d.jsx(TP,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:N.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:N.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:i})};DC.displayName=LC;var FC="Tooltip",[xU,Dd]=Md(FC),jp="TooltipTrigger",IP=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Dd(jp,n),i=MC(jp,n),o=Eg(n),a=N.useRef(null),c=cn(e,a,s.onTriggerChange),u=N.useRef(!1),f=N.useRef(!1),p=N.useCallback(()=>u.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),d.jsx(mP,{asChild:!0,...o,children:d.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:De(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:De(t.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:De(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:De(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:De(t.onBlur,s.onClose),onClick:De(t.onClick,s.onClose)})})});IP.displayName=jp;var NP="TooltipPortal",[EU,kP]=Md(NP,{forceMount:void 0}),Oo="TooltipContent",UC=N.forwardRef((t,e)=>{const n=kP(Oo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Dd(Oo,t.__scopeTooltip);return d.jsx(jd,{present:r||o.open,children:o.disableHoverableContent?d.jsx(zC,{side:s,...i,ref:e}):d.jsx(RP,{side:s,...i,ref:e})})}),RP=N.forwardRef((t,e)=>{const n=Dd(Oo,t.__scopeTooltip),r=MC(Oo,t.__scopeTooltip),s=N.useRef(null),i=cn(e,s),[o,a]=N.useState(null),{trigger:c,onClose:u}=n,f=s.current,{onPointerInTransitChange:p}=r,m=N.useCallback(()=>{a(null),p(!1)},[p]),v=N.useCallback((x,w)=>{const I=x.currentTarget,E={x:x.clientX,y:x.clientY},y=LP(E,I.getBoundingClientRect()),b=MP(E,y),P=DP(w.getBoundingClientRect()),L=UP([...b,...P]);a(L),p(!0)},[p]);return N.useEffect(()=>()=>m(),[m]),N.useEffect(()=>{if(c&&f){const x=I=>v(I,f),w=I=>v(I,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",w)}}},[c,f,v,m]),N.useEffect(()=>{if(o){const x=w=>{const I=w.target,E={x:w.clientX,y:w.clientY},y=(c==null?void 0:c.contains(I))||(f==null?void 0:f.contains(I)),b=!FP(E,o);y?m():b&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,o,u,m]),d.jsx(zC,{...t,ref:i})}),[AP,PP]=Md(FC,{isInside:!1}),OP=XR("TooltipContent"),zC=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=Dd(Oo,n),u=Eg(n),{onClose:f}=c;return N.useEffect(()=>(document.addEventListener(J0,f),()=>document.removeEventListener(J0,f)),[f]),N.useEffect(()=>{if(c.trigger){const p=m=>{const v=m.target;v!=null&&v.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),d.jsx(fg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:d.jsxs(gP,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[d.jsx(OP,{children:r}),d.jsx(AP,{scope:n,isInside:!0,children:d.jsx(SP,{id:c.contentId,role:"tooltip",children:s||r})})]})})});UC.displayName=Oo;var $C="TooltipArrow",jP=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Eg(n);return PP($C,n).isInside?null:d.jsx(yP,{...s,...r,ref:e})});jP.displayName=$C;function LP(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function MP(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function DP(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function FP(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i].x,c=e[i].y,u=e[o].x,f=e[o].y;c>r!=f>r&&n<(u-a)*(r-c)/(f-c)+a&&(s=!s)}return s}function UP(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),zP(e)}function zP(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var $P=DC,HC=UC;function BC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=BC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function VC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=BC(t))&&(r&&(r+=" "),r+=e);return r}const Cg="-",HP=t=>{const e=VP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Cg);return a[0]===""&&a.length!==1&&a.shift(),WC(a,e)||BP(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},WC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?WC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Cg);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},Z0=/^\[(.+)\]$/,BP=t=>{if(Z0.test(t)){const e=Z0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},VP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return GP(Object.entries(t.classGroups),n).forEach(([i,o])=>{Lp(o,r,i,e)}),r},Lp=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:ew(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(WP(s)){Lp(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Lp(o,ew(e,i),n,r)})})},ew=(t,e)=>{let n=t;return e.split(Cg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},WP=t=>t.isThemeGetter,GP=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,qP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},GC="!",KP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let u=0,f=0,p;for(let I=0;I<a.length;I++){let E=a[I];if(u===0){if(E===s&&(r||a.slice(I,I+i)===e)){c.push(a.slice(f,I)),f=I+i;continue}if(E==="/"){p=I;continue}}E==="["?u++:E==="]"&&u--}const m=c.length===0?a:a.substring(f),v=m.startsWith(GC),x=v?m.substring(1):m,w=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:x,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},YP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},QP=t=>({cache:qP(t.cacheSize),parseClassName:KP(t),...HP(t)}),XP=/\s+/,JP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(XP);let a="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:v}=n(u);let x=!!v,w=r(x?m.substring(0,v):m);if(!w){if(!x){a=u+(a.length>0?" "+a:a);continue}if(w=r(m),!w){a=u+(a.length>0?" "+a:a);continue}x=!1}const I=YP(f).join(":"),E=p?I+GC:I,y=E+w;if(i.includes(y))continue;i.push(y);const b=s(w,x);for(let P=0;P<b.length;++P){const L=b[P];i.push(E+L)}a=u+(a.length>0?" "+a:a)}return a};function ZP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qC(e))&&(r&&(r+=" "),r+=n);return r}const qC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qC(t[r]))&&(n&&(n+=" "),n+=e);return n};function eO(t,...e){let n,r,s,i=o;function o(c){const u=e.reduce((f,p)=>p(f),t());return n=QP(u),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const u=r(c);if(u)return u;const f=JP(c,n);return s(c,f),f}return function(){return i(ZP.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},KC=/^\[(?:([a-z-]+):)?(.+)\]$/i,tO=/^\d+\/\d+$/,nO=new Set(["px","full","screen"]),rO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,tr=t=>so(t)||nO.has(t)||tO.test(t),Mr=t=>Go(t,"length",mO),so=t=>!!t&&!Number.isNaN(Number(t)),ef=t=>Go(t,"number",so),Ea=t=>!!t&&Number.isInteger(Number(t)),lO=t=>t.endsWith("%")&&so(t.slice(0,-1)),Z=t=>KC.test(t),Dr=t=>rO.test(t),cO=new Set(["length","size","percentage"]),uO=t=>Go(t,cO,YC),dO=t=>Go(t,"position",YC),hO=new Set(["image","url"]),fO=t=>Go(t,hO,yO),pO=t=>Go(t,"",gO),Ca=()=>!0,Go=(t,e,n)=>{const r=KC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},mO=t=>sO.test(t)&&!iO.test(t),YC=()=>!1,gO=t=>oO.test(t),yO=t=>aO.test(t),vO=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),r=Ce("brightness"),s=Ce("borderColor"),i=Ce("borderRadius"),o=Ce("borderSpacing"),a=Ce("borderWidth"),c=Ce("contrast"),u=Ce("grayscale"),f=Ce("hueRotate"),p=Ce("invert"),m=Ce("gap"),v=Ce("gradientColorStops"),x=Ce("gradientColorStopPositions"),w=Ce("inset"),I=Ce("margin"),E=Ce("opacity"),y=Ce("padding"),b=Ce("saturate"),P=Ce("scale"),L=Ce("sepia"),D=Ce("skew"),T=Ce("space"),_=Ce("translate"),S=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Z,e],O=()=>[Z,e],R=()=>["",tr,Mr],H=()=>["auto",so,Z],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",Z],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[so,Z];return{cacheSize:500,separator:":",theme:{colors:[Ca],spacing:[tr,Mr],blur:["none","",Dr,Z],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Dr,Z],borderSpacing:O(),borderWidth:R(),contrast:ee(),grayscale:V(),hueRotate:ee(),invert:V(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[lO,Mr],inset:A(),margin:A(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:V(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",Z]}],container:["container"],columns:[{columns:[Dr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Z]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ea,Z]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Z]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Ea,Z]}],"grid-cols":[{"grid-cols":[Ca]}],"col-start-end":[{col:["auto",{span:["full",Ea,Z]},Z]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Ca]}],"row-start-end":[{row:["auto",{span:[Ea,Z]},Z]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Z]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Z]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Z,e]}],"min-w":[{"min-w":[Z,e,"min","max","fit"]}],"max-w":[{"max-w":[Z,e,"none","full","min","max","fit","prose",{screen:[Dr]},Dr]}],h:[{h:[Z,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Z,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Z,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Dr,Mr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ef]}],"font-family":[{font:[Ca]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Z]}],"line-clamp":[{"line-clamp":["none",so,ef]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",tr,Z]}],"list-image":[{"list-image":["none",Z]}],"list-style-type":[{list:["none","disc","decimal",Z]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",tr,Mr]}],"underline-offset":[{"underline-offset":["auto",tr,Z]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Z]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Z]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),dO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[tr,Z]}],"outline-w":[{outline:[tr,Mr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[tr,Mr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Dr,pO]}],"shadow-color":[{shadow:[Ca]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Dr,Z]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[b]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Z]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",Z]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Z]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ea,Z]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Z]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Z]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Z]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[tr,Mr,ef]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wO=eO(vO);function He(...t){return wO(VC(t))}const _O=$P,xO=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>d.jsx(HC,{ref:r,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));xO.displayName=HC.displayName;const EO=1,CO=1e6;let tf=0;function SO(){return tf=(tf+1)%Number.MAX_SAFE_INTEGER,tf.toString()}const nf=new Map,tw=t=>{if(nf.has(t))return;const e=setTimeout(()=>{nf.delete(t),Wa({type:"REMOVE_TOAST",toastId:t})},CO);nf.set(t,e)},bO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,EO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?tw(n):t.toasts.forEach(r=>{tw(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ou=[];let au={toasts:[]};function Wa(t){au=bO(au,t),ou.forEach(e=>{e(au)})}function TO({...t}){const e=SO(),n=s=>Wa({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Wa({type:"DISMISS_TOAST",toastId:e});return Wa({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function QC(){const[t,e]=N.useState(au);return N.useEffect(()=>(ou.push(e),()=>{const n=ou.indexOf(e);n>-1&&ou.splice(n,1)}),[t]),{...t,toast:TO,dismiss:n=>Wa({type:"DISMISS_TOAST",toastId:n})}}function IO(t){const e=t+"CollectionProvider",[n,r]=Hl(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:I,children:E}=w,y=Ur.useRef(null),b=Ur.useRef(new Map).current;return d.jsx(s,{scope:I,itemMap:b,collectionRef:y,children:E})};o.displayName=e;const a=t+"CollectionSlot",c=$u(a),u=Ur.forwardRef((w,I)=>{const{scope:E,children:y}=w,b=i(a,E),P=cn(I,b.collectionRef);return d.jsx(c,{ref:P,children:y})});u.displayName=a;const f=t+"CollectionItemSlot",p="data-radix-collection-item",m=$u(f),v=Ur.forwardRef((w,I)=>{const{scope:E,children:y,...b}=w,P=Ur.useRef(null),L=cn(I,P),D=i(f,E);return Ur.useEffect(()=>(D.itemMap.set(P,{ref:P,...b}),()=>void D.itemMap.delete(P))),d.jsx(m,{[p]:"",ref:L,children:y})});v.displayName=f;function x(w){const I=i(t+"CollectionConsumer",w);return Ur.useCallback(()=>{const y=I.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${p}]`));return Array.from(I.itemMap.values()).sort((D,T)=>b.indexOf(D.ref.current)-b.indexOf(T.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},x,r]}var Sg="ToastProvider",[bg,NO,kO]=IO("Toast"),[XC,CU]=Hl("Toast",[kO]),[RO,Fd]=XC(Sg),JC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=N.useState(null),[u,f]=N.useState(0),p=N.useRef(!1),m=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Sg}\`. Expected non-empty \`string\`.`),d.jsx(bg.Provider,{scope:e,children:d.jsx(RO,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:N.useCallback(()=>f(v=>v+1),[]),onToastRemove:N.useCallback(()=>f(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};JC.displayName=Sg;var ZC="ToastViewport",AO=["F8"],Mp="toast.viewportPause",Dp="toast.viewportResume",eS=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=AO,label:s="Notifications ({hotkey})",...i}=t,o=Fd(ZC,n),a=NO(n),c=N.useRef(null),u=N.useRef(null),f=N.useRef(null),p=N.useRef(null),m=cn(e,p,o.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;N.useEffect(()=>{const I=E=>{var b;r.length!==0&&r.every(P=>E[P]||E.code===P)&&((b=p.current)==null||b.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),N.useEffect(()=>{const I=c.current,E=p.current;if(x&&I&&E){const y=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Mp);E.dispatchEvent(D),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Dp);E.dispatchEvent(D),o.isClosePausedRef.current=!1}},P=D=>{!I.contains(D.relatedTarget)&&b()},L=()=>{I.contains(document.activeElement)||b()};return I.addEventListener("focusin",y),I.addEventListener("focusout",P),I.addEventListener("pointermove",y),I.addEventListener("pointerleave",L),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{I.removeEventListener("focusin",y),I.removeEventListener("focusout",P),I.removeEventListener("pointermove",y),I.removeEventListener("pointerleave",L),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[x,o.isClosePausedRef]);const w=N.useCallback(({tabbingDirection:I})=>{const y=a().map(b=>{const P=b.ref.current,L=[P,...VO(P)];return I==="forwards"?L:L.reverse()});return(I==="forwards"?y.reverse():y).flat()},[a]);return N.useEffect(()=>{const I=p.current;if(I){const E=y=>{var L,D,T;const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const _=document.activeElement,S=y.shiftKey;if(y.target===I&&S){(L=u.current)==null||L.focus();return}const O=w({tabbingDirection:S?"backwards":"forwards"}),R=O.findIndex(H=>H===_);rf(O.slice(R+1))?y.preventDefault():S?(D=u.current)==null||D.focus():(T=f.current)==null||T.focus()}};return I.addEventListener("keydown",E),()=>I.removeEventListener("keydown",E)}},[a,w]),d.jsxs(uA,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&d.jsx(Fp,{ref:u,onFocusFromOutsideViewport:()=>{const I=w({tabbingDirection:"forwards"});rf(I)}}),d.jsx(bg.Slot,{scope:n,children:d.jsx(ht.ol,{tabIndex:-1,...i,ref:m})}),x&&d.jsx(Fp,{ref:f,onFocusFromOutsideViewport:()=>{const I=w({tabbingDirection:"backwards"});rf(I)}})]})});eS.displayName=ZC;var tS="ToastFocusProxy",Fp=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Fd(tS,n);return d.jsx(Ld,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var u;const a=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(a))&&r()}})});Fp.displayName=tS;var Ud="Toast",PO="toast.swipeStart",OO="toast.swipeMove",jO="toast.swipeCancel",LO="toast.swipeEnd",nS=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a=!0,c]=jC({prop:r,defaultProp:s,onChange:i});return d.jsx(jd,{present:n||a,children:d.jsx(FO,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:qn(t.onPause),onResume:qn(t.onResume),onSwipeStart:De(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(t.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:De(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(t.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});nS.displayName=Ud;var[MO,DO]=XC(Ud,{onClose(){}}),FO=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:v,...x}=t,w=Fd(Ud,n),[I,E]=N.useState(null),y=cn(e,H=>E(H)),b=N.useRef(null),P=N.useRef(null),L=s||w.duration,D=N.useRef(0),T=N.useRef(L),_=N.useRef(0),{onToastAdd:S,onToastRemove:k}=w,A=qn(()=>{var ie;(I==null?void 0:I.contains(document.activeElement))&&((ie=w.viewport)==null||ie.focus()),o()}),O=N.useCallback(H=>{!H||H===1/0||(window.clearTimeout(_.current),D.current=new Date().getTime(),_.current=window.setTimeout(A,H))},[A]);N.useEffect(()=>{const H=w.viewport;if(H){const ie=()=>{O(T.current),u==null||u()},ne=()=>{const re=new Date().getTime()-D.current;T.current=T.current-re,window.clearTimeout(_.current),c==null||c()};return H.addEventListener(Mp,ne),H.addEventListener(Dp,ie),()=>{H.removeEventListener(Mp,ne),H.removeEventListener(Dp,ie)}}},[w.viewport,L,c,u,O]),N.useEffect(()=>{i&&!w.isClosePausedRef.current&&O(L)},[i,L,w.isClosePausedRef,O]),N.useEffect(()=>(S(),()=>k()),[S,k]);const R=N.useMemo(()=>I?cS(I):null,[I]);return w.viewport?d.jsxs(d.Fragment,{children:[R&&d.jsx(UO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),d.jsx(MO,{scope:n,onClose:A,children:zl.createPortal(d.jsx(bg.ItemSlot,{scope:n,children:d.jsx(cA,{asChild:!0,onEscapeKeyDown:De(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||A(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:d.jsx(ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:De(t.onKeyDown,H=>{H.key==="Escape"&&(a==null||a(H.nativeEvent),H.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:De(t.onPointerDown,H=>{H.button===0&&(b.current={x:H.clientX,y:H.clientY})}),onPointerMove:De(t.onPointerMove,H=>{if(!b.current)return;const ie=H.clientX-b.current.x,ne=H.clientY-b.current.y,re=!!P.current,U=["left","right"].includes(w.swipeDirection),V=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,Y=U?V(0,ie):0,ee=U?0:V(0,ne),de=H.pointerType==="touch"?10:2,ve={x:Y,y:ee},bt={originalEvent:H,delta:ve};re?(P.current=ve,$c(OO,p,bt,{discrete:!1})):nw(ve,w.swipeDirection,de)?(P.current=ve,$c(PO,f,bt,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(ie)>de||Math.abs(ne)>de)&&(b.current=null)}),onPointerUp:De(t.onPointerUp,H=>{const ie=P.current,ne=H.target;if(ne.hasPointerCapture(H.pointerId)&&ne.releasePointerCapture(H.pointerId),P.current=null,b.current=null,ie){const re=H.currentTarget,U={originalEvent:H,delta:ie};nw(ie,w.swipeDirection,w.swipeThreshold)?$c(LO,v,U,{discrete:!0}):$c(jO,m,U,{discrete:!0}),re.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),UO=t=>{const{__scopeToast:e,children:n,...r}=t,s=Fd(Ud,e),[i,o]=N.useState(!1),[a,c]=N.useState(!1);return HO(()=>o(!0)),N.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:d.jsx(OC,{asChild:!0,children:d.jsx(Ld,{...r,children:i&&d.jsxs(d.Fragment,{children:[s.label," ",n]})})})},zO="ToastTitle",rS=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ht.div,{...r,ref:e})});rS.displayName=zO;var $O="ToastDescription",sS=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return d.jsx(ht.div,{...r,ref:e})});sS.displayName=$O;var iS="ToastAction",oS=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?d.jsx(lS,{altText:n,asChild:!0,children:d.jsx(Tg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iS}\`. Expected non-empty \`string\`.`),null)});oS.displayName=iS;var aS="ToastClose",Tg=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=DO(aS,n);return d.jsx(lS,{asChild:!0,children:d.jsx(ht.button,{type:"button",...r,ref:e,onClick:De(t.onClick,s.onClose)})})});Tg.displayName=aS;var lS=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return d.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function cS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),BO(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...cS(r))}}),e}function $c(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?aC(s,i):s.dispatchEvent(i)}var nw=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function HO(t=()=>{}){const e=qn(t);li(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function BO(t){return t.nodeType===t.ELEMENT_NODE}function VO(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rf(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var WO=JC,uS=eS,dS=nS,hS=rS,fS=sS,pS=oS,mS=Tg;const rw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sw=VC,Ig=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return sw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(u=>{const f=n==null?void 0:n[u],p=i==null?void 0:i[u];if(f===null)return null;const m=rw(f)||rw(p);return s[u][m]}),a=n&&Object.entries(n).reduce((u,f)=>{let[p,m]=f;return m===void 0||(u[p]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:p,className:m,...v}=f;return Object.entries(v).every(x=>{let[w,I]=x;return Array.isArray(I)?I.includes({...i,...a}[w]):{...i,...a}[w]===I})?[...u,p,m]:u},[]);return sw(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gS=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var qO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>N.createElement("svg",{ref:c,...qO,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gS("lucide",s),...a},[...o.map(([u,f])=>N.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(t,e)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(KO,{ref:i,iconNode:e,className:gS(`lucide-${GO(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=J("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=J("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=J("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=J("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=J("ImagePlus",[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=J("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=J("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=J("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=J("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=J("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=J("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=J("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $p=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=J("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=J("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=J("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=J("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=J("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=J("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=J("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),x4=WO,bS=N.forwardRef(({className:t,...e},n)=>d.jsx(uS,{ref:n,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));bS.displayName=uS.displayName;const E4=Ig("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TS=N.forwardRef(({className:t,variant:e,...n},r)=>d.jsx(dS,{ref:r,className:He(E4({variant:e}),t),...n}));TS.displayName=dS.displayName;const C4=N.forwardRef(({className:t,...e},n)=>d.jsx(pS,{ref:n,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));C4.displayName=pS.displayName;const IS=N.forwardRef(({className:t,...e},n)=>d.jsx(mS,{ref:n,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:d.jsx(Hp,{className:"h-4 w-4"})}));IS.displayName=mS.displayName;const NS=N.forwardRef(({className:t,...e},n)=>d.jsx(hS,{ref:n,className:He("text-sm font-semibold",t),...e}));NS.displayName=hS.displayName;const kS=N.forwardRef(({className:t,...e},n)=>d.jsx(fS,{ref:n,className:He("text-sm opacity-90",t),...e}));kS.displayName=fS.displayName;function S4(){const{toasts:t}=QC();return d.jsxs(x4,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return d.jsxs(TS,{...i,children:[d.jsxs("div",{className:"grid gap-1",children:[n&&d.jsx(NS,{children:n}),r&&d.jsx(kS,{children:r})]}),s,d.jsx(IS,{})]},e)}),d.jsx(bS,{})]})}var cw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B=function(t,e){if(!t)throw qo(e)},qo=function(t){return new Error("Firebase Database ("+RS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},b4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},kg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,f=i>>2,p=(i&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;c||(v=64,o||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(AS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):b4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||p==null)throw new T4;const m=i<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),p!==64){const x=u<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class T4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PS=function(t){const e=AS(t);return kg.encodeByteArray(e,!0)},qu=function(t){return PS(t).replace(/\./g,"")},Ku=function(t){try{return kg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I4(t){return OS(void 0,t)}function OS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!N4(n)||(t[n]=OS(t[n],e[n]));return t}function N4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4=()=>k4().__FIREBASE_DEFAULTS__,A4=()=>{if(typeof process>"u"||typeof cw>"u")return;const t=cw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},P4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ku(t[1]);return e&&JSON.parse(e)},Rg=()=>{try{return R4()||A4()||P4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jS=t=>{var e,n;return(n=(e=Rg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},LS=t=>{const e=jS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MS=()=>{var t;return(t=Rg())===null||t===void 0?void 0:t.config},DS=t=>{var e;return(e=Rg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qu(JSON.stringify(n)),qu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Pg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function O4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function US(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function j4(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $S(){return RS.NODE_ADMIN===!0}function HS(){try{return typeof indexedDB=="object"}catch{return!1}}function BS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function L4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4="FirebaseError";class jn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=M4,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_i.prototype.create)}}class _i{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?D4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new jn(s,a,r)}}function D4(t,e){return t.replace(F4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const F4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function El(t){return JSON.parse(t)}function Xe(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=El(Ku(i[0])||""),n=El(Ku(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},U4=function(t){const e=VS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},z4=function(t){const e=VS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Bp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yu(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(uw(i)&&uw(o)){if(!Cl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function uw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ko(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ja(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,f;for(let p=0;p<80;p++){p<40?p<20?(u=a^i&(o^a),f=1518500249):(u=i^o^a,f=1859775393):p<60?(u=i&o|a&(i|o),f=2400959708):(u=i^o^a,f=3395469782);const m=(s<<5|s>>>27)+u+c+f+r[p]&4294967295;c=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=m}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function H4(t,e){const n=new B4(t,e);return n.subscribe.bind(n)}class B4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sf),s.error===void 0&&(s.error=sf),s.complete===void 0&&(s.complete=sf);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sf(){}function W4(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,B(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},zd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=1e3,K4=2,Y4=4*60*60*1e3,Q4=.5;function dw(t,e=q4,n=K4){const r=e*Math.pow(n,t),s=Math.round(Q4*r*(Math.random()-.5)*2);return Math.min(Y4,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class un{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ag;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Z4(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:J4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function J4(t){return t===Fs?void 0:t}function Z4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const tj={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},nj=pe.INFO,rj={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},sj=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=rj[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wl{constructor(e){this.name=e,this._logLevel=nj,this._logHandler=sj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}const ij=(t,e)=>e.some(n=>t instanceof n);let hw,fw;function oj(){return hw||(hw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aj(){return fw||(fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WS=new WeakMap,Vp=new WeakMap,GS=new WeakMap,of=new WeakMap,Og=new WeakMap;function lj(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ps(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&WS.set(n,t)}).catch(()=>{}),Og.set(e,t),e}function cj(t){if(Vp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Vp.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Vp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ps(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uj(t){Wp=t(Wp)}function dj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(af(this),e,...n);return GS.set(r,e.sort?e.sort():[e]),ps(r)}:aj().includes(t)?function(...e){return t.apply(af(this),e),ps(WS.get(this))}:function(...e){return ps(t.apply(af(this),e))}}function hj(t){return typeof t=="function"?dj(t):(t instanceof IDBTransaction&&cj(t),ij(t,oj())?new Proxy(t,Wp):t)}function ps(t){if(t instanceof IDBRequest)return lj(t);if(of.has(t))return of.get(t);const e=hj(t);return e!==t&&(of.set(t,e),Og.set(e,t)),e}const af=t=>Og.get(t);function qS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ps(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ps(o.result),c.oldVersion,c.newVersion,ps(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const fj=["get","getKey","getAll","getAllKeys","count"],pj=["put","add","delete","clear"],lf=new Map;function pw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lf.get(e))return lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=pj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fj.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return lf.set(e,i),i}uj(t=>({...t,get:(e,n,r)=>pw(e,n)||t.get(e,n,r),has:(e,n)=>!!pw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gp="@firebase/app",mw="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr=new Wl("@firebase/app"),yj="@firebase/app-compat",vj="@firebase/analytics-compat",wj="@firebase/analytics",_j="@firebase/app-check-compat",xj="@firebase/app-check",Ej="@firebase/auth",Cj="@firebase/auth-compat",Sj="@firebase/database",bj="@firebase/data-connect",Tj="@firebase/database-compat",Ij="@firebase/functions",Nj="@firebase/functions-compat",kj="@firebase/installations",Rj="@firebase/installations-compat",Aj="@firebase/messaging",Pj="@firebase/messaging-compat",Oj="@firebase/performance",jj="@firebase/performance-compat",Lj="@firebase/remote-config",Mj="@firebase/remote-config-compat",Dj="@firebase/storage",Fj="@firebase/storage-compat",Uj="@firebase/firestore",zj="@firebase/vertexai-preview",$j="@firebase/firestore-compat",Hj="firebase",Bj="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",Vj={[Gp]:"fire-core",[yj]:"fire-core-compat",[wj]:"fire-analytics",[vj]:"fire-analytics-compat",[xj]:"fire-app-check",[_j]:"fire-app-check-compat",[Ej]:"fire-auth",[Cj]:"fire-auth-compat",[Sj]:"fire-rtdb",[bj]:"fire-data-connect",[Tj]:"fire-rtdb-compat",[Ij]:"fire-fn",[Nj]:"fire-fn-compat",[kj]:"fire-iid",[Rj]:"fire-iid-compat",[Aj]:"fire-fcm",[Pj]:"fire-fcm-compat",[Oj]:"fire-perf",[jj]:"fire-perf-compat",[Lj]:"fire-rc",[Mj]:"fire-rc-compat",[Dj]:"fire-gcs",[Fj]:"fire-gcs-compat",[Uj]:"fire-fst",[$j]:"fire-fst-compat",[zj]:"fire-vertex","fire-js":"fire-js",[Hj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Map,Wj=new Map,Kp=new Map;function gw(t,e){try{t.container.addComponent(e)}catch(n){Sr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function On(t){const e=t.name;if(Kp.has(e))return Sr.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(const n of Qu.values())gw(n,t);for(const n of Wj.values())gw(n,t);return!0}function ks(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ms=new _i("app","Firebase",Gj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=Bj;function KS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ms.create("bad-app-name",{appName:String(s)});if(n||(n=MS()),!n)throw ms.create("no-options");const i=Qu.get(s);if(i){if(Cl(n,i.options)&&Cl(r,i.config))return i;throw ms.create("duplicate-app",{appName:s})}const o=new ej(s);for(const c of Kp.values())o.addComponent(c);const a=new qj(n,r,o);return Qu.set(s,a),a}function $d(t=qp){const e=Qu.get(t);if(!e&&t===qp&&MS())return KS();if(!e)throw ms.create("no-app",{appName:t});return e}function Dt(t,e,n){var r;let s=(r=Vj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Sr.warn(a.join(" "));return}On(new un(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="firebase-heartbeat-database",Yj=1,Sl="firebase-heartbeat-store";let cf=null;function YS(){return cf||(cf=qS(Kj,Yj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw ms.create("idb-open",{originalErrorMessage:t.message})})),cf}async function Qj(t){try{const n=(await YS()).transaction(Sl),r=await n.objectStore(Sl).get(QS(t));return await n.done,r}catch(e){if(e instanceof jn)Sr.warn(e.message);else{const n=ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Sr.warn(n.message)}}}async function yw(t,e){try{const r=(await YS()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(e,QS(t)),await r.done}catch(n){if(n instanceof jn)Sr.warn(n.message);else{const r=ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Sr.warn(r.message)}}}function QS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=1024,Jj=30*24*60*60*1e3;class Zj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new tL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=Jj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Sr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:r,unsentEntries:s}=eL(this._heartbeatsCache.heartbeats),i=qu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Sr.warn(n),""}}}function vw(){return new Date().toISOString().substring(0,10)}function eL(t,e=Xj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ww(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ww(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class tL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HS()?BS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return yw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ww(t){return qu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nL(t){On(new un("platform-logger",e=>new mj(e),"PRIVATE")),On(new un("heartbeat",e=>new Zj(e),"PRIVATE")),Dt(Gp,mw,t),Dt(Gp,mw,"esm2017"),Dt("fire-js","")}nL("");function jg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rL=XS,JS=new _i("auth","Firebase",XS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Wl("@firebase/auth");function sL(t,...e){Xu.logLevel<=pe.WARN&&Xu.warn(`Auth (${xi}): ${t}`,...e)}function lu(t,...e){Xu.logLevel<=pe.ERROR&&Xu.error(`Auth (${xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(t,...e){throw Mg(t,...e)}function Nn(t,...e){return Mg(t,...e)}function Lg(t,e,n){const r=Object.assign(Object.assign({},rL()),{[e]:n});return new _i("auth","Firebase",r).create(e,{appName:t.name})}function mr(t){return Lg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iL(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&dn(t,"argument-error"),Lg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Mg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return JS.create(t,...e)}function X(t,e,...n){if(!t)throw Mg(e,...n)}function ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lu(e),new Error(e)}function br(t,e){t||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function oL(){return _w()==="http:"||_w()==="https:"}function _w(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oL()||US()||"connection"in navigator)?navigator.onLine:!0}function lL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.shortDelay=e,this.longDelay=n,br(n>e,"Short delay should be less than long delay!"),this.isMobile=Pg()||zS()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){br(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=new Gl(3e4,6e4);function Rr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Qn(t,e,n,r,s={}){return eb(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ko(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:c},i);return O4()||(u.referrerPolicy="no-referrer"),ZS.fetch()(tb(t,t.config.apiHost,n,a),u)})}async function eb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cL),e);try{const s=new hL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Hc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Hc(t,"user-disabled",o);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Lg(t,f,u);dn(t,f)}}catch(s){if(s instanceof jn)throw s;dn(t,"network-request-failed",{message:String(s)})}}async function ql(t,e,n,r,s={}){const i=await Qn(t,e,n,r,s);return"mfaPendingCredential"in i&&dn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function tb(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Dg(t.config,s):`${t.config.apiScheme}://${s}`}function dL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Nn(this.auth,"network-request-failed")),uL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Nn(t,e,r);return s.customData._tokenResponse=n,s}function xw(t){return t!==void 0&&t.enterprise!==void 0}class fL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function pL(t,e){return Qn(t,"GET","/v2/recaptchaConfig",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(t,e){return Qn(t,"POST","/v1/accounts:delete",e)}async function nb(t,e){return Qn(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gL(t,e=!1){const n=St(t),r=await n.getIdToken(e),s=Fg(r);X(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ga(uf(s.auth_time)),issuedAtTime:Ga(uf(s.iat)),expirationTime:Ga(uf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function uf(t){return Number(t)*1e3}function Fg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lu("JWT malformed, contained fewer than 3 sections"),null;try{const s=Ku(n);return s?JSON.parse(s):(lu("Failed to decode base64 JWT payload"),null)}catch(s){return lu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Ew(t){const e=Fg(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof jn&&yL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ga(this.lastLoginAt),this.creationTime=Ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ju(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Lo(t,nb(n,{idToken:r}));X(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?rb(i.providerUserInfo):[],a=_L(t.providerData,o),c=t.isAnonymous,u=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),f=c?u:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,p)}async function wL(t){const e=St(t);await Ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _L(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function rb(t){return t.map(e=>{var{providerId:n}=e,r=jg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(t,e){const n=await eb(t,{},async()=>{const r=Ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=tb(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ZS.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EL(t,e){return Qn(t,"POST","/v2/accounts:revokeToken",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");const n=Ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await xL(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new io;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(X(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(X(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=jg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Lo(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gL(this,e)}reload(){return wL(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ju(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(mr(this.auth));const e=await this.getIdToken();return await Lo(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,c,u,f;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,v=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,x=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,I=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:b,emailVerified:P,isAnonymous:L,providerData:D,stsTokenManager:T}=n;X(b&&T,e,"internal-error");const _=io.fromJSON(this.name,T);X(typeof b=="string",e,"internal-error"),Fr(p,e.name),Fr(m,e.name),X(typeof P=="boolean",e,"internal-error"),X(typeof L=="boolean",e,"internal-error"),Fr(v,e.name),Fr(x,e.name),Fr(w,e.name),Fr(I,e.name),Fr(E,e.name),Fr(y,e.name);const S=new dr({uid:b,auth:e,email:m,emailVerified:P,displayName:p,isAnonymous:L,photoURL:x,phoneNumber:v,tenantId:w,stsTokenManager:_,createdAt:E,lastLoginAt:y});return D&&Array.isArray(D)&&(S.providerData=D.map(k=>Object.assign({},k))),I&&(S._redirectEventId=I),S}static async _fromIdTokenResponse(e,n,r=!1){const s=new io;s.updateFromServerResponse(n);const i=new dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ju(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];X(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?rb(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new io;a.updateFromIdToken(r);const c=new dr({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Qp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new Map;function hr(t){br(t instanceof Function,"Expected a class definition");let e=Cw.get(t);return e?(br(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sb.type="NONE";const Sw=sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e,n){return`firebase:${t}:${e}:${n}`}class oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=cu(this.userKey,s.apiKey,i),this.fullPersistenceKey=cu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oo(hr(Sw),e,r);const s=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let i=s[0]||hr(Sw);const o=cu(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const f=await u._get(o);if(f){const p=dr._fromJSON(e,f);u!==i&&(a=p),i=u;break}}catch{}const c=s.filter(u=>u._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new oo(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==i)try{await u._remove(o)}catch{}})),new oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ub(e))return"Blackberry";if(db(e))return"Webos";if(ob(e))return"Safari";if((e.includes("chrome/")||ab(e))&&!e.includes("edge/"))return"Chrome";if(cb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ib(t=xt()){return/firefox\//i.test(t)}function ob(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ab(t=xt()){return/crios\//i.test(t)}function lb(t=xt()){return/iemobile/i.test(t)}function cb(t=xt()){return/android/i.test(t)}function ub(t=xt()){return/blackberry/i.test(t)}function db(t=xt()){return/webos/i.test(t)}function Ug(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function CL(t=xt()){var e;return Ug(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SL(){return j4()&&document.documentMode===10}function hb(t=xt()){return Ug(t)||cb(t)||db(t)||ub(t)||/windows phone/i.test(t)||lb(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e=[]){let n;switch(t){case"Browser":n=bw(xt());break;case"Worker":n=`${bw(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e={}){return Qn(t,"GET","/v2/passwordPolicy",Rr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=6;class NL{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:IL,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Tw(this),this.idTokenSubscription=new Tw(this),this.beforeStateQueue=new bL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await oo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await nb(this,{idToken:e}),r=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ju(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(mr(this));const n=e?St(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TL(this),n=new NL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _i("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=await oo.create(this,[hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&sL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ar(t){return St(t)}class Tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=H4(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(t){Hd=t}function pb(t){return Hd.loadJS(t)}function AL(){return Hd.recaptchaEnterpriseScript}function PL(){return Hd.gapiScript}function OL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const jL="recaptcha-enterprise",LL="NO_RECAPTCHA";class ML{constructor(e){this.type=jL,this.auth=Ar(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{pL(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new fL(c);return i.tenantId==null?i._agentRecaptchaConfig=u:i._tenantRecaptchaConfigs[i.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;xw(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(u=>{o(u)}).catch(()=>{o(LL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&xw(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=AL();c.length!==0&&(c+=a),pb(c).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function Iw(t,e,n,r=!1){const s=new ML(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Zu(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Iw(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Iw(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(t,e){const n=ks(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Cl(i,e??{}))return s;dn(s,"already-initialized")}return n.initialize({options:e})}function FL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UL(t,e,n){const r=Ar(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=mb(e),{host:o,port:a}=zL(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),$L()}function mb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zL(t){const e=mb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Nw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Nw(o)}}}function Nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $L(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function HL(t,e){return Qn(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(t,e){return ql(t,"POST","/v1/accounts:signInWithPassword",Rr(t,e))}async function gb(t,e){return Qn(t,"POST","/v1/accounts:sendOobCode",Rr(t,e))}async function VL(t,e){return gb(t,e)}async function WL(t,e){return gb(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(t,e){return ql(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}async function qL(t,e){return ql(t,"POST","/v1/accounts:signInWithEmailLink",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl extends zg{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(e,n,"signInWithPassword",BL);case"emailLink":return GL(e,{email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(e,r,"signUpPassword",HL);case"emailLink":return qL(e,{idToken:n,email:this._email,oobCode:this._password});default:dn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(t,e){return ql(t,"POST","/v1/accounts:signInWithIdp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL="http://localhost";class ui extends zg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=jg(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ui(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ao(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:KL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ko(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QL(t){const e=Oa(ja(t)).link,n=e?Oa(ja(e)).deep_link_id:null,r=Oa(ja(t)).deep_link_id;return(r?Oa(ja(r)).link:null)||r||n||e||t}class $g{constructor(e){var n,r,s,i,o,a;const c=Oa(ja(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,f=(r=c.oobCode)!==null&&r!==void 0?r:null,p=YL((s=c.mode)!==null&&s!==void 0?s:null);X(u&&f&&p,"argument-error"),this.apiKey=u,this.operation=p,this.code=f,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QL(e);try{return new $g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,n){return bl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=$g.parseLink(n);return X(r,"argument-error"),bl._fromEmailAndCode(e,r.code,r.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends Hg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Kl{constructor(){super("facebook.com")}static credential(e){return ui._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ui._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.GOOGLE_SIGN_IN_METHOD="google.com";ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends Kl{constructor(){super("github.com")}static credential(e){return ui._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Kl{constructor(){super("twitter.com")}static credential(e,n){return ui._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Kr.credential(n,r)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(t,e){return ql(t,"POST","/v1/accounts:signUp",Rr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await dr._fromIdTokenResponse(e,r,s),o=kw(r);return new di({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=kw(r);return new di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function kw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed extends jn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ed.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ed(e,n,r,s)}}function yb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ed._fromErrorAndOperation(t,i,e,r):i})}async function JL(t,e,n=!1){const r=await Lo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(t,e,n=!1){const{auth:r}=t;if(Cn(r.app))return Promise.reject(mr(r));const s="reauthenticate";try{const i=await Lo(t,yb(r,s,e,t),n);X(i.idToken,r,"internal-error");const o=Fg(i.idToken);X(o,r,"internal-error");const{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),di._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&dn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(t,e,n=!1){if(Cn(t.app))return Promise.reject(mr(t));const r="signIn",s=await yb(t,r,e),i=await di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function eM(t,e){return vb(Ar(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wb(t){const e=Ar(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tM(t,e,n){const r=Ar(t);await Zu(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",WL)}async function nM(t,e,n){if(Cn(t.app))return Promise.reject(mr(t));const r=Ar(t),o=await Zu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XL).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wb(t),c}),a=await di._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function rM(t,e,n){return Cn(t.app)?Promise.reject(mr(t)):eM(St(t),Yo.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wb(t),r})}async function sM(t,e){const n=St(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await VL(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return Qn(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=St(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Lo(r,iM(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function oM(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function aM(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function lM(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function cM(t){return St(t).signOut()}const td="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(td,"1"),this.storage.removeItem(td),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=1e3,dM=10;class Eb extends xb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);SL()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,dM):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Eb.type="LOCAL";const hM=Eb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb extends xb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Cb.type="SESSION";const Sb=Cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async u=>u(n.origin,i)),c=await fM(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const u=Bg("",20);s.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(f),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function mM(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function gM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vM(){return bb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebaseLocalStorageDb",wM=1,nd="firebaseLocalStorage",Ib="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([nd],e?"readwrite":"readonly").objectStore(nd)}function _M(){const t=indexedDB.deleteDatabase(Tb);return new Yl(t).toPromise()}function Xp(){const t=indexedDB.open(Tb,wM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(nd,{keyPath:Ib})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(nd)?e(r):(r.close(),await _M(),e(await Xp()))})})}async function Rw(t,e,n){const r=Vd(t,!0).put({[Ib]:e,value:n});return new Yl(r).toPromise()}async function xM(t,e){const n=Vd(t,!1).get(e),r=await new Yl(n).toPromise();return r===void 0?null:r.value}function Aw(t,e){const n=Vd(t,!0).delete(e);return new Yl(n).toPromise()}const EM=800,CM=3;class Nb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>CM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(vM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gM(),!this.activeServiceWorker)return;this.sender=new pM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Rw(e,td,"1"),await Aw(e,td),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Rw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>xM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Aw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vd(s,!1).getAll();return new Yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),EM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Nb.type="LOCAL";const SM=Nb;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e){return e?hr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends zg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bM(t){return vb(t.auth,new Vg(t),t.bypassAuthState)}function TM(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),ZL(n,new Vg(t),t.bypassAuthState)}async function IM(t){const{auth:e,user:n}=t;return X(n,e,"internal-error"),JL(n,new Vg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bM;case"linkViaPopup":case"linkViaRedirect":return IM;case"reauthViaPopup":case"reauthViaRedirect":return TM;default:dn(this.auth,"internal-error")}}resolve(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){br(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=new Gl(2e3,1e4);async function kM(t,e,n){if(Cn(t.app))return Promise.reject(Nn(t,"operation-not-supported-in-this-environment"));const r=Ar(t);iL(t,e,Hg);const s=kb(r,n);return new Bs(r,"signInViaPopup",e,s).executeNotNull()}class Bs extends Rb{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return X(e,this.auth,"internal-error"),e}async onExecution(){br(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Nn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Nn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Nn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NM.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="pendingRedirect",uu=new Map;class AM extends Rb{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uu.get(this.auth._key());if(!e){try{const r=await PM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uu.set(this.auth._key(),e)}return this.bypassAuthState||uu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PM(t,e){const n=LM(e),r=jM(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function OM(t,e){uu.set(t._key(),e)}function jM(t){return hr(t._redirectPersistence)}function LM(t){return cu(RM,t.config.apiKey,t.name)}async function MM(t,e,n=!1){if(Cn(t.app))return Promise.reject(mr(t));const r=Ar(t),s=kb(r,e),o=await new AM(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM=10*60*1e3;class FM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ab(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Nn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DM&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ab({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ab(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zM(t,e={}){return Qn(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HM=/^https?/;async function BM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zM(t);for(const n of e)try{if(VM(n))return}catch{}dn(t,"unauthorized-domain")}function VM(t){const e=Yp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!HM.test(n))return!1;if($M.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=new Gl(3e4,6e4);function Ow(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GM(t){return new Promise((e,n)=>{var r,s,i;function o(){Ow(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ow(),n(Nn(t,"network-request-failed"))},timeout:WM.get()})}if(!((s=(r=Gn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Gn().gapi)===null||i===void 0)&&i.load)o();else{const a=OL("iframefcb");return Gn()[a]=()=>{gapi.load?o():n(Nn(t,"network-request-failed"))},pb(`${PL()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw du=null,e})}let du=null;function qM(t){return du=du||GM(t),du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM=new Gl(5e3,15e3),YM="__/auth/iframe",QM="emulator/auth/iframe",XM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZM(t){const e=t.config;X(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dg(e,QM):`https://${t.config.authDomain}/${YM}`,r={apiKey:e.apiKey,appName:t.name,v:xi},s=JM.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ko(r).slice(1)}`}async function eD(t){const e=await qM(t),n=Gn().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:ZM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XM,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Nn(t,"network-request-failed"),a=Gn().setTimeout(()=>{i(o)},KM.get());function c(){Gn().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nD=500,rD=600,sD="_blank",iD="http://localhost";class jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oD(t,e,n,r=nD,s=rD){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},tD),{width:r.toString(),height:s.toString(),top:i,left:o}),u=xt().toLowerCase();n&&(a=ab(u)?sD:n),ib(u)&&(e=e||iD,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[v,x])=>`${m}${v}=${x},`,"");if(CL(u)&&a!=="_self")return aD(e||"",a),new jw(null);const p=window.open(e||"",a,f);X(p,t,"popup-blocked");try{p.focus()}catch{}return new jw(p)}function aD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="__/auth/handler",cD="emulator/auth/handler",uD=encodeURIComponent("fac");async function Lw(t,e,n,r,s,i){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xi,eventId:s};if(e instanceof Hg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Bp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))o[f]=p}if(e instanceof Kl){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(o.scopes=f.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const c=await t._getAppCheckToken(),u=c?`#${uD}=${encodeURIComponent(c)}`:"";return`${dD(t)}?${Ko(a).slice(1)}${u}`}function dD({config:t}){return t.emulator?Dg(t,cD):`https://${t.authDomain}/${lD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="webStorageSupport";class hD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sb,this._completeRedirectFn=MM,this._overrideRedirectResult=OM}async _openPopup(e,n,r,s){var i;br((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Lw(e,n,r,Yp(),s);return oD(e,o,Bg())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Lw(e,n,r,Yp(),s);return mM(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(br(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eD(e),r=new FM(e);return n.register("authEvent",s=>(X(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(df,{type:df},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[df];o!==void 0&&n(!!o),dn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hb()||ob()||Ug()}}const fD=hD;var Mw="@firebase/auth",Dw="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gD(t){On(new un("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fb(t)},u=new kL(r,s,i,c);return FL(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),On(new un("auth-internal",e=>{const n=Ar(e.getProvider("auth").getImmediate());return(r=>new pD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dt(Mw,Dw,mD(t)),Dt(Mw,Dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=5*60,vD=DS("authIdTokenMaxAge")||yD;let Fw=null;const wD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vD)return;const s=n==null?void 0:n.token;Fw!==s&&(Fw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function _D(t=$d()){const e=ks(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DL(t,{popupRedirectResolver:fD,persistence:[SM,hM,Sb]}),r=DS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=wD(i.toString());aM(n,o,()=>o(n.currentUser)),oM(n,a=>o(a))}}const s=jS("auth");return s&&UL(n,`http://${s}`),n}function xD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Nn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",xD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gD("Browser");var ED="firebase",CD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt(ED,CD,"app");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,_){function S(){}S.prototype=_.prototype,T.D=_.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(k,A,O){for(var R=Array(arguments.length-2),H=2;H<arguments.length;H++)R[H-2]=arguments[H];return _.prototype[A].apply(k,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,_,S){S||(S=0);var k=Array(16);if(typeof _=="string")for(var A=0;16>A;++A)k[A]=_.charCodeAt(S++)|_.charCodeAt(S++)<<8|_.charCodeAt(S++)<<16|_.charCodeAt(S++)<<24;else for(A=0;16>A;++A)k[A]=_[S++]|_[S++]<<8|_[S++]<<16|_[S++]<<24;_=T.g[0],S=T.g[1],A=T.g[2];var O=T.g[3],R=_+(O^S&(A^O))+k[0]+3614090360&4294967295;_=S+(R<<7&4294967295|R>>>25),R=O+(A^_&(S^A))+k[1]+3905402710&4294967295,O=_+(R<<12&4294967295|R>>>20),R=A+(S^O&(_^S))+k[2]+606105819&4294967295,A=O+(R<<17&4294967295|R>>>15),R=S+(_^A&(O^_))+k[3]+3250441966&4294967295,S=A+(R<<22&4294967295|R>>>10),R=_+(O^S&(A^O))+k[4]+4118548399&4294967295,_=S+(R<<7&4294967295|R>>>25),R=O+(A^_&(S^A))+k[5]+1200080426&4294967295,O=_+(R<<12&4294967295|R>>>20),R=A+(S^O&(_^S))+k[6]+2821735955&4294967295,A=O+(R<<17&4294967295|R>>>15),R=S+(_^A&(O^_))+k[7]+4249261313&4294967295,S=A+(R<<22&4294967295|R>>>10),R=_+(O^S&(A^O))+k[8]+1770035416&4294967295,_=S+(R<<7&4294967295|R>>>25),R=O+(A^_&(S^A))+k[9]+2336552879&4294967295,O=_+(R<<12&4294967295|R>>>20),R=A+(S^O&(_^S))+k[10]+4294925233&4294967295,A=O+(R<<17&4294967295|R>>>15),R=S+(_^A&(O^_))+k[11]+2304563134&4294967295,S=A+(R<<22&4294967295|R>>>10),R=_+(O^S&(A^O))+k[12]+1804603682&4294967295,_=S+(R<<7&4294967295|R>>>25),R=O+(A^_&(S^A))+k[13]+4254626195&4294967295,O=_+(R<<12&4294967295|R>>>20),R=A+(S^O&(_^S))+k[14]+2792965006&4294967295,A=O+(R<<17&4294967295|R>>>15),R=S+(_^A&(O^_))+k[15]+1236535329&4294967295,S=A+(R<<22&4294967295|R>>>10),R=_+(A^O&(S^A))+k[1]+4129170786&4294967295,_=S+(R<<5&4294967295|R>>>27),R=O+(S^A&(_^S))+k[6]+3225465664&4294967295,O=_+(R<<9&4294967295|R>>>23),R=A+(_^S&(O^_))+k[11]+643717713&4294967295,A=O+(R<<14&4294967295|R>>>18),R=S+(O^_&(A^O))+k[0]+3921069994&4294967295,S=A+(R<<20&4294967295|R>>>12),R=_+(A^O&(S^A))+k[5]+3593408605&4294967295,_=S+(R<<5&4294967295|R>>>27),R=O+(S^A&(_^S))+k[10]+38016083&4294967295,O=_+(R<<9&4294967295|R>>>23),R=A+(_^S&(O^_))+k[15]+3634488961&4294967295,A=O+(R<<14&4294967295|R>>>18),R=S+(O^_&(A^O))+k[4]+3889429448&4294967295,S=A+(R<<20&4294967295|R>>>12),R=_+(A^O&(S^A))+k[9]+568446438&4294967295,_=S+(R<<5&4294967295|R>>>27),R=O+(S^A&(_^S))+k[14]+3275163606&4294967295,O=_+(R<<9&4294967295|R>>>23),R=A+(_^S&(O^_))+k[3]+4107603335&4294967295,A=O+(R<<14&4294967295|R>>>18),R=S+(O^_&(A^O))+k[8]+1163531501&4294967295,S=A+(R<<20&4294967295|R>>>12),R=_+(A^O&(S^A))+k[13]+2850285829&4294967295,_=S+(R<<5&4294967295|R>>>27),R=O+(S^A&(_^S))+k[2]+4243563512&4294967295,O=_+(R<<9&4294967295|R>>>23),R=A+(_^S&(O^_))+k[7]+1735328473&4294967295,A=O+(R<<14&4294967295|R>>>18),R=S+(O^_&(A^O))+k[12]+2368359562&4294967295,S=A+(R<<20&4294967295|R>>>12),R=_+(S^A^O)+k[5]+4294588738&4294967295,_=S+(R<<4&4294967295|R>>>28),R=O+(_^S^A)+k[8]+2272392833&4294967295,O=_+(R<<11&4294967295|R>>>21),R=A+(O^_^S)+k[11]+1839030562&4294967295,A=O+(R<<16&4294967295|R>>>16),R=S+(A^O^_)+k[14]+4259657740&4294967295,S=A+(R<<23&4294967295|R>>>9),R=_+(S^A^O)+k[1]+2763975236&4294967295,_=S+(R<<4&4294967295|R>>>28),R=O+(_^S^A)+k[4]+1272893353&4294967295,O=_+(R<<11&4294967295|R>>>21),R=A+(O^_^S)+k[7]+4139469664&4294967295,A=O+(R<<16&4294967295|R>>>16),R=S+(A^O^_)+k[10]+3200236656&4294967295,S=A+(R<<23&4294967295|R>>>9),R=_+(S^A^O)+k[13]+681279174&4294967295,_=S+(R<<4&4294967295|R>>>28),R=O+(_^S^A)+k[0]+3936430074&4294967295,O=_+(R<<11&4294967295|R>>>21),R=A+(O^_^S)+k[3]+3572445317&4294967295,A=O+(R<<16&4294967295|R>>>16),R=S+(A^O^_)+k[6]+76029189&4294967295,S=A+(R<<23&4294967295|R>>>9),R=_+(S^A^O)+k[9]+3654602809&4294967295,_=S+(R<<4&4294967295|R>>>28),R=O+(_^S^A)+k[12]+3873151461&4294967295,O=_+(R<<11&4294967295|R>>>21),R=A+(O^_^S)+k[15]+530742520&4294967295,A=O+(R<<16&4294967295|R>>>16),R=S+(A^O^_)+k[2]+3299628645&4294967295,S=A+(R<<23&4294967295|R>>>9),R=_+(A^(S|~O))+k[0]+4096336452&4294967295,_=S+(R<<6&4294967295|R>>>26),R=O+(S^(_|~A))+k[7]+1126891415&4294967295,O=_+(R<<10&4294967295|R>>>22),R=A+(_^(O|~S))+k[14]+2878612391&4294967295,A=O+(R<<15&4294967295|R>>>17),R=S+(O^(A|~_))+k[5]+4237533241&4294967295,S=A+(R<<21&4294967295|R>>>11),R=_+(A^(S|~O))+k[12]+1700485571&4294967295,_=S+(R<<6&4294967295|R>>>26),R=O+(S^(_|~A))+k[3]+2399980690&4294967295,O=_+(R<<10&4294967295|R>>>22),R=A+(_^(O|~S))+k[10]+4293915773&4294967295,A=O+(R<<15&4294967295|R>>>17),R=S+(O^(A|~_))+k[1]+2240044497&4294967295,S=A+(R<<21&4294967295|R>>>11),R=_+(A^(S|~O))+k[8]+1873313359&4294967295,_=S+(R<<6&4294967295|R>>>26),R=O+(S^(_|~A))+k[15]+4264355552&4294967295,O=_+(R<<10&4294967295|R>>>22),R=A+(_^(O|~S))+k[6]+2734768916&4294967295,A=O+(R<<15&4294967295|R>>>17),R=S+(O^(A|~_))+k[13]+1309151649&4294967295,S=A+(R<<21&4294967295|R>>>11),R=_+(A^(S|~O))+k[4]+4149444226&4294967295,_=S+(R<<6&4294967295|R>>>26),R=O+(S^(_|~A))+k[11]+3174756917&4294967295,O=_+(R<<10&4294967295|R>>>22),R=A+(_^(O|~S))+k[2]+718787259&4294967295,A=O+(R<<15&4294967295|R>>>17),R=S+(O^(A|~_))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var S=_-this.blockSize,k=this.B,A=this.h,O=0;O<_;){if(A==0)for(;O<=S;)s(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<_;)if(k[A++]=T.charCodeAt(O++),A==this.blockSize){s(this,k),A=0;break}}else for(;O<_;)if(k[A++]=T[O++],A==this.blockSize){s(this,k),A=0;break}}this.h=A,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var S=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=S&255,S/=256;for(this.u(T),T=Array(16),_=S=0;4>_;++_)for(var k=0;32>k;k+=8)T[S++]=this.g[_]>>>k&255;return T};function i(T,_){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=_(T)}function o(T,_){this.h=_;for(var S=[],k=!0,A=T.length-1;0<=A;A--){var O=T[A]|0;k&&O==_||(S[A]=O,k=!1)}this.g=S}var a={};function c(T){return-128<=T&&128>T?i(T,function(_){return new o([_|0],0>_?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return I(u(-T));for(var _=[],S=1,k=0;T>=S;k++)_[k]=T/S|0,S*=4294967296;return new o(_,0)}function f(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return I(f(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=u(Math.pow(_,8)),k=p,A=0;A<T.length;A+=8){var O=Math.min(8,T.length-A),R=parseInt(T.substring(A,A+O),_);8>O?(O=u(Math.pow(_,O)),k=k.j(O).add(u(R))):(k=k.j(S),k=k.add(u(R)))}return k}var p=c(0),m=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-I(this).m();for(var T=0,_=1,S=0;S<this.g.length;S++){var k=this.i(S);T+=(0<=k?k:4294967296+k)*_,_*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x(this))return"0";if(w(this))return"-"+I(this).toString(T);for(var _=u(Math.pow(T,6)),S=this,k="";;){var A=P(S,_).g;S=E(S,A.j(_));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=A,x(S))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function x(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=E(this,T),w(T)?-1:x(T)?0:1};function I(T){for(var _=T.g.length,S=[],k=0;k<_;k++)S[k]=~T.g[k];return new o(S,~T.h).add(m)}t.abs=function(){return w(this)?I(this):this},t.add=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],k=0,A=0;A<=_;A++){var O=k+(this.i(A)&65535)+(T.i(A)&65535),R=(O>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);k=R>>>16,O&=65535,R&=65535,S[A]=R<<16|O}return new o(S,S[S.length-1]&-2147483648?-1:0)};function E(T,_){return T.add(I(_))}t.j=function(T){if(x(this)||x(T))return p;if(w(this))return w(T)?I(this).j(I(T)):I(I(this).j(T));if(w(T))return I(this.j(I(T)));if(0>this.l(v)&&0>T.l(v))return u(this.m()*T.m());for(var _=this.g.length+T.g.length,S=[],k=0;k<2*_;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var A=0;A<T.g.length;A++){var O=this.i(k)>>>16,R=this.i(k)&65535,H=T.i(A)>>>16,ie=T.i(A)&65535;S[2*k+2*A]+=R*ie,y(S,2*k+2*A),S[2*k+2*A+1]+=O*ie,y(S,2*k+2*A+1),S[2*k+2*A+1]+=R*H,y(S,2*k+2*A+1),S[2*k+2*A+2]+=O*H,y(S,2*k+2*A+2)}for(k=0;k<_;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=_;k<2*_;k++)S[k]=0;return new o(S,0)};function y(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function b(T,_){this.g=T,this.h=_}function P(T,_){if(x(_))throw Error("division by zero");if(x(T))return new b(p,p);if(w(T))return _=P(I(T),_),new b(I(_.g),I(_.h));if(w(_))return _=P(T,I(_)),new b(I(_.g),_.h);if(30<T.g.length){if(w(T)||w(_))throw Error("slowDivide_ only works with positive integers.");for(var S=m,k=_;0>=k.l(T);)S=L(S),k=L(k);var A=D(S,1),O=D(k,1);for(k=D(k,2),S=D(S,2);!x(k);){var R=O.add(k);0>=R.l(T)&&(A=A.add(S),O=R),k=D(k,1),S=D(S,1)}return _=E(T,A.j(_)),new b(A,_)}for(A=p;0<=T.l(_);){for(S=Math.max(1,Math.floor(T.m()/_.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=u(S),R=O.j(_);w(R)||0<R.l(T);)S-=k,O=u(S),R=O.j(_);x(O)&&(O=m),A=A.add(O),T=E(T,R)}return new b(A,T)}t.A=function(T){return P(this,T).h},t.and=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],k=0;k<_;k++)S[k]=this.i(k)&T.i(k);return new o(S,this.h&T.h)},t.or=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],k=0;k<_;k++)S[k]=this.i(k)|T.i(k);return new o(S,this.h|T.h)},t.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),S=[],k=0;k<_;k++)S[k]=this.i(k)^T.i(k);return new o(S,this.h^T.h)};function L(T){for(var _=T.g.length+1,S=[],k=0;k<_;k++)S[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(S,T.h)}function D(T,_){var S=_>>5;_%=32;for(var k=T.g.length-S,A=[],O=0;O<k;O++)A[O]=0<_?T.i(O+S)>>>_|T.i(O+S+1)<<32-_:T.i(O+S);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,Pb=o}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,g){return l==Array.prototype||l==Object.prototype||(l[h]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var h=0;h<l.length;++h){var g=l[h];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function s(l,h){if(h)e:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var M=l[C];if(!(M in g))break e;g=g[M]}l=l[l.length-1],C=g[l],h=h(C),h!=C&&h!=null&&e(g,l,{configurable:!0,writable:!0,value:h})}}function i(l,h){l instanceof String&&(l+="");var g=0,C=!1,M={next:function(){if(!C&&g<l.length){var F=g++;return{value:h(F,l[F]),done:!1}}return C=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(l){return l||function(){return i(this,function(h,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function f(l,h,g){return l.call.apply(l.bind,arguments)}function p(l,h,g){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,C),l.apply(h,M)}}return function(){return l.apply(h,arguments)}}function m(l,h,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(l,h){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function x(l,h){function g(){}g.prototype=h.prototype,l.aa=h.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(C,M,F){for(var $=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)$[_e-2]=arguments[_e];return h.prototype[M].apply(C,$)}}function w(l){const h=l.length;if(0<h){const g=Array(h);for(let C=0;C<h;C++)g[C]=l[C];return g}return[]}function I(l,h){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(c(C)){const M=l.length||0,F=C.length||0;l.length=M+F;for(let $=0;$<F;$++)l[M+$]=C[$]}else l.push(C)}}class E{constructor(h,g){this.i=h,this.j=g,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(l){return/^[\s\xa0]*$/.test(l)}function b(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function P(l){return P[" "](l),l}P[" "]=function(){};var L=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function D(l,h,g){for(const C in l)h.call(g,l[C],C,l)}function T(l,h){for(const g in l)h.call(void 0,l[g],g,l)}function _(l){const h={};for(const g in l)h[g]=l[g];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,h){let g,C;for(let M=1;M<arguments.length;M++){C=arguments[M];for(g in C)l[g]=C[g];for(let F=0;F<S.length;F++)g=S[F],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function A(l){var h=1;l=l.split(":");const g=[];for(;0<h&&l.length;)g.push(l.shift()),h--;return l.length&&g.push(l.join(":")),g}function O(l){a.setTimeout(()=>{throw l},0)}function R(){var l=V;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class H{constructor(){this.h=this.g=null}add(h,g){const C=ie.get();C.set(h,g),this.h?this.h.next=C:this.g=C,this.h=C}}var ie=new E(()=>new ne,l=>l.reset());class ne{constructor(){this.next=this.g=this.h=null}set(h,g){this.h=h,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let re,U=!1,V=new H,Y=()=>{const l=a.Promise.resolve(void 0);re=()=>{l.then(ee)}};var ee=()=>{for(var l;l=R();){try{l.h.call(l.g)}catch(g){O(g)}var h=ie;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}U=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,h),a.removeEventListener("test",g,h)}catch{}return l}();function fn(l,h){if(ve.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(L){e:{try{P(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else g=="mouseover"?h=l.fromElement:g=="mouseout"&&(h=l.toElement);this.relatedTarget=h,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:pn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&fn.aa.h.call(this)}}x(fn,ve);var pn={2:"touch",3:"pen",4:"mouse"};fn.prototype.h=function(){fn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),sc=0;function ic(l,h,g,C,M){this.listener=l,this.proxy=null,this.src=h,this.type=g,this.capture=!!C,this.ha=M,this.key=++sc,this.da=this.fa=!1}function Rs(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function As(l){this.src=l,this.g={},this.h=0}As.prototype.add=function(l,h,g,C,M){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var $=Xn(l,h,C,M);return-1<$?(h=l[$],g||(h.fa=!1)):(h=new ic(h,this.src,F,!!C,M),h.fa=g,l.push(h)),h};function bi(l,h){var g=h.type;if(g in l.g){var C=l.g[g],M=Array.prototype.indexOf.call(C,h,void 0),F;(F=0<=M)&&Array.prototype.splice.call(C,M,1),F&&(Rs(h),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Xn(l,h,g,C){for(var M=0;M<l.length;++M){var F=l[M];if(!F.da&&F.listener==h&&F.capture==!!g&&F.ha==C)return M}return-1}var Ti="closure_lm_"+(1e6*Math.random()|0),ea={};function oc(l,h,g,C,M){if(Array.isArray(h)){for(var F=0;F<h.length;F++)oc(l,h[F],g,C,M);return null}return g=Cy(g),l&&l[Qt]?l.K(h,g,u(C)?!!C.capture:!!C,M):eh(l,h,g,!1,C,M)}function eh(l,h,g,C,M,F){if(!h)throw Error("Invalid event type");var $=u(M)?!!M.capture:!!M,_e=rh(l);if(_e||(l[Ti]=_e=new As(l)),g=_e.add(h,g,C,$,F),g.proxy)return g;if(C=th(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)bt||(M=$),M===void 0&&(M=!1),l.addEventListener(h.toString(),C,M);else if(l.attachEvent)l.attachEvent(Ey(h.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function th(){function l(g){return h.call(l.src,l.listener,g)}const h=AI;return l}function Ps(l,h,g,C,M){if(Array.isArray(h))for(var F=0;F<h.length;F++)Ps(l,h[F],g,C,M);else C=u(C)?!!C.capture:!!C,g=Cy(g),l&&l[Qt]?(l=l.i,h=String(h).toString(),h in l.g&&(F=l.g[h],g=Xn(F,g,C,M),-1<g&&(Rs(F[g]),Array.prototype.splice.call(F,g,1),F.length==0&&(delete l.g[h],l.h--)))):l&&(l=rh(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Xn(h,g,C,M)),(g=-1<l?h[l]:null)&&nh(g))}function nh(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[Qt])bi(h.i,l);else{var g=l.type,C=l.proxy;h.removeEventListener?h.removeEventListener(g,C,l.capture):h.detachEvent?h.detachEvent(Ey(g),C):h.addListener&&h.removeListener&&h.removeListener(C),(g=rh(h))?(bi(g,l),g.h==0&&(g.src=null,h[Ti]=null)):Rs(l)}}}function Ey(l){return l in ea?ea[l]:ea[l]="on"+l}function AI(l,h){if(l.da)l=!0;else{h=new fn(h,this);var g=l.listener,C=l.ha||l.src;l.fa&&nh(l),l=g.call(C,h)}return l}function rh(l){return l=l[Ti],l instanceof As?l:null}var sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cy(l){return typeof l=="function"?l:(l[sh]||(l[sh]=function(h){return l.handleEvent(h)}),l[sh])}function et(){de.call(this),this.i=new As(this),this.M=this,this.F=null}x(et,de),et.prototype[Qt]=!0,et.prototype.removeEventListener=function(l,h,g,C){Ps(this,l,h,g,C)};function ft(l,h){var g,C=l.F;if(C)for(g=[];C;C=C.F)g.push(C);if(l=l.M,C=h.type||h,typeof h=="string")h=new ve(h,l);else if(h instanceof ve)h.target=h.target||l;else{var M=h;h=new ve(C,l),k(h,M)}if(M=!0,g)for(var F=g.length-1;0<=F;F--){var $=h.g=g[F];M=ac($,C,!0,h)&&M}if($=h.g=l,M=ac($,C,!0,h)&&M,M=ac($,C,!1,h)&&M,g)for(F=0;F<g.length;F++)$=h.g=g[F],M=ac($,C,!1,h)&&M}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var g=l.g[h],C=0;C<g.length;C++)Rs(g[C]);delete l.g[h],l.h--}}this.F=null},et.prototype.K=function(l,h,g,C){return this.i.add(String(l),h,!1,g,C)},et.prototype.L=function(l,h,g,C){return this.i.add(String(l),h,!0,g,C)};function ac(l,h,g,C){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,F=0;F<h.length;++F){var $=h[F];if($&&!$.da&&$.capture==g){var _e=$.listener,Ye=$.ha||$.src;$.fa&&bi(l.i,$),M=_e.call(Ye,C)!==!1&&M}}return M&&!C.defaultPrevented}function Sy(l,h,g){if(typeof l=="function")g&&(l=m(l,g));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function by(l){l.g=Sy(()=>{l.g=null,l.i&&(l.i=!1,by(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}class PI extends de{constructor(h,g){super(),this.m=h,this.l=g,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:by(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(l){de.call(this),this.h=l,this.g={}}x(ta,de);var Ty=[];function Iy(l){D(l.g,function(h,g){this.g.hasOwnProperty(g)&&nh(h)},l),l.g={}}ta.prototype.N=function(){ta.aa.N.call(this),Iy(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ih=a.JSON.stringify,OI=a.JSON.parse,jI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function oh(){}oh.prototype.h=null;function Ny(l){return l.h||(l.h=l.i())}function LI(){}var na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ah(){ve.call(this,"d")}x(ah,ve);function lh(){ve.call(this,"c")}x(lh,ve);var Ii={},ky=null;function ch(){return ky=ky||new et}Ii.La="serverreachability";function Ry(l){ve.call(this,Ii.La,l)}x(Ry,ve);function ra(l){const h=ch();ft(h,new Ry(h))}Ii.STAT_EVENT="statevent";function Ay(l,h){ve.call(this,Ii.STAT_EVENT,l),this.stat=h}x(Ay,ve);function pt(l){const h=ch();ft(h,new Ay(h,l))}Ii.Ma="timingevent";function Py(l,h){ve.call(this,Ii.Ma,l),this.size=h}x(Py,ve);function sa(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ia(){this.g=!0}ia.prototype.xa=function(){this.g=!1};function MI(l,h,g,C,M,F){l.info(function(){if(l.g)if(F)for(var $="",_e=F.split("&"),Ye=0;Ye<_e.length;Ye++){var fe=_e[Ye].split("=");if(1<fe.length){var tt=fe[0];fe=fe[1];var nt=tt.split("_");$=2<=nt.length&&nt[1]=="type"?$+(tt+"="+fe+"&"):$+(tt+"=redacted&")}}else $=null;else $=F;return"XMLHTTP REQ ("+C+") [attempt "+M+"]: "+h+`
`+g+`
`+$})}function DI(l,h,g,C,M,F,$){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+M+"]: "+h+`
`+g+`
`+F+" "+$})}function Ni(l,h,g,C){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+UI(l,g)+(C?" "+C:"")})}function FI(l,h){l.info(function(){return"TIMEOUT: "+h})}ia.prototype.info=function(){};function UI(l,h){if(!l.g)return h;if(!h)return null;try{var g=JSON.parse(h);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var C=g[l];if(!(2>C.length)){var M=C[1];if(Array.isArray(M)&&!(1>M.length)){var F=M[0];if(F!="noop"&&F!="stop"&&F!="close")for(var $=1;$<M.length;$++)M[$]=""}}}}return ih(g)}catch{return h}}var uh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dh;function lc(){}x(lc,oh),lc.prototype.g=function(){return new XMLHttpRequest},lc.prototype.i=function(){return{}},dh=new lc;function Pr(l,h,g,C){this.j=l,this.i=h,this.l=g,this.R=C||1,this.U=new ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oy}function Oy(){this.i=null,this.g="",this.h=!1}var jy={},hh={};function fh(l,h,g){l.L=1,l.v=hc(Jn(h)),l.m=g,l.P=!0,Ly(l,null)}function Ly(l,h){l.F=Date.now(),cc(l),l.A=Jn(l.v);var g=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),Yy(g.i,"t",C),l.C=0,g=l.j.J,l.h=new Oy,l.g=fv(l.j,g?h:null,!l.m),0<l.O&&(l.M=new PI(m(l.Y,l,l.g),l.O)),h=l.U,g=l.g,C=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(Ty[0]=M.toString()),M=Ty);for(var F=0;F<M.length;F++){var $=oc(g,M[F],C||h.handleEvent,!1,h.h||h);if(!$)break;h.g[$.key]=$}h=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),ra(),MI(l.i,l.u,l.A,l.l,l.R,l.m)}Pr.prototype.ca=function(l){l=l.target;const h=this.M;h&&Zn(l)==3?h.j():this.Y(l)},Pr.prototype.Y=function(l){try{if(l==this.g)e:{const nt=Zn(this.g);var h=this.g.Ba();const Ai=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||nv(this.g)))){this.J||nt!=4||h==7||(h==8||0>=Ai?ra(3):ra(2)),ph(this);var g=this.g.Z();this.X=g;t:if(My(this)){var C=nv(this.g);l="";var M=C.length,F=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Os(this),oa(this);var $="";break t}this.h.i=new a.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,l+=this.h.i.decode(C[h],{stream:!(F&&h==M-1)});C.length=0,this.h.g+=l,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=g==200,DI(this.i,this.u,this.A,this.l,this.R,nt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var _e,Ye=this.g;if((_e=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(_e)){var fe=_e;break t}}fe=null}if(g=fe)Ni(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mh(this,g);else{this.o=!1,this.s=3,pt(12),Os(this),oa(this);break e}}if(this.P){g=!0;let mn;for(;!this.J&&this.C<$.length;)if(mn=$I(this,$),mn==hh){nt==4&&(this.s=4,pt(14),g=!1),Ni(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==jy){this.s=4,pt(15),Ni(this.i,this.l,$,"[Invalid Chunk]"),g=!1;break}else Ni(this.i,this.l,mn,null),mh(this,mn);if(My(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||$.length!=0||this.h.h||(this.s=1,pt(16),g=!1),this.o=this.o&&g,!g)Ni(this.i,this.l,$,"[Invalid Chunked Response]"),Os(this),oa(this);else if(0<$.length&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.ba&&!tt.M&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),xh(tt),tt.M=!0,pt(11))}}else Ni(this.i,this.l,$,null),mh(this,$);nt==4&&Os(this),this.o&&!this.J&&(nt==4?cv(this.j,this):(this.o=!1,cc(this)))}else sN(this.g),g==400&&0<$.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Os(this),oa(this)}}}catch{}finally{}};function My(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function $I(l,h){var g=l.C,C=h.indexOf(`
`,g);return C==-1?hh:(g=Number(h.substring(g,C)),isNaN(g)?jy:(C+=1,C+g>h.length?hh:(h=h.slice(C,C+g),l.C=C+g,h)))}Pr.prototype.cancel=function(){this.J=!0,Os(this)};function cc(l){l.S=Date.now()+l.I,Dy(l,l.I)}function Dy(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=sa(m(l.ba,l),h)}function ph(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Pr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(FI(this.i,this.A),this.L!=2&&(ra(),pt(17)),Os(this),this.s=2,oa(this)):Dy(this,this.S-l)};function oa(l){l.j.G==0||l.J||cv(l.j,l)}function Os(l){ph(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,Iy(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function mh(l,h){try{var g=l.j;if(g.G!=0&&(g.g==l||gh(g.h,l))){if(!l.K&&gh(g.h,l)&&g.G==3){try{var C=g.Da.g.parse(h)}catch{C=null}if(Array.isArray(C)&&C.length==3){var M=C;if(M[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)vc(g),gc(g);else break e;_h(g),pt(18)}}else g.za=M[1],0<g.za-g.T&&37500>M[2]&&g.F&&g.v==0&&!g.C&&(g.C=sa(m(g.Za,g),6e3));if(1>=zy(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ls(g,11)}else if((l.K||g.g==l)&&vc(g),!y(h))for(M=g.Da.g.parse(h),h=0;h<M.length;h++){let fe=M[h];if(g.T=fe[0],fe=fe[1],g.G==2)if(fe[0]=="c"){g.K=fe[1],g.ia=fe[2];const tt=fe[3];tt!=null&&(g.la=tt,g.j.info("VER="+g.la));const nt=fe[4];nt!=null&&(g.Aa=nt,g.j.info("SVER="+g.Aa));const Ai=fe[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(C=1.5*Ai,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const mn=l.g;if(mn){const wc=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var F=C.h;F.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(yh(F,F.h),F.h=null))}if(C.D){const Eh=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(C.ya=Eh,Ee(C.I,C.D,Eh))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var $=l;if(C.qa=hv(C,C.J?C.ia:null,C.W),$.K){$y(C.h,$);var _e=$,Ye=C.L;Ye&&(_e.I=Ye),_e.B&&(ph(_e),cc(_e)),C.g=$}else av(C);0<g.i.length&&yc(g)}else fe[0]!="stop"&&fe[0]!="close"||Ls(g,7);else g.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?Ls(g,7):wh(g):fe[0]!="noop"&&g.l&&g.l.ta(fe),g.v=0)}}ra(4)}catch{}}var HI=class{constructor(l,h){this.g=l,this.map=h}};function Fy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function zy(l){return l.h?1:l.g?l.g.size:0}function gh(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function yh(l,h){l.g?l.g.add(h):l.h=h}function $y(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}Fy.prototype.cancel=function(){if(this.i=Hy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Hy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(const g of l.g.values())h=h.concat(g.D);return h}return w(l.i)}function BI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],g=l.length,C=0;C<g;C++)h.push(l[C]);return h}h=[],g=0;for(C in l)h[g++]=l[C];return h}function VI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var g=0;g<l;g++)h.push(g);return h}h=[],g=0;for(const C in l)h[g++]=C;return h}}}function By(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var g=VI(l),C=BI(l),M=C.length,F=0;F<M;F++)h.call(void 0,C[F],g&&g[F],l)}var Vy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function WI(l,h){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var C=l[g].indexOf("="),M=null;if(0<=C){var F=l[g].substring(0,C);M=l[g].substring(C+1)}else F=l[g];h(F,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function js(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof js){this.h=l.h,uc(this,l.j),this.o=l.o,this.g=l.g,dc(this,l.s),this.l=l.l;var h=l.i,g=new ca;g.i=h.i,h.g&&(g.g=new Map(h.g),g.h=h.h),Wy(this,g),this.m=l.m}else l&&(h=String(l).match(Vy))?(this.h=!1,uc(this,h[1]||"",!0),this.o=aa(h[2]||""),this.g=aa(h[3]||"",!0),dc(this,h[4]),this.l=aa(h[5]||"",!0),Wy(this,h[6]||"",!0),this.m=aa(h[7]||"")):(this.h=!1,this.i=new ca(null,this.h))}js.prototype.toString=function(){var l=[],h=this.j;h&&l.push(la(h,Gy,!0),":");var g=this.g;return(g||h=="file")&&(l.push("//"),(h=this.o)&&l.push(la(h,Gy,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(la(g,g.charAt(0)=="/"?KI:qI,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",la(g,QI)),l.join("")};function Jn(l){return new js(l)}function uc(l,h,g){l.j=g?aa(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function dc(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function Wy(l,h,g){h instanceof ca?(l.i=h,XI(l.i,l.h)):(g||(h=la(h,YI)),l.i=new ca(h,l.h))}function Ee(l,h,g){l.i.set(h,g)}function hc(l){return Ee(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function aa(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function la(l,h,g){return typeof l=="string"?(l=encodeURI(l).replace(h,GI),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function GI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Gy=/[#\/\?@]/g,qI=/[#\?:]/g,KI=/[#\?]/g,YI=/[#\?@]/g,QI=/#/g;function ca(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function Or(l){l.g||(l.g=new Map,l.h=0,l.i&&WI(l.i,function(h,g){l.add(decodeURIComponent(h.replace(/\+/g," ")),g)}))}t=ca.prototype,t.add=function(l,h){Or(this),this.i=null,l=ki(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(h),this.h+=1,this};function qy(l,h){Or(l),h=ki(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function Ky(l,h){return Or(l),h=ki(l,h),l.g.has(h)}t.forEach=function(l,h){Or(this),this.g.forEach(function(g,C){g.forEach(function(M){l.call(h,M,C,this)},this)},this)},t.na=function(){Or(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),g=[];for(let C=0;C<h.length;C++){const M=l[C];for(let F=0;F<M.length;F++)g.push(h[C])}return g},t.V=function(l){Or(this);let h=[];if(typeof l=="string")Ky(this,l)&&(h=h.concat(this.g.get(ki(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)h=h.concat(l[g])}return h},t.set=function(l,h){return Or(this),this.i=null,l=ki(this,l),Ky(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},t.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function Yy(l,h,g){qy(l,h),0<g.length&&(l.i=null,l.g.set(ki(l,h),w(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var g=0;g<h.length;g++){var C=h[g];const F=encodeURIComponent(String(C)),$=this.V(C);for(C=0;C<$.length;C++){var M=F;$[C]!==""&&(M+="="+encodeURIComponent(String($[C]))),l.push(M)}}return this.i=l.join("&")};function ki(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function XI(l,h){h&&!l.j&&(Or(l),l.i=null,l.g.forEach(function(g,C){var M=C.toLowerCase();C!=M&&(qy(this,C),Yy(this,M,g))},l)),l.j=h}function JI(l,h){const g=new ia;if(a.Image){const C=new Image;C.onload=v(jr,g,"TestLoadImage: loaded",!0,h,C),C.onerror=v(jr,g,"TestLoadImage: error",!1,h,C),C.onabort=v(jr,g,"TestLoadImage: abort",!1,h,C),C.ontimeout=v(jr,g,"TestLoadImage: timeout",!1,h,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else h(!1)}function ZI(l,h){const g=new ia,C=new AbortController,M=setTimeout(()=>{C.abort(),jr(g,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:C.signal}).then(F=>{clearTimeout(M),F.ok?jr(g,"TestPingServer: ok",!0,h):jr(g,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),jr(g,"TestPingServer: error",!1,h)})}function jr(l,h,g,C,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),C(g)}catch{}}function eN(){this.g=new jI}function tN(l,h,g){const C=g||"";try{By(l,function(M,F){let $=M;u(M)&&($=ih(M)),h.push(C+F+"="+encodeURIComponent($))})}catch(M){throw h.push(C+"type="+encodeURIComponent("_badmap")),M}}function fc(l){this.l=l.Ub||null,this.j=l.eb||!1}x(fc,oh),fc.prototype.g=function(){return new pc(this.l,this.j)},fc.prototype.i=function(l){return function(){return l}}({});function pc(l,h){et.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(pc,et),t=pc.prototype,t.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,da(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ua(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,da(this)),this.g&&(this.readyState=3,da(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?ua(this):da(this),this.readyState==3&&Qy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ua(this))},t.Qa=function(l){this.g&&(this.response=l,ua(this))},t.ga=function(){this.g&&ua(this)};function ua(l){l.readyState=4,l.l=null,l.j=null,l.v=null,da(l)}t.setRequestHeader=function(l,h){this.u.append(l,h)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var g=h.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=h.next();return l.join(`\r
`)};function da(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(pc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Xy(l){let h="";return D(l,function(g,C){h+=C,h+=":",h+=g,h+=`\r
`}),h}function vh(l,h,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=Xy(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):Ee(l,h,g))}function Le(l){et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Le,et);var nN=/^https?$/i,rN=["POST","PUT"];t=Le.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,h,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dh.g(),this.v=this.o?Ny(this.o):Ny(dh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(F){Jy(this,F);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var M in C)g.set(M,C[M]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const F of C.keys())g.set(F,C.get(F));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(F=>F.toLowerCase()=="content-type"),M=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rN,h,void 0))||C||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,$]of g)this.g.setRequestHeader(F,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tv(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Jy(this,F)}};function Jy(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,Zy(l),mc(l)}function Zy(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),mc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mc(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ev(this):this.bb())},t.bb=function(){ev(this)};function ev(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Zn(l)!=4||l.Z()!=2)){if(l.u&&Zn(l)==4)Sy(l.Ea,0,l);else if(ft(l,"readystatechange"),Zn(l)==4){l.h=!1;try{const $=l.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var g;if(!(g=h)){var C;if(C=$===0){var M=String(l.D).match(Vy)[1]||null;!M&&a.self&&a.self.location&&(M=a.self.location.protocol.slice(0,-1)),C=!nN.test(M?M.toLowerCase():"")}g=C}if(g)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var F=2<Zn(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Zy(l)}}finally{mc(l)}}}}function mc(l,h){if(l.g){tv(l);const g=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||ft(l,"ready");try{g.onreadystatechange=C}catch{}}}function tv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Zn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),OI(h)}};function nv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function sN(l){const h={};l=(l.g&&2<=Zn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(y(l[C]))continue;var g=A(l[C]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const F=h[M]||[];h[M]=F,F.push(g)}T(h,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ha(l,h,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||h}function rv(l){this.Aa=0,this.i=[],this.j=new ia,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ha("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ha("baseRetryDelayMs",5e3,l),this.cb=ha("retryDelaySeedMs",1e4,l),this.Wa=ha("forwardChannelMaxRetries",2,l),this.wa=ha("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Fy(l&&l.concurrentRequestLimit),this.Da=new eN,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rv.prototype,t.la=8,t.G=1,t.connect=function(l,h,g,C){pt(0),this.W=l,this.H=h||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=hv(this,null,this.W),yc(this)};function wh(l){if(sv(l),l.G==3){var h=l.U++,g=Jn(l.I);if(Ee(g,"SID",l.K),Ee(g,"RID",h),Ee(g,"TYPE","terminate"),fa(l,g),h=new Pr(l,l.j,h),h.L=2,h.v=hc(Jn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=h.v,g=!0),g||(h.g=fv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),cc(h)}dv(l)}function gc(l){l.g&&(xh(l),l.g.cancel(),l.g=null)}function sv(l){gc(l),l.u&&(a.clearTimeout(l.u),l.u=null),vc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function yc(l){if(!Uy(l.h)&&!l.s){l.s=!0;var h=l.Ga;re||Y(),U||(re(),U=!0),V.add(h,l),l.B=0}}function iN(l,h){return zy(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=sa(m(l.Ga,l,h),uv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Pr(this,this.j,l);let F=this.o;if(this.S&&(F?(F=_(F),k(F,this.S)):F=this.S),this.m!==null||this.O||(M.H=F,F=null),this.P)e:{for(var h=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(h+=C,4096<h){h=g;break e}if(h===4096||g===this.i.length-1){h=g+1;break e}}h=1e3}else h=1e3;h=ov(this,M,h),g=Jn(this.I),Ee(g,"RID",l),Ee(g,"CVER",22),this.D&&Ee(g,"X-HTTP-Session-Id",this.D),fa(this,g),F&&(this.O?h="headers="+encodeURIComponent(String(Xy(F)))+"&"+h:this.m&&vh(g,this.m,F)),yh(this.h,M),this.Ua&&Ee(g,"TYPE","init"),this.P?(Ee(g,"$req",h),Ee(g,"SID","null"),M.T=!0,fh(M,g,null)):fh(M,g,h),this.G=2}}else this.G==3&&(l?iv(this,l):this.i.length==0||Uy(this.h)||iv(this))};function iv(l,h){var g;h?g=h.l:g=l.U++;const C=Jn(l.I);Ee(C,"SID",l.K),Ee(C,"RID",g),Ee(C,"AID",l.T),fa(l,C),l.m&&l.o&&vh(C,l.m,l.o),g=new Pr(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),h&&(l.i=h.D.concat(l.i)),h=ov(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),yh(l.h,g),fh(g,C,h)}function fa(l,h){l.H&&D(l.H,function(g,C){Ee(h,C,g)}),l.l&&By({},function(g,C){Ee(h,C,g)})}function ov(l,h,g){g=Math.min(l.i.length,g);var C=l.l?m(l.l.Na,l.l,l):null;e:{var M=l.i;let F=-1;for(;;){const $=["count="+g];F==-1?0<g?(F=M[0].g,$.push("ofs="+F)):F=0:$.push("ofs="+F);let _e=!0;for(let Ye=0;Ye<g;Ye++){let fe=M[Ye].g;const tt=M[Ye].map;if(fe-=F,0>fe)F=Math.max(0,M[Ye].g-100),_e=!1;else try{tN(tt,$,"req"+fe+"_")}catch{C&&C(tt)}}if(_e){C=$.join("&");break e}}}return l=l.i.splice(0,g),h.D=l,C}function av(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;re||Y(),U||(re(),U=!0),V.add(h,l),l.v=0}}function _h(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=sa(m(l.Fa,l),uv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,lv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=sa(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),gc(this),lv(this))};function xh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function lv(l){l.g=new Pr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Jn(l.qa);Ee(h,"RID","rpc"),Ee(h,"SID",l.K),Ee(h,"AID",l.T),Ee(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ee(h,"TO",l.ja),Ee(h,"TYPE","xmlhttp"),fa(l,h),l.m&&l.o&&vh(h,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=hc(Jn(h)),g.m=null,g.P=!0,Ly(g,l)}t.Za=function(){this.C!=null&&(this.C=null,gc(this),_h(this),pt(19))};function vc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function cv(l,h){var g=null;if(l.g==h){vc(l),xh(l),l.g=null;var C=2}else if(gh(l.h,h))g=h.D,$y(l.h,h),C=1;else return;if(l.G!=0){if(h.o)if(C==1){g=h.m?h.m.length:0,h=Date.now()-h.F;var M=l.B;C=ch(),ft(C,new Py(C,g)),yc(l)}else av(l);else if(M=h.s,M==3||M==0&&0<h.X||!(C==1&&iN(l,h)||C==2&&_h(l)))switch(g&&0<g.length&&(h=l.h,h.i=h.i.concat(g)),M){case 1:Ls(l,5);break;case 4:Ls(l,10);break;case 3:Ls(l,6);break;default:Ls(l,2)}}}function uv(l,h){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*h}function Ls(l,h){if(l.j.info("Error code "+h),h==2){var g=m(l.fb,l),C=l.Xa;const M=!C;C=new js(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||uc(C,"https"),hc(C),M?JI(C.toString(),g):ZI(C.toString(),g)}else pt(2);l.G=0,l.l&&l.l.sa(h),dv(l),sv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function dv(l){if(l.G=0,l.ka=[],l.l){const h=Hy(l.h);(h.length!=0||l.i.length!=0)&&(I(l.ka,h),I(l.ka,l.i),l.h.i.length=0,w(l.i),l.i.length=0),l.l.ra()}}function hv(l,h,g){var C=g instanceof js?Jn(g):new js(g);if(C.g!="")h&&(C.g=h+"."+C.g),dc(C,C.s);else{var M=a.location;C=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var F=new js(null);C&&uc(F,C),h&&(F.g=h),M&&dc(F,M),g&&(F.l=g),C=F}return g=l.D,h=l.ya,g&&h&&Ee(C,g,h),Ee(C,"VER",l.la),fa(l,C),C}function fv(l,h,g){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new Le(new fc({eb:g})):new Le(l.pa),h.Ha(l.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pv(){}t=pv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xt(l,h){et.call(this),this.g=new rv(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!y(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new Ri(this)}x(Xt,et),Xt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xt.prototype.close=function(){wh(this.g)},Xt.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=ih(l),l=g);h.i.push(new HI(h.Ya++,l)),h.G==3&&yc(h)},Xt.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,Xt.aa.N.call(this)};function mv(l){ah.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const g in h){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}x(mv,ah);function gv(){lh.call(this),this.status=1}x(gv,lh);function Ri(l){this.g=l}x(Ri,pv),Ri.prototype.ua=function(){ft(this.g,"a")},Ri.prototype.ta=function(l){ft(this.g,new mv(l))},Ri.prototype.sa=function(l){ft(this.g,new gv)},Ri.prototype.ra=function(){ft(this.g,"b")},Xt.prototype.send=Xt.prototype.o,Xt.prototype.open=Xt.prototype.m,Xt.prototype.close=Xt.prototype.close,uh.NO_ERROR=0,uh.TIMEOUT=8,uh.HTTP_ERROR=6,zI.COMPLETE="complete",LI.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",et.prototype.listen=et.prototype.K,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const zw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ql="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Wl("@firebase/firestore");function Sn(t,...e){if(Mo.logLevel<=pe.DEBUG){const n=e.map(Wg);Mo.debug(`Firestore (${Ql}): ${t}`,...n)}}function Ob(t,...e){if(Mo.logLevel<=pe.ERROR){const n=e.map(Wg);Mo.error(`Firestore (${Ql}): ${t}`,...n)}}function SD(t,...e){if(Mo.logLevel<=pe.WARN){const n=e.map(Wg);Mo.warn(`Firestore (${Ql}): ${t}`,...n)}}function Wg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(t="Unexpected state"){const e=`FIRESTORE (${Ql}) INTERNAL ASSERTION FAILED: `+t;throw Ob(e),new Error(e)}function qa(t,e){t||Gg()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class TD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ID{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qa(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ka;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ka,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Sn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Sn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ka)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Sn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qa(typeof r.accessToken=="string"),new jb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qa(e===null||typeof e=="string"),new vt(e)}}class ND{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ND(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){qa(this.o===void 0);const r=i=>{i.error!=null&&Sn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Sn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Sn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Sn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qa(typeof n.token=="string"),this.R=n.token,new RD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PD(t){return t.name==="IndexedDbTransactionError"}class rd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new rd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof rd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $w,le;(le=$w||($w={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Pb([4294967295,4294967295],0);function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&Sn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new qg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(kt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Hw,Bw;(Bw=Hw||(Hw={})).ea="default",Bw.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=new Map;function LD(t,e,n,r){if(e===!0&&r===!0)throw new Rt(kt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function MD(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Gg()}function DD(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rt(kt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=MD(t);throw new Rt(kt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Rt(kt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Rt(kt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jD((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Rt(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Rt(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Rt(kt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lb{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ww({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(kt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rt(kt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ww(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bD;switch(r.type){case"firstParty":return new kD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(kt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Vw.get(n);r&&(Sn("ComponentProvider","Removing Datastore"),Vw.delete(n),r.terminate())}(this),Promise.resolve()}}function FD(t,e,n,r={}){var s;const i=(t=DD(t,Lb))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&SD("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=vt.MOCK_USER;else{a=FS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Rt(kt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new vt(u)}t._authCredentials=new TD(new jb(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new OD(this,"async_queue_retry"),this.Vu=()=>{const r=hf();r&&Sn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=hf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Ka;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!PD(e))throw e;Sn("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ob("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=qg.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Gg()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class UD extends Lb{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Gw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gw(e),this._firestoreClient=void 0,await e}}}function zD(t,e){const n=typeof t=="object"?t:$d(),r=typeof t=="string"?t:"(default)",s=ks(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=LS("firestore");i&&FD(s,...i)}return s}(function(e,n=!0){(function(s){Ql=s})(xi),On(new un("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new UD(new ID(r.getProvider("auth-internal")),new AD(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Rt(kt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rd(u.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Dt(zw,"4.7.3",e),Dt(zw,"4.7.3","esm2017")})();var qw={};const Kw="@firebase/database",Yw="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mb="";function $D(t){Mb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Xe(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:El(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return kr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HD(e)}}catch{}return new BD},Vs=Db("localStorage"),VD=Db("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new Wl("@firebase/database"),WD=function(){let t=1;return function(){return t++}}(),Fb=function(t){const e=G4(t),n=new $4;n.update(e);const r=n.digest();return kg.encodeByteArray(r)},Xl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Xl.apply(null,r):typeof r=="object"?e+=Xe(r):e+=r,e+=" "}return e};let Ya=null,Qw=!0;const GD=function(t,e){B(!e,"Can't turn on custom loggers persistently."),lo.logLevel=pe.VERBOSE,Ya=lo.log.bind(lo)},at=function(...t){if(Qw===!0&&(Qw=!1,Ya===null&&VD.get("logging_enabled")===!0&&GD()),Ya){const e=Xl.apply(null,t);Ya(e)}},Jl=function(t){return function(...e){at(t,...e)}},Jp=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xl(...t);lo.error(e)},Tr=function(...t){const e=`FIREBASE FATAL ERROR: ${Xl(...t)}`;throw lo.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+Xl(...t);lo.warn(e)},qD=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ub=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},KD=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Do="[MIN_NAME]",hi="[MAX_NAME]",Qo=function(t,e){if(t===e)return 0;if(t===Do||e===hi)return-1;if(e===Do||t===hi)return 1;{const n=Xw(t),r=Xw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YD=function(t,e){return t===e?0:t<e?-1:1},Sa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Xe(e))},Kg=function(t){if(typeof t!="object"||t===null)return Xe(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Xe(e[r]),n+=":",n+=Kg(t[e[r]]);return n+="}",n},zb=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function hn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const $b=function(t){B(!Ub(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const f=u.join("");let p="";for(c=0;c<64;c+=8){let m=parseInt(f.substr(c,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},QD=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},XD=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},JD=new RegExp("^-?(0*)\\d{1,10}$"),ZD=-2147483648,e3=2147483647,Xw=function(t){if(JD.test(t)){const e=Number(t);if(e>=ZD&&e<=e3)return e}return null},Zl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},t3=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class hu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}hu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg="5",Hb="v",Bb="s",Vb="r",Wb="f",Gb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,qb="ls",Kb="p",Zp="ac",Yb="websocket",Qb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,n,r,s,i=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Vs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Vs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function s3(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Jb(t,e,n){B(typeof e=="string","typeof type must == string"),B(typeof n=="object","typeof params must == object");let r;if(e===Yb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Qb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);s3(t)&&(n.ns=t.namespace);const s=[];return hn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.counters_={}}incrementCounter(e,n=1){kr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return I4(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff={},pf={};function Qg(t){const e=t.toString();return ff[e]||(ff[e]=new i3),ff[e]}function o3(t,e){const n=t.toString();return pf[n]||(pf[n]=e()),pf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Zl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="start",l3="close",c3="pLPCommand",u3="pRTLPCB",Zb="id",eT="pw",tT="ser",d3="cb",h3="seg",f3="ts",p3="d",m3="dframe",nT=1870,rT=30,g3=nT-rT,y3=25e3,v3=3e4;class Ki{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jl(e),this.stats_=Qg(n),this.urlFn=c=>(this.appCheckToken&&(c[Zp]=this.appCheckToken),Jb(n,Qb,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new a3(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(v3)),KD(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xg((...i)=>{const[o,a,c,u,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Jw)this.id=a,this.password=c;else if(o===l3)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[Jw]="t",r[tT]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[d3]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hb]=Yg,this.transportSessionId&&(r[Bb]=this.transportSessionId),this.lastSessionId&&(r[qb]=this.lastSessionId),this.applicationId&&(r[Kb]=this.applicationId),this.appCheckToken&&(r[Zp]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gb.test(location.hostname)&&(r[Vb]=Wb);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ki.forceAllow_=!0}static forceDisallow(){Ki.forceDisallow_=!0}static isAvailable(){return Ki.forceAllow_?!0:!Ki.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!QD()&&!XD()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=PS(n),s=zb(r,g3);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[m3]="t",r[Zb]=e,r[eT]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Xe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Xg{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=WD(),window[c3+this.uniqueCallbackIdentifier]=e,window[u3+this.uniqueCallbackIdentifier]=n,this.myIFrame=Xg.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){at("frame writing exception"),a.stack&&at(a.stack),at(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Zb]=this.myID,e[eT]=this.myPW,e[tT]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rT+r.length<=nT;){const o=this.pendingSegs.shift();r=r+"&"+h3+s+"="+o.seg+"&"+f3+s+"="+o.ts+"&"+p3+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(y3)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{at("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w3=16384,_3=45e3;let sd=null;typeof MozWebSocket<"u"?sd=MozWebSocket:typeof WebSocket<"u"&&(sd=WebSocket);class En{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jl(this.connId),this.stats_=Qg(n),this.connURL=En.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Hb]=Yg,typeof location<"u"&&location.hostname&&Gb.test(location.hostname)&&(o[Vb]=Wb),n&&(o[Bb]=n),r&&(o[qb]=r),s&&(o[Zp]=s),i&&(o[Kb]=i),Jb(e,Yb,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Vs.set("previous_websocket_failure",!0);try{let r;$S(),this.mySock=new sd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){En.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&sd!==null&&!En.forceDisallow_}static previouslyFailed(){return Vs.isInMemoryStorage||Vs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Vs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=El(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(B(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Xe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=zb(n,w3);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_3))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}En.responsesRequiredToBeHealthy=2;En.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ki,En]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=En&&En.isAvailable();let r=n&&!En.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[En];else{const s=this.transports_=[];for(const i of Tl.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Tl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Tl.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3=6e4,E3=5e3,C3=10*1024,S3=100*1024,mf="t",Zw="d",b3="s",e_="r",T3="e",t_="o",n_="a",r_="n",s_="p",I3="h";class N3{constructor(e,n,r,s,i,o,a,c,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jl("c:"+this.id+":"),this.transportManager_=new Tl(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Qa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>S3?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>C3?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(mf in e){const n=e[mf];n===n_?this.upgradeIfSecondaryHealthy_():n===e_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===t_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Sa("t",e),r=Sa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:s_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:n_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:r_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Sa("t",e),r=Sa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Sa(mf,e);if(Zw in e){const r=e[Zw];if(n===I3){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===r_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===b3?this.onConnectionShutdown_(r):n===e_?this.onReset_(r):n===T3?Jp("Server Error: "+r):n===t_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Jp("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yg!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Qa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(x3))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(E3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:s_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Vs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this.allowedEvents_=e,this.listeners_={},B(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){B(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id extends iT{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Pg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new id}getInitialEvent(e){return B(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=32,o_=768;class Ne{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function we(){return new Ne("")}function ce(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ss(t){return t.pieces_.length-t.pieceNum_}function Te(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ne(t.pieces_,e)}function oT(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function k3(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function aT(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lT(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ne(e,0)}function Ge(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ne)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ne(n,0)}function ae(t){return t.pieceNum_>=t.pieces_.length}function rn(t,e){const n=ce(t),r=ce(e);if(n===null)return e;if(n===r)return rn(Te(t),Te(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function cT(t,e){if(Ss(t)!==Ss(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function bn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ss(t)>Ss(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class R3{constructor(e,n){this.errorPrefix_=n,this.parts_=aT(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zd(this.parts_[r]);uT(this)}}function A3(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=zd(e),uT(t)}function P3(t){const e=t.parts_.pop();t.byteLength_-=zd(e),t.parts_.length>0&&(t.byteLength_-=1)}function uT(t){if(t.byteLength_>o_)throw new Error(t.errorPrefix_+"has a key path longer than "+o_+" bytes ("+t.byteLength_+").");if(t.parts_.length>i_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+i_+") or object contains a cycle "+Us(t))}function Us(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg extends iT{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Jg}getInitialEvent(e){return B(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba=1e3,O3=60*5*1e3,a_=30*1e3,j3=1.3,L3=3e4,M3="server_kill",l_=3;class gr extends sT{constructor(e,n,r,s,i,o,a,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=gr.nextPersistentConnectionId_++,this.log_=Jl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ba,this.maxReconnectDelay_=O3,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!$S())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Jg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&id.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Xe(i)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Ag,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const c=a.d,u=a.s;gr.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&kr(e,"w")){const r=jo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||z4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=a_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=U4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),B(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Xe(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Jp("Unrecognized action received from server: "+Xe(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>L3&&(this.reconnectDelay_=ba),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*j3)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+gr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const c=function(){a?a.close():(o=!0,r())},u=function(p){B(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(p)};this.realtime_={close:c,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,m]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,a=new N3(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Wt(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(M3)},i))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Wt(p),c())}}}interrupt(e){at("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){at("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Bp(this.interruptReasons_)&&(this.reconnectDelay_=ba,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Kg(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ne(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){at("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=l_&&(this.reconnectDelay_=a_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){at("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=l_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Mb.replace(/\./g,"-")]=1,Pg()?e["framework.cordova"]=1:zS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=id.getInstance().currentlyOnline();return Bp(this.interruptReasons_)&&e}}gr.nextPersistentConnectionId_=0;gr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ue(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new ue(Do,e),s=new ue(Do,n);return this.compare(r,s)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc;class dT extends Wd{static get __EMPTY_NODE(){return Vc}static set __EMPTY_NODE(e){Vc=e}compare(e,n){return Qo(e.name,n.name)}isDefinedOn(e){throw qo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ue.MIN}maxPost(){return new ue(hi,Vc)}makePost(e,n){return B(typeof e=="string","KeyIndex indexValue must always be a string."),new ue(e,Vc)}toString(){return".key"}}const co=new dT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??We.RED,this.left=s??Ot.EMPTY_NODE,this.right=i??Ot.EMPTY_NODE}copy(e,n,r,s,i){return new We(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ot.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Ot.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class D3{copy(e,n,r,s,i){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ot{constructor(e,n=Ot.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ot(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new Ot(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Wc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Wc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Wc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Wc(this.root_,null,this.comparator_,!0,e)}}Ot.EMPTY_NODE=new D3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(t,e){return Qo(t.name,e.name)}function Zg(t,e){return Qo(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em;function U3(t){em=t}const hT=function(t){return typeof t=="number"?"number:"+$b(t):"string:"+t},fT=function(t){if(t.isLeafNode()){const e=t.val();B(typeof e=="string"||typeof e=="number"||typeof e=="object"&&kr(e,".sv"),"Priority must be a string or number.")}else B(t===em||t.isEmpty(),"priority of unexpected type.");B(t===em||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_;class Be{constructor(e,n=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fT(this.priorityNode_)}static set __childrenNodeConstructor(e){c_=e}static get __childrenNodeConstructor(){return c_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ae(e)?this:ce(e)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ce(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(B(r!==".priority"||Ss(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Te(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+hT(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=$b(this.value_):e+=this.value_,this.lazyHash_=Fb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Be.__childrenNodeConstructor?-1:(B(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Be.VALUE_TYPE_ORDER.indexOf(n),i=Be.VALUE_TYPE_ORDER.indexOf(r);return B(s>=0,"Unknown leaf type: "+n),B(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pT,mT;function z3(t){pT=t}function $3(t){mT=t}class H3 extends Wd{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Qo(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(hi,new Be("[PRIORITY-POST]",mT))}makePost(e,n){const r=pT(e);return new ue(n,new Be("[PRIORITY-POST]",r))}toString(){return".priority"}}const ut=new H3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=Math.log(2);class V3{constructor(e){const n=i=>parseInt(Math.log(i)/B3,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const od=function(t,e,n,r){t.sort(e);const s=function(c,u){const f=u-c;let p,m;if(f===0)return null;if(f===1)return p=t[c],m=n?n(p):p,new We(m,p.node,We.BLACK,null,null);{const v=parseInt(f/2,10)+c,x=s(c,v),w=s(v+1,u);return p=t[v],m=n?n(p):p,new We(m,p.node,We.BLACK,x,w)}},i=function(c){let u=null,f=null,p=t.length;const m=function(x,w){const I=p-x,E=p;p-=x;const y=s(I+1,E),b=t[I],P=n?n(b):b;v(new We(P,b.node,w,null,y))},v=function(x){u?(u.left=x,u=x):(f=x,u=x)};for(let x=0;x<c.count;++x){const w=c.nextBitIsOne(),I=Math.pow(2,c.count-(x+1));w?m(I,We.BLACK):(m(I,We.BLACK),m(I,We.RED))}return f},o=new V3(t.length),a=i(o);return new Ot(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;const Oi={};class fr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return B(Oi&&ut,"ChildrenNode.ts has not been loaded"),gf=gf||new fr({".priority":Oi},{".priority":ut}),gf}get(e){const n=jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ot?n:null}hasIndex(e){return kr(this.indexSet_,e.toString())}addIndex(e,n){B(e!==co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(ue.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=od(r,e.getCompare()):a=Oi;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const f=Object.assign({},this.indexes_);return f[c]=a,new fr(f,u)}addToIndexes(e,n){const r=Yu(this.indexes_,(s,i)=>{const o=jo(this.indexSet_,i);if(B(o,"Missing index implementation for "+i),s===Oi)if(o.isDefinedOn(e.node)){const a=[],c=n.getIterator(ue.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),od(a,o.getCompare())}else return Oi;else{const a=n.get(e.name);let c=s;return a&&(c=c.remove(new ue(e.name,a))),c.insert(e,e.node)}});return new fr(r,this.indexSet_)}removeFromIndexes(e,n){const r=Yu(this.indexes_,s=>{if(s===Oi)return s;{const i=n.get(e.name);return i?s.remove(new ue(e.name,i)):s}});return new fr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta;class me{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&fT(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ta||(Ta=new me(new Ot(Zg),null,fr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ta}updatePriority(e){return this.children_.isEmpty()?this:new me(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ta:n}}getChild(e){const n=ce(e);return n===null?this:this.getImmediateChild(n).getChild(Te(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(B(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new ue(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Ta:this.priorityNode_;return new me(s,o,i)}}updateChild(e,n){const r=ce(e);if(r===null)return n;{B(ce(e)!==".priority"||Ss(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Te(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(ut,(o,a)=>{n[o]=a.val(e),r++,i&&me.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+hT(this.getPriority().val())+":"),this.forEachChild(ut,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Fb(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new ue(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ue(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ue(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ue.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ue.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ec?-1:0}withIndex(e){if(e===co||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new me(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===co||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ut),s=n.getIterator(ut);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===co?null:this.indexMap_.get(e.toString())}}me.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class W3 extends me{constructor(){super(new Ot(Zg),me.EMPTY_NODE,fr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}}const ec=new W3;Object.defineProperties(ue,{MIN:{value:new ue(Do,me.EMPTY_NODE)},MAX:{value:new ue(hi,ec)}});dT.__EMPTY_NODE=me.EMPTY_NODE;Be.__childrenNodeConstructor=me;U3(ec);$3(ec);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3=!0;function lt(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),B(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Be(n,lt(e))}if(!(t instanceof Array)&&G3){const n=[];let r=!1;if(hn(t,(o,a)=>{if(o.substring(0,1)!=="."){const c=lt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new ue(o,c)))}}),n.length===0)return me.EMPTY_NODE;const i=od(n,F3,o=>o.name,Zg);if(r){const o=od(n,ut.getCompare());return new me(i,lt(e),new fr({".priority":o},{".priority":ut}))}else return new me(i,lt(e),fr.Default)}else{let n=me.EMPTY_NODE;return hn(t,(r,s)=>{if(kr(t,r)&&r.substring(0,1)!=="."){const i=lt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(lt(e))}}z3(lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3 extends Wd{constructor(e){super(),this.indexPath_=e,B(!ae(e)&&ce(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Qo(e.name,n.name):i}makePost(e,n){const r=lt(e),s=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new ue(n,s)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,ec);return new ue(hi,e)}toString(){return aT(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K3 extends Wd{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Qo(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(e,n){const r=lt(e);return new ue(n,r)}toString(){return".value"}}const Y3=new K3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){return{type:"value",snapshotNode:t}}function X3(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function J3(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function u_(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Z3(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Do}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ut}copy(){const e=new ey;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function d_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ut?n="$priority":t.index_===Y3?n="$value":t.index_===co?n="$key":(B(t.index_ instanceof q3,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Xe(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Xe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Xe(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Xe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Xe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function h_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ut&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad extends sT{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Jl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(B(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=ad.getListenId_(e,r),a={};this.listens_[o]=a;const c=d_(e._queryParams);this.restRequest_(i+".json",c,(u,f)=>{let p=f;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(i,p,!1,r),jo(this.listens_,o)===a){let m;u?u===401?m="permission_denied":m="rest_error:"+u:m="ok",s(m,null)}})}unlisten(e,n){const r=ad.getListenId_(e,n);delete this.listens_[r]}get(e){const n=d_(e._queryParams),r=e._path.toString(),s=new Ag;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ko(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=El(a.responseText)}catch{Wt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Wt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e9{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(){return{value:null,children:new Map}}function gT(t,e,n){if(ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ce(e);t.children.has(r)||t.children.set(r,ld());const s=t.children.get(r);e=Te(e),gT(s,e,n)}}function tm(t,e,n){t.value!==null?n(e,t.value):t9(t,(r,s)=>{const i=new Ne(e.toString()+"/"+r);tm(s,i,n)})}function t9(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n9{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&hn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=10*1e3,r9=30*1e3,s9=5*60*1e3;class i9{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new n9(e);const r=f_+(r9-f_)*Math.random();Qa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;hn(e,(s,i)=>{i>0&&kr(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Qa(this.reportStats_.bind(this),Math.floor(Math.random()*2*s9))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Hn||(Hn={}));function yT(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Hn.ACK_USER_WRITE,this.source=yT()}operationForChild(e){if(ae(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ne(e));return new cd(we(),n,this.revert)}}else return B(ce(this.path)===e,"operationForChild called for unrelated child."),new cd(Te(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Hn.OVERWRITE}operationForChild(e){return ae(this.path)?new fi(this.source,we(),this.snap.getImmediateChild(e)):new fi(this.source,Te(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Hn.MERGE}operationForChild(e){if(ae(this.path)){const n=this.children.subtree(new Ne(e));return n.isEmpty()?null:n.value?new fi(this.source,we(),n.value):new Il(this.source,we(),n)}else return B(ce(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Il(this.source,Te(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=ce(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function o9(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Z3(o.childName,o.snapshotNode))}),Ia(t,s,"child_removed",e,r,n),Ia(t,s,"child_added",e,r,n),Ia(t,s,"child_moved",i,r,n),Ia(t,s,"child_changed",e,r,n),Ia(t,s,"value",e,r,n),s}function Ia(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,c)=>l9(t,a,c)),o.forEach(a=>{const c=a9(t,a,i);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,t.query_))})})}function a9(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function l9(t,e,n){if(e.childName==null||n.childName==null)throw qo("Should only compare child_ events.");const r=new ue(e.childName,e.snapshotNode),s=new ue(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(t,e){return{eventCache:t,serverCache:e}}function Xa(t,e,n,r){return _T(new ty(e,n,r),t.serverCache)}function xT(t,e,n,r){return _T(t.eventCache,new ty(e,n,r))}function nm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf;const c9=()=>(yf||(yf=new Ot(YD)),yf);class be{constructor(e,n=c9()){this.value=e,this.children=n}static fromObject(e){let n=new be(null);return hn(e,(r,s)=>{n=n.set(new Ne(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:we(),value:this.value};if(ae(e))return null;{const r=ce(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Te(e),n);return i!=null?{path:Ge(new Ne(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ae(e))return this;{const n=ce(e),r=this.children.get(n);return r!==null?r.subtree(Te(e)):new be(null)}}set(e,n){if(ae(e))return new be(n,this.children);{const r=ce(e),i=(this.children.get(r)||new be(null)).set(Te(e),n),o=this.children.insert(r,i);return new be(this.value,o)}}remove(e){if(ae(e))return this.children.isEmpty()?new be(null):new be(null,this.children);{const n=ce(e),r=this.children.get(n);if(r){const s=r.remove(Te(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new be(null):new be(this.value,i)}else return this}}get(e){if(ae(e))return this.value;{const n=ce(e),r=this.children.get(n);return r?r.get(Te(e)):null}}setTree(e,n){if(ae(e))return n;{const r=ce(e),i=(this.children.get(r)||new be(null)).setTree(Te(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new be(this.value,o)}}fold(e){return this.fold_(we(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ge(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,we(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ae(e))return null;{const i=ce(e),o=this.children.get(i);return o?o.findOnPath_(Te(e),Ge(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,we(),n)}foreachOnPath_(e,n,r){if(ae(e))return this;{this.value&&r(n,this.value);const s=ce(e),i=this.children.get(s);return i?i.foreachOnPath_(Te(e),Ge(n,s),r):new be(null)}}foreach(e){this.foreach_(we(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ge(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.writeTree_=e}static empty(){return new kn(new be(null))}}function Ja(t,e,n){if(ae(e))return new kn(new be(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=rn(s,e);return i=i.updateChild(o,n),new kn(t.writeTree_.set(s,i))}else{const s=new be(n),i=t.writeTree_.setTree(e,s);return new kn(i)}}}function p_(t,e,n){let r=t;return hn(n,(s,i)=>{r=Ja(r,Ge(e,s),i)}),r}function m_(t,e){if(ae(e))return kn.empty();{const n=t.writeTree_.setTree(e,new be(null));return new kn(n)}}function rm(t,e){return Ei(t,e)!=null}function Ei(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(rn(n.path,e)):null}function g_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ut,(r,s)=>{e.push(new ue(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new ue(r,s.value))}),e}function gs(t,e){if(ae(e))return t;{const n=Ei(t,e);return n!=null?new kn(new be(n)):new kn(t.writeTree_.subtree(e))}}function sm(t){return t.writeTree_.isEmpty()}function Fo(t,e){return ET(we(),t.writeTree_,e)}function ET(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(B(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ET(Ge(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ge(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(t,e){return NT(e,t)}function u9(t,e,n,r,s){B(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Ja(t.visibleWrites,e,n)),t.lastWriteId=r}function d9(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function h9(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);B(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&f9(a,r.path)?s=!1:bn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return p9(t),!0;if(r.snap)t.visibleWrites=m_(t.visibleWrites,r.path);else{const a=r.children;hn(a,c=>{t.visibleWrites=m_(t.visibleWrites,Ge(r.path,c))})}return!0}else return!1}function f9(t,e){if(t.snap)return bn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&bn(Ge(t.path,n),e))return!0;return!1}function p9(t){t.visibleWrites=ST(t.allWrites,m9,we()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function m9(t){return t.visible}function ST(t,e,n){let r=kn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)bn(n,o)?(a=rn(n,o),r=Ja(r,a,i.snap)):bn(o,n)&&(a=rn(o,n),r=Ja(r,we(),i.snap.getChild(a)));else if(i.children){if(bn(n,o))a=rn(n,o),r=p_(r,a,i.children);else if(bn(o,n))if(a=rn(o,n),ae(a))r=p_(r,we(),i.children);else{const c=jo(i.children,ce(a));if(c){const u=c.getChild(Te(a));r=Ja(r,we(),u)}}}else throw qo("WriteRecord should have .snap or .children")}}return r}function bT(t,e,n,r,s){if(!r&&!s){const i=Ei(t.visibleWrites,e);if(i!=null)return i;{const o=gs(t.visibleWrites,e);if(sm(o))return n;if(n==null&&!rm(o,we()))return null;{const a=n||me.EMPTY_NODE;return Fo(o,a)}}}else{const i=gs(t.visibleWrites,e);if(!s&&sm(i))return n;if(!s&&n==null&&!rm(i,we()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(bn(u.path,e)||bn(e,u.path))},a=ST(t.allWrites,o,e),c=n||me.EMPTY_NODE;return Fo(a,c)}}}function g9(t,e,n){let r=me.EMPTY_NODE;const s=Ei(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(ut,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=gs(t.visibleWrites,e);return n.forEachChild(ut,(o,a)=>{const c=Fo(gs(i,new Ne(o)),a);r=r.updateImmediateChild(o,c)}),g_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=gs(t.visibleWrites,e);return g_(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function y9(t,e,n,r,s){B(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ge(e,n);if(rm(t.visibleWrites,i))return null;{const o=gs(t.visibleWrites,i);return sm(o)?s.getChild(n):Fo(o,s.getChild(n))}}function v9(t,e,n,r){const s=Ge(e,n),i=Ei(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=gs(t.visibleWrites,s);return Fo(o,r.getNode().getImmediateChild(n))}else return null}function w9(t,e){return Ei(t.visibleWrites,e)}function _9(t,e,n,r,s,i,o){let a;const c=gs(t.visibleWrites,e),u=Ei(c,we());if(u!=null)a=u;else if(n!=null)a=Fo(c,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const f=[],p=o.getCompare(),m=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let v=m.getNext();for(;v&&f.length<s;)p(v,r)!==0&&f.push(v),v=m.getNext();return f}else return[]}function x9(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function im(t,e,n,r){return bT(t.writeTree,t.treePath,e,n,r)}function TT(t,e){return g9(t.writeTree,t.treePath,e)}function y_(t,e,n,r){return y9(t.writeTree,t.treePath,e,n,r)}function ud(t,e){return w9(t.writeTree,Ge(t.treePath,e))}function E9(t,e,n,r,s,i){return _9(t.writeTree,t.treePath,e,n,r,s,i)}function ny(t,e,n){return v9(t.writeTree,t.treePath,e,n)}function IT(t,e){return NT(Ge(t.treePath,e),t.writeTree)}function NT(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;B(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),B(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,u_(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,J3(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,X3(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,u_(r,e.snapshotNode,s.oldSnap));else throw qo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const kT=new S9;class ry{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ty(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ny(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:pi(this.viewCache_),i=E9(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function b9(t,e){B(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),B(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function T9(t,e,n,r,s){const i=new C9;let o,a;if(n.type===Hn.OVERWRITE){const u=n;u.source.fromUser?o=om(t,e,u.path,u.snap,r,s,i):(B(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!ae(u.path),o=dd(t,e,u.path,u.snap,r,s,a,i))}else if(n.type===Hn.MERGE){const u=n;u.source.fromUser?o=N9(t,e,u.path,u.children,r,s,i):(B(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=am(t,e,u.path,u.children,r,s,a,i))}else if(n.type===Hn.ACK_USER_WRITE){const u=n;u.revert?o=A9(t,e,u.path,r,s,i):o=k9(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===Hn.LISTEN_COMPLETE)o=R9(t,e,n.path,r,i);else throw qo("Unknown operation type: "+n.type);const c=i.getChanges();return I9(e,o,c),{viewCache:o,changes:c}}function I9(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=nm(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Q3(nm(e)))}}function RT(t,e,n,r,s,i){const o=e.eventCache;if(ud(r,n)!=null)return e;{let a,c;if(ae(n))if(B(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=pi(e),f=u instanceof me?u:me.EMPTY_NODE,p=TT(r,f);a=t.filter.updateFullNode(e.eventCache.getNode(),p,i)}else{const u=im(r,pi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=ce(n);if(u===".priority"){B(Ss(n)===1,"Can't have a priority with additional path components");const f=o.getNode();c=e.serverCache.getNode();const p=y_(r,n,f,c);p!=null?a=t.filter.updatePriority(f,p):a=o.getNode()}else{const f=Te(n);let p;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const m=y_(r,n,o.getNode(),c);m!=null?p=o.getNode().getImmediateChild(u).updateChild(f,m):p=o.getNode().getImmediateChild(u)}else p=ny(r,u,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),u,p,f,s,i):a=o.getNode()}}return Xa(e,a,o.isFullyInitialized()||ae(n),t.filter.filtersNodes())}}function dd(t,e,n,r,s,i,o,a){const c=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(ae(n))u=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);u=f.updateFullNode(c.getNode(),v,null)}else{const v=ce(n);if(!c.isCompleteForPath(n)&&Ss(n)>1)return e;const x=Te(n),I=c.getNode().getImmediateChild(v).updateChild(x,r);v===".priority"?u=f.updatePriority(c.getNode(),I):u=f.updateChild(c.getNode(),v,I,x,kT,null)}const p=xT(e,u,c.isFullyInitialized()||ae(n),f.filtersNodes()),m=new ry(s,p,i);return RT(t,p,n,s,m,a)}function om(t,e,n,r,s,i,o){const a=e.eventCache;let c,u;const f=new ry(s,e,i);if(ae(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Xa(e,u,!0,t.filter.filtersNodes());else{const p=ce(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=Xa(e,u,a.isFullyInitialized(),a.isFiltered());else{const m=Te(n),v=a.getNode().getImmediateChild(p);let x;if(ae(m))x=r;else{const w=f.getCompleteChild(p);w!=null?oT(m)===".priority"&&w.getChild(lT(m)).isEmpty()?x=w:x=w.updateChild(m,r):x=me.EMPTY_NODE}if(v.equals(x))c=e;else{const w=t.filter.updateChild(a.getNode(),p,x,m,f,o);c=Xa(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function v_(t,e){return t.eventCache.isCompleteForChild(e)}function N9(t,e,n,r,s,i,o){let a=e;return r.foreach((c,u)=>{const f=Ge(n,c);v_(e,ce(f))&&(a=om(t,a,f,u,s,i,o))}),r.foreach((c,u)=>{const f=Ge(n,c);v_(e,ce(f))||(a=om(t,a,f,u,s,i,o))}),a}function w_(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function am(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;ae(n)?u=r:u=new be(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((p,m)=>{if(f.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),x=w_(t,v,m);c=dd(t,c,new Ne(p),x,s,i,o,a)}}),u.children.inorderTraversal((p,m)=>{const v=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!f.hasChild(p)&&!v){const x=e.serverCache.getNode().getImmediateChild(p),w=w_(t,x,m);c=dd(t,c,new Ne(p),w,s,i,o,a)}}),c}function k9(t,e,n,r,s,i,o){if(ud(s,n)!=null)return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(ae(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return dd(t,e,n,c.getNode().getChild(n),s,i,a,o);if(ae(n)){let u=new be(null);return c.getNode().forEachChild(co,(f,p)=>{u=u.set(new Ne(f),p)}),am(t,e,n,u,s,i,a,o)}else return e}else{let u=new be(null);return r.foreach((f,p)=>{const m=Ge(n,f);c.isCompleteForPath(m)&&(u=u.set(f,c.getNode().getChild(m)))}),am(t,e,n,u,s,i,a,o)}}function R9(t,e,n,r,s){const i=e.serverCache,o=xT(e,i.getNode(),i.isFullyInitialized()||ae(n),i.isFiltered());return RT(t,o,n,r,kT,s)}function A9(t,e,n,r,s,i){let o;if(ud(r,n)!=null)return e;{const a=new ry(r,e,s),c=e.eventCache.getNode();let u;if(ae(n)||ce(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=im(r,pi(e));else{const p=e.serverCache.getNode();B(p instanceof me,"serverChildren would be complete if leaf node"),f=TT(r,p)}f=f,u=t.filter.updateFullNode(c,f,i)}else{const f=ce(n);let p=ny(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),p!=null?u=t.filter.updateChild(c,f,p,Te(n),a,i):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(c,f,me.EMPTY_NODE,Te(n),a,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=im(r,pi(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||ud(r,we())!=null,Xa(e,u,o,t.filter.filtersNodes())}}function P9(t,e){const n=pi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ae(e)&&!n.getImmediateChild(ce(e)).isEmpty())?n.getChild(e):null}function __(t,e,n,r){e.type===Hn.MERGE&&e.source.queryId!==null&&(B(pi(t.viewCache_),"We should always have a full cache before handling merges"),B(nm(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=T9(t.processor_,s,e,n,r);return b9(t.processor_,i.viewCache),B(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,O9(t,i.changes,i.viewCache.eventCache.getNode())}function O9(t,e,n,r){const s=t.eventRegistrations_;return o9(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let x_;function j9(t){B(!x_,"__referenceConstructor has already been defined"),x_=t}function sy(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return B(i!=null,"SyncTree gave us an op for an invalid query."),__(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(__(o,e,n,r));return i}}function iy(t,e){let n=null;for(const r of t.views.values())n=n||P9(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_;function L9(t){B(!E_,"__referenceConstructor has already been defined"),E_=t}class C_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new be(null),this.pendingWriteTree_=x9(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function M9(t,e,n,r,s){return u9(t.pendingWriteTree_,e,n,r,s),s?qd(t,new fi(yT(),e,n)):[]}function Yi(t,e,n=!1){const r=d9(t.pendingWriteTree_,e);if(h9(t.pendingWriteTree_,e)){let i=new be(null);return r.snap!=null?i=i.set(we(),!0):hn(r.children,o=>{i=i.set(new Ne(o),!0)}),qd(t,new cd(r.path,i,n))}else return[]}function Gd(t,e,n){return qd(t,new fi(vT(),e,n))}function D9(t,e,n){const r=be.fromObject(n);return qd(t,new Il(vT(),e,r))}function F9(t,e,n,r){const s=jT(t,r);if(s!=null){const i=LT(s),o=i.path,a=i.queryId,c=rn(o,e),u=new fi(wT(a),c,n);return MT(t,o,u)}else return[]}function U9(t,e,n,r){const s=jT(t,r);if(s){const i=LT(s),o=i.path,a=i.queryId,c=rn(o,e),u=be.fromObject(n),f=new Il(wT(a),c,u);return MT(t,o,f)}else return[]}function AT(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=rn(o,e),u=iy(a,c);if(u)return u});return bT(s,e,i,n,!0)}function qd(t,e){return PT(e,t.syncPointTree_,null,CT(t.pendingWriteTree_,we()))}function PT(t,e,n,r){if(ae(t.path))return OT(t,e,n,r);{const s=e.get(we());n==null&&s!=null&&(n=iy(s,we()));let i=[];const o=ce(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){const u=n?n.getImmediateChild(o):null,f=IT(r,o);i=i.concat(PT(a,c,u,f))}return s&&(i=i.concat(sy(s,t,r,n))),i}}function OT(t,e,n,r){const s=e.get(we());n==null&&s!=null&&(n=iy(s,we()));let i=[];return e.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,u=IT(r,o),f=t.operationForChild(o);f&&(i=i.concat(OT(f,a,c,u)))}),s&&(i=i.concat(sy(s,t,r,n))),i}function jT(t,e){return t.tagToQueryMap.get(e)}function LT(t){const e=t.indexOf("$");return B(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ne(t.substr(0,e))}}function MT(t,e,n){const r=t.syncPointTree_.get(e);B(r,"Missing sync point for query tag that we're tracking");const s=CT(t.pendingWriteTree_,e);return sy(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oy(n)}node(){return this.node_}}class ay{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ge(this.path_,e);return new ay(this.syncTree_,n)}node(){return AT(this.syncTree_,this.path_)}}const z9=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},S_=function(t,e,n){if(!t||typeof t!="object")return t;if(B(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $9(t[".sv"],e,n);if(typeof t[".sv"]=="object")return H9(t[".sv"],e);B(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$9=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:B(!1,"Unexpected server value: "+t)}},H9=function(t,e,n){t.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&B(!1,"Unexpected increment value: "+r);const s=e.node();if(B(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},B9=function(t,e,n,r){return ly(e,new ay(n,t),r)},V9=function(t,e,n){return ly(t,new oy(e),n)};function ly(t,e,n){const r=t.getPriority().val(),s=S_(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=S_(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Be(a,lt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Be(s))),o.forEachChild(ut,(a,c)=>{const u=ly(c,e.getImmediateChild(a),n);u!==c&&(i=i.updateImmediateChild(a,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uy(t,e){let n=e instanceof Ne?e:new Ne(e),r=t,s=ce(n);for(;s!==null;){const i=jo(r.node.children,s)||{children:{},childCount:0};r=new cy(s,r,i),n=Te(n),s=ce(n)}return r}function Xo(t){return t.node.value}function DT(t,e){t.node.value=e,lm(t)}function FT(t){return t.node.childCount>0}function W9(t){return Xo(t)===void 0&&!FT(t)}function Kd(t,e){hn(t.node.children,(n,r)=>{e(new cy(n,t,r))})}function UT(t,e,n,r){n&&!r&&e(t),Kd(t,s=>{UT(s,e,!0,r)}),n&&r&&e(t)}function G9(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function tc(t){return new Ne(t.parent===null?t.name:tc(t.parent)+"/"+t.name)}function lm(t){t.parent!==null&&q9(t.parent,t.name,t)}function q9(t,e,n){const r=W9(n),s=kr(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,lm(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,lm(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K9=/[\[\].#$\/\u0000-\u001F\u007F]/,Y9=/[\[\].#$\u0000-\u001F\u007F]/,vf=10*1024*1024,zT=function(t){return typeof t=="string"&&t.length!==0&&!K9.test(t)},Q9=function(t){return typeof t=="string"&&t.length!==0&&!Y9.test(t)},X9=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Q9(t)},$T=function(t,e,n){const r=n instanceof Ne?new R3(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Us(r));if(typeof e=="function")throw new Error(t+"contains a function "+Us(r)+" with contents = "+e.toString());if(Ub(e))throw new Error(t+"contains "+e.toString()+" "+Us(r));if(typeof e=="string"&&e.length>vf/3&&zd(e)>vf)throw new Error(t+"contains a string greater than "+vf+" utf8 bytes "+Us(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(hn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!zT(o)))throw new Error(t+" contains an invalid key ("+o+") "+Us(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);A3(r,o),$T(t,a,r),P3(r)}),s&&i)throw new Error(t+' contains ".value" child '+Us(r)+" in addition to actual children.")}},J9=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zT(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!X9(n))throw new Error(W4(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eF(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!cT(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Ci(t,e,n){eF(t,n),tF(t,r=>bn(r,e)||bn(e,r))}function tF(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(nF(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function nF(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ya&&at("event: "+n.toString()),Zl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rF="repo_interrupt",sF=25;class iF{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Z9,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ld(),this.transactionQueueTree_=new cy,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oF(t,e,n){if(t.stats_=Qg(t.repoInfo_),t.forceRestClient_||t3())t.server_=new ad(t.repoInfo_,(r,s,i,o)=>{b_(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>T_(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Xe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new gr(t.repoInfo_,e,(r,s,i,o)=>{b_(t,r,s,i,o)},r=>{T_(t,r)},r=>{lF(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=o3(t.repoInfo_,()=>new i9(t.stats_,t.server_)),t.infoData_=new e9,t.infoSyncTree_=new C_({startListening:(r,s,i,o)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=Gd(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),dy(t,"connected",!1),t.serverSyncTree_=new C_({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,c)=>{const u=o(a,c);Ci(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function aF(t){const n=t.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function HT(t){return z9({timestamp:aF(t)})}function b_(t,e,n,r,s){t.dataUpdateCount++;const i=new Ne(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=Yu(n,u=>lt(u));o=U9(t.serverSyncTree_,i,c,s)}else{const c=lt(n);o=F9(t.serverSyncTree_,i,c,s)}else if(r){const c=Yu(n,u=>lt(u));o=D9(t.serverSyncTree_,i,c)}else{const c=lt(n);o=Gd(t.serverSyncTree_,i,c)}let a=i;o.length>0&&(a=fy(t,i)),Ci(t.eventQueue_,a,o)}function T_(t,e){dy(t,"connected",e),e===!1&&uF(t)}function lF(t,e){hn(e,(n,r)=>{dy(t,n,r)})}function dy(t,e,n){const r=new Ne("/.info/"+e),s=lt(n);t.infoData_.updateSnapshot(r,s);const i=Gd(t.infoSyncTree_,r,s);Ci(t.eventQueue_,r,i)}function cF(t){return t.nextWriteId_++}function uF(t){BT(t,"onDisconnectEvents");const e=HT(t),n=ld();tm(t.onDisconnect_,we(),(s,i)=>{const o=B9(s,i,t.serverSyncTree_,e);gT(n,s,o)});let r=[];tm(n,we(),(s,i)=>{r=r.concat(Gd(t.serverSyncTree_,s,i));const o=pF(t,s);fy(t,o)}),t.onDisconnect_=ld(),Ci(t.eventQueue_,we(),r)}function dF(t){t.persistentConnection_&&t.persistentConnection_.interrupt(rF)}function BT(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),at(n,...e)}function VT(t,e,n){return AT(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function hy(t,e=t.transactionQueueTree_){if(e||Yd(t,e),Xo(e)){const n=GT(t,e);B(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&hF(t,tc(e),n)}else FT(e)&&Kd(e,n=>{hy(t,n)})}function hF(t,e,n){const r=n.map(u=>u.currentWriteId),s=VT(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const f=n[u];B(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=rn(e,f.path);i=i.updateChild(p,f.currentOutputSnapshotRaw)}const a=i.val(!0),c=e;t.server_.put(c.toString(),a,u=>{BT(t,"transaction put response",{path:c.toString(),status:u});let f=[];if(u==="ok"){const p=[];for(let m=0;m<n.length;m++)n[m].status=2,f=f.concat(Yi(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Yd(t,uy(t.transactionQueueTree_,e)),hy(t,t.transactionQueueTree_),Ci(t.eventQueue_,e,f);for(let m=0;m<p.length;m++)Zl(p[m])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Wt("transaction at "+c.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}fy(t,e)}},o)}function fy(t,e){const n=WT(t,e),r=tc(n),s=GT(t,n);return fF(t,s,r),r}function fF(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],u=rn(n,c.path);let f=!1,p;if(B(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,p=c.abortReason,s=s.concat(Yi(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=sF)f=!0,p="maxretry",s=s.concat(Yi(t.serverSyncTree_,c.currentWriteId,!0));else{const m=VT(t,c.path,o);c.currentInputSnapshot=m;const v=e[a].update(m.val());if(v!==void 0){$T("transaction failed: Data returned ",v,c.path);let x=lt(v);typeof v=="object"&&v!=null&&kr(v,".priority")||(x=x.updatePriority(m.getPriority()));const I=c.currentWriteId,E=HT(t),y=V9(x,m,E);c.currentOutputSnapshotRaw=x,c.currentOutputSnapshotResolved=y,c.currentWriteId=cF(t),o.splice(o.indexOf(I),1),s=s.concat(M9(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),s=s.concat(Yi(t.serverSyncTree_,I,!0))}else f=!0,p="nodata",s=s.concat(Yi(t.serverSyncTree_,c.currentWriteId,!0))}Ci(t.eventQueue_,n,s),s=[],f&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Yd(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Zl(r[a]);hy(t,t.transactionQueueTree_)}function WT(t,e){let n,r=t.transactionQueueTree_;for(n=ce(e);n!==null&&Xo(r)===void 0;)r=uy(r,n),e=Te(e),n=ce(e);return r}function GT(t,e){const n=[];return qT(t,e,n),n.sort((r,s)=>r.order-s.order),n}function qT(t,e,n){const r=Xo(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Kd(e,s=>{qT(t,s,n)})}function Yd(t,e){const n=Xo(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,DT(e,n.length>0?n:void 0)}Kd(e,r=>{Yd(t,r)})}function pF(t,e){const n=tc(WT(t,e)),r=uy(t.transactionQueueTree_,e);return G9(r,s=>{wf(t,s)}),wf(t,r),UT(r,s=>{wf(t,s)}),n}function wf(t,e){const n=Xo(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(B(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(B(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Yi(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?DT(e,void 0):n.length=i+1,Ci(t.eventQueue_,tc(e),s);for(let o=0;o<r.length;o++)Zl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function gF(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const I_=function(t,e){const n=yF(t),r=n.namespace;n.domain==="firebase.com"&&Tr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Tr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||qD();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xb(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ne(n.pathString)}},yF=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(s=mF(t.substring(f,p)));const m=gF(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const v=e.slice(0,u);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const x=e.indexOf(".");r=e.substring(0,x).toLowerCase(),n=e.substring(x+1),i=r}"ns"in m&&(i=m.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ae(this._path)?null:oT(this._path)}get ref(){return new Jo(this._repo,this._path)}get _queryIdentifier(){const e=h_(this._queryParams),n=Kg(e);return n==="{}"?"default":n}get _queryObject(){return h_(this._queryParams)}isEqual(e){if(e=St(e),!(e instanceof py))return!1;const n=this._repo===e._repo,r=cT(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+k3(this._path)}}class Jo extends py{constructor(e,n){super(e,n,new ey,!1)}get parent(){const e=lT(this._path);return e===null?null:new Jo(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}j9(Jo);L9(Jo);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF="FIREBASE_DATABASE_EMULATOR_HOST",cm={};let wF=!1;function _F(t,e,n,r){t.repoInfo_=new Xb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function xF(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Tr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=I_(i,s),a=o.repoInfo,c;typeof process<"u"&&qw&&(c=qw[vF]),c?(i=`http://${c}?ns=${a.namespace}`,o=I_(i,s),a=o.repoInfo):o.repoInfo.secure;const u=new r3(t.name,t.options,e);J9("Invalid Firebase Database URL",o),ae(o.path)||Tr("Database URL must point to the root of a Firebase Database (not including a child path).");const f=CF(a,t,u,new n3(t.name,n));return new SF(f,t)}function EF(t,e){const n=cm[e];(!n||n[t.key]!==t)&&Tr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dF(t),delete n[t.key]}function CF(t,e,n,r){let s=cm[e.name];s||(s={},cm[e.name]=s);let i=s[t.toURLString()];return i&&Tr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new iF(t,wF,n,r),s[t.toURLString()]=i,i}class SF{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(oF(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jo(this._repo,we())),this._rootInternal}_delete(){return this._rootInternal!==null&&(EF(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Tr("Cannot call "+e+" on a deleted database.")}}function bF(t=$d(),e){const n=ks(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=LS("database");r&&TF(n,...r)}return n}function TF(t,e,n,r={}){t=St(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Tr("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Tr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new hu(hu.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:FS(r.mockUserToken,t.app.options.projectId);i=new hu(o)}_F(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t){$D(xi),On(new un("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return xF(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Dt(Kw,Yw,t),Dt(Kw,Yw,"esm2017")}gr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};gr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};IF();const KT="@firebase/installations",my="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=1e4,QT=`w:${my}`,XT="FIS_v2",NF="https://firebaseinstallations.googleapis.com/v1",kF=60*60*1e3,RF="installations",AF="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},mi=new _i(RF,AF,PF);function JT(t){return t instanceof jn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT({projectId:t}){return`${NF}/projects/${t}/installations`}function eI(t){return{token:t.token,requestStatus:2,expiresIn:jF(t.expiresIn),creationTime:Date.now()}}async function tI(t,e){const r=(await e.json()).error;return mi.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function nI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function OF(t,{refreshToken:e}){const n=nI(t);return n.append("Authorization",LF(e)),n}async function rI(t){const e=await t();return e.status>=500&&e.status<600?t():e}function jF(t){return Number(t.replace("s","000"))}function LF(t){return`${XT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MF({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=ZT(t),s=nI(t),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={fid:n,authVersion:XT,appId:t.appId,sdkVersion:QT},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await rI(()=>fetch(r,a));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:eI(u.authToken)}}else throw await tI("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DF(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF=/^[cdef][\w-]{21}$/,um="";function UF(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zF(t);return FF.test(n)?n:um}catch{return um}}function zF(t){return DF(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Map;function oI(t,e){const n=Qd(t);aI(n,e),$F(n,e)}function aI(t,e){const n=iI.get(t);if(n)for(const r of n)r(e)}function $F(t,e){const n=HF();n&&n.postMessage({key:t,fid:e}),BF()}let Ws=null;function HF(){return!Ws&&"BroadcastChannel"in self&&(Ws=new BroadcastChannel("[Firebase] FID Change"),Ws.onmessage=t=>{aI(t.data.key,t.data.fid)}),Ws}function BF(){iI.size===0&&Ws&&(Ws.close(),Ws=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF="firebase-installations-database",WF=1,gi="firebase-installations-store";let _f=null;function gy(){return _f||(_f=qS(VF,WF,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(gi)}}})),_f}async function hd(t,e){const n=Qd(t),s=(await gy()).transaction(gi,"readwrite"),i=s.objectStore(gi),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&oI(t,e.fid),e}async function lI(t){const e=Qd(t),r=(await gy()).transaction(gi,"readwrite");await r.objectStore(gi).delete(e),await r.done}async function Xd(t,e){const n=Qd(t),s=(await gy()).transaction(gi,"readwrite"),i=s.objectStore(gi),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&oI(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yy(t){let e;const n=await Xd(t.appConfig,r=>{const s=GF(r),i=qF(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===um?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function GF(t){const e=t||{fid:UF(),registrationStatus:0};return cI(e)}function qF(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(mi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=KF(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YF(t)}:{installationEntry:e}}async function KF(t,e){try{const n=await MF(t,e);return hd(t.appConfig,n)}catch(n){throw JT(n)&&n.customData.serverCode===409?await lI(t.appConfig):await hd(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function YF(t){let e=await N_(t.appConfig);for(;e.registrationStatus===1;)await sI(100),e=await N_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await yy(t);return r||n}return e}function N_(t){return Xd(t,e=>{if(!e)throw mi.create("installation-not-found");return cI(e)})}function cI(t){return QF(t)?{fid:t.fid,registrationStatus:0}:t}function QF(t){return t.registrationStatus===1&&t.registrationTime+YT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XF({appConfig:t,heartbeatServiceProvider:e},n){const r=JF(t,n),s=OF(t,n),i=e.getImmediate({optional:!0});if(i){const u=await i.getHeartbeatsHeader();u&&s.append("x-firebase-client",u)}const o={installation:{sdkVersion:QT,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await rI(()=>fetch(r,a));if(c.ok){const u=await c.json();return eI(u)}else throw await tI("Generate Auth Token",c)}function JF(t,{fid:e}){return`${ZT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vy(t,e=!1){let n;const r=await Xd(t.appConfig,i=>{if(!uI(i))throw mi.create("not-registered");const o=i.authToken;if(!e&&t6(o))return i;if(o.requestStatus===1)return n=ZF(t,e),i;{if(!navigator.onLine)throw mi.create("app-offline");const a=r6(i);return n=e6(t,a),a}});return n?await n:r.authToken}async function ZF(t,e){let n=await k_(t.appConfig);for(;n.authToken.requestStatus===1;)await sI(100),n=await k_(t.appConfig);const r=n.authToken;return r.requestStatus===0?vy(t,e):r}function k_(t){return Xd(t,e=>{if(!uI(e))throw mi.create("not-registered");const n=e.authToken;return s6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function e6(t,e){try{const n=await XF(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await hd(t.appConfig,r),n}catch(n){if(JT(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await lI(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await hd(t.appConfig,r)}throw n}}function uI(t){return t!==void 0&&t.registrationStatus===2}function t6(t){return t.requestStatus===2&&!n6(t)}function n6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+kF}function r6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function s6(t){return t.requestStatus===1&&t.requestTime+YT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i6(t){const e=t,{installationEntry:n,registrationPromise:r}=await yy(e);return r?r.catch(console.error):vy(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o6(t,e=!1){const n=t;return await a6(n),(await vy(n,e)).token}async function a6(t){const{registrationPromise:e}=await yy(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){if(!t||!t.options)throw xf("App Configuration");if(!t.name)throw xf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xf(t){return mi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI="installations",c6="installations-internal",u6=t=>{const e=t.getProvider("app").getImmediate(),n=l6(e),r=ks(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},d6=t=>{const e=t.getProvider("app").getImmediate(),n=ks(e,dI).getImmediate();return{getId:()=>i6(n),getToken:s=>o6(n,s)}};function h6(){On(new un(dI,u6,"PUBLIC")),On(new un(c6,d6,"PRIVATE"))}h6();Dt(KT,my);Dt(KT,my,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="analytics",f6="firebase_id",p6="origin",m6=60*1e3,g6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wy="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft=new Wl("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Gt=new _i("analytics","Analytics",y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){if(!t.startsWith(wy)){const e=Gt.create("invalid-gtag-resource",{gtagURL:t});return Ft.warn(e.message),""}return t}function hI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function w6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function _6(t,e){const n=w6("firebase-js-sdk-policy",{createScriptURL:v6}),r=document.createElement("script"),s=`${wy}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function x6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function E6(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await hI(n)).find(u=>u.measurementId===s);c&&await e[c.appId]}}catch(a){Ft.error(a)}t("config",s,i)}async function C6(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await hI(n);for(const c of o){const u=a.find(p=>p.measurementId===c),f=u&&e[u.appId];if(f)i.push(f);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Ft.error(i)}}function S6(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await C6(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await E6(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,u]=o;t("get",a,c,u)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Ft.error(a)}}return s}function b6(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=S6(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function T6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(wy)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=30,N6=1e3;class k6{constructor(e={},n=N6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const fI=new k6;function R6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function A6(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:R6(r)},i=g6.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw Gt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function P6(t,e=fI,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Gt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Gt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new L6;return setTimeout(async()=>{a.abort()},m6),pI({appId:r,apiKey:s,measurementId:i},o,a,e)}async function pI(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=fI){var i;const{appId:o,measurementId:a}=t;try{await O6(r,e)}catch(c){if(a)return Ft.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await A6(t);return s.deleteThrottleMetadata(o),c}catch(c){const u=c;if(!j6(u)){if(s.deleteThrottleMetadata(o),a)return Ft.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw c}const f=Number((i=u==null?void 0:u.customData)===null||i===void 0?void 0:i.httpStatus)===503?dw(n,s.intervalMillis,I6):dw(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return s.setThrottleMetadata(o,p),Ft.debug(`Calling attemptFetch again in ${f} millis`),pI(t,p,r,s)}}function O6(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Gt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function j6(t){if(!(t instanceof jn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class L6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function M6(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(){if(HS())try{await BS()}catch(t){return Ft.warn(Gt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ft.warn(Gt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function F6(t,e,n,r,s,i,o){var a;const c=P6(t);c.then(v=>{n[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Ft.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Ft.error(v)),e.push(c);const u=D6().then(v=>{if(v)return r.getId()}),[f,p]=await Promise.all([c,u]);T6(i)||_6(i,f.measurementId),s("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[p6]="firebase",m.update=!0,p!=null&&(m[f6]=p),s("config",f.measurementId,m),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e){this.app=e}_delete(){return delete Za[this.app.options.appId],Promise.resolve()}}let Za={},R_=[];const A_={};let Ef="dataLayer",z6="gtag",P_,mI,O_=!1;function $6(){const t=[];if(US()&&t.push("This is a browser extension environment."),L4()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Gt.create("invalid-analytics-context",{errorInfo:e});Ft.warn(n.message)}}function H6(t,e,n){$6();const r=t.options.appId;if(!r)throw Gt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ft.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Gt.create("no-api-key");if(Za[r]!=null)throw Gt.create("already-exists",{id:r});if(!O_){x6(Ef);const{wrappedGtag:i,gtagCore:o}=b6(Za,R_,A_,Ef,z6);mI=i,P_=o,O_=!0}return Za[r]=F6(t,R_,A_,e,P_,Ef,n),new U6(t)}function B6(t=$d()){t=St(t);const e=ks(t,fd);return e.isInitialized()?e.getImmediate():V6(t)}function V6(t,e={}){const n=ks(t,fd);if(n.isInitialized()){const s=n.getImmediate();if(Cl(e,n.getOptions()))return s;throw Gt.create("already-initialized")}return n.initialize({options:e})}function W6(t,e,n,r){t=St(t),M6(mI,Za[t.app.options.appId],e,n,r).catch(s=>Ft.error(s))}const j_="@firebase/analytics",L_="0.10.8";function G6(){On(new un(fd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return H6(r,s,n)},"PUBLIC")),On(new un("analytics-internal",t,"PRIVATE")),Dt(j_,L_),Dt(j_,L_,"esm2017");function t(e){try{const n=e.getProvider(fd).getImmediate();return{logEvent:(r,s,i)=>W6(n,r,s,i)}}catch(n){throw Gt.create("interop-component-reg-failed",{reason:n})}}}G6();const q6={apiKey:"AIzaSyCNKRHAHaWS806hqnxlPZ2ZGyqfuTjr7qk",authDomain:"genai-973e8.firebaseapp.com",databaseURL:"https://genai-973e8-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"genai-973e8",storageBucket:"genai-973e8.firebasestorage.app",messagingSenderId:"775058576088",appId:"1:775058576088:web:67e1008f8134f479c3fdad",measurementId:"G-X2DX6W8R1S"};let ji,At,M_,D_,Cf,La;try{if(ji=KS(q6),At=_D(ji),M_=zD(ji),D_=bF(ji),La=new ar,La.addScope("email"),La.addScope("profile"),typeof window<"u")try{Cf=B6(ji)}catch(t){console.warn("Firebase Analytics could not be initialized:",t),Cf=null}console.log(" Firebase initialized successfully with perfect configuration")}catch(t){console.error(" Firebase initialization failed:",t),At={currentUser:null,signOut:()=>Promise.resolve(),onAuthStateChanged:()=>()=>{},signInWithEmailAndPassword:()=>Promise.reject(new Error("Firebase not available")),createUserWithEmailAndPassword:()=>Promise.reject(new Error("Firebase not available")),signInWithPopup:()=>Promise.reject(new Error("Firebase not available"))},M_={doc:()=>({}),collection:()=>({}),setDoc:()=>Promise.resolve(),getDoc:()=>Promise.resolve({exists:()=>!1,data:()=>({})})},D_=null,La={addScope:()=>{},setCustomParameters:()=>{}},Cf=null,ji=null}const gI=N.createContext(void 0),Jd=()=>{const t=N.useContext(gI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},K6=({children:t})=>{const[e,n]=N.useState(null),[r,s]=N.useState(null),[i,o]=N.useState(!0),a=!!e,c=x=>({uid:x.uid,email:x.email,displayName:x.displayName,photoURL:x.photoURL,phoneNumber:x.phoneNumber,emailVerified:x.emailVerified,createdAt:x.metadata.creationTime,lastLoginAt:x.metadata.lastSignInTime}),u=x=>{console.warn("Using legacy login method. Consider using Firebase authentication instead."),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(x))},f=async()=>{try{await cM(At),n(null),s(null),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user")}catch(x){throw console.error("Error signing out:",x),x}},p=f,m=async()=>{if(At.currentUser){await At.currentUser.reload();const x=c(At.currentUser);s(x)}};N.useEffect(()=>{const x=lM(At,w=>{if(n(w),w){const I=c(w);s(I),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("user",JSON.stringify(I))}else s(null),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user");o(!1)});return()=>x()},[]),N.useEffect(()=>{!e&&!i&&localStorage.getItem("isLoggedIn")==="true"&&(localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user"))},[e,i]);const v={isLoggedIn:a,user:e,userProfile:r,loading:i,login:u,logout:p,signOut:f,refreshUser:m};return d.jsx(gI.Provider,{value:v,children:t})},Y6=Ig("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?YR:"button";return d.jsx(o,{className:He(Y6({variant:e,size:n,className:t})),ref:i,...s})});q.displayName="Button";const qe=N.forwardRef(({className:t,type:e,...n},r)=>d.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));qe.displayName="Input";const on=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));on.displayName="Card";const Q6=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:He("flex flex-col space-y-1.5 p-6",t),...e}));Q6.displayName="CardHeader";const X6=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:He("text-2xl font-semibold leading-none tracking-tight",t),...e}));X6.displayName="CardTitle";const J6=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:He("text-sm text-muted-foreground",t),...e}));J6.displayName="CardDescription";const bs=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:He("p-6 pt-0",t),...e}));bs.displayName="CardContent";const Z6=N.forwardRef(({className:t,...e},n)=>d.jsx("div",{ref:n,className:He("flex items-center p-6 pt-0",t),...e}));Z6.displayName="CardFooter";function e5({product:t}){const e=hg(),{toast:n}=QC(),r=HR({mutationFn:async a=>(await BR("PATCH",`/api/products/${a}/favorite`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/products"]})},onError:()=>{n({title:"Error",description:"Failed to toggle favorite",variant:"destructive"})}}),s=()=>{r.mutate(t.id)},i=a=>`${a}`,o=a=>Array.from({length:5},(c,u)=>d.jsx(ir,{className:`w-3 h-3 ${u<a?"fill-amber-400 text-amber-400":"text-gray-300"}`},u));return d.jsx($E,{href:`/product/${t.id}`,className:"block",children:d.jsxs(on,{className:"product-card bg-card rounded-xl overflow-hidden shadow-sm cursor-pointer hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-40 object-cover","data-testid":`img-product-${t.id}`}),d.jsx(q,{variant:"ghost",size:"icon",className:"favorite-btn absolute top-3 right-3 w-8 h-8 bg-background/80 backdrop-blur-sm rounded-full hover:bg-background",onClick:a=>{a.preventDefault(),s()},disabled:r.isPending,"data-testid":`button-favorite-${t.id}`,children:d.jsx(Vl,{className:`w-4 h-4 ${t.isFavorite?"fill-red-500 text-red-500":"text-muted-foreground"}`})})]}),d.jsxs(bs,{className:"p-3",children:[d.jsx("div",{className:"flex items-center gap-1 mb-2",children:d.jsx("div",{className:"flex","data-testid":`rating-${t.id}`,children:o(t.rating)})}),d.jsx("h3",{className:"font-medium text-sm text-foreground mb-1","data-testid":`text-name-${t.id}`,children:t.name}),d.jsx("p",{className:"text-xs text-muted-foreground mb-2","data-testid":`text-description-${t.id}`,children:t.description}),d.jsx("p",{className:"text-sm font-semibold text-foreground","data-testid":`text-price-${t.id}`,children:i(t.price)})]})]})})}function t5({activeCategory:t,onCategoryChange:e}){const n=["All","Pottery","Ceramic","Glaze"];return d.jsxs("div",{className:"mb-6 md:mb-8",children:[d.jsx("h2",{className:"text-2xl md:text-3xl lg:text-4xl font-semibold text-foreground mb-4 md:mb-6 text-center md:text-left",children:"Discover products"}),d.jsx("div",{className:"flex gap-2 md:gap-3 lg:gap-4 overflow-x-auto md:justify-center lg:justify-start [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:n.map(r=>d.jsx(q,{variant:t===r?"default":"secondary",className:`category-tab px-6 py-2 md:px-8 md:py-3 lg:px-10 lg:py-3 rounded-full text-sm md:text-base lg:text-lg font-medium whitespace-nowrap transition-all ${t===r?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-secondary text-secondary-foreground hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>e(r),"data-testid":`button-category-${r.toLowerCase()}`,children:r},r))})]})}function Zo(){const[t]=Nr(),e=[{icon:n4,label:"Home",path:"/"},{icon:Vl,label:"Favorites",path:"/favorites"},{icon:wS,label:"Categories",path:"/categories"},{icon:Ng,label:"Cart",path:"/cart"},{icon:w4,label:"Profile",path:"/user"}];return d.jsx("nav",{className:"fixed bottom-0 left-0 right-0 mb-2.5 ml-2.5 mr-2.5 md:mb-0 md:ml-0 md:mr-0 md:left-1/2 md:transform md:-translate-x-1/2 md:w-full md:max-w-sm md:max-w-md lg:max-w-lg backdrop-blur-sm bg-background/95 border rounded-2xl md:rounded-t-2xl md:rounded-b-none border-t shadow-lg",children:d.jsx("div",{className:"flex items-center justify-around py-3 px-4 md:py-4 md:px-6",children:e.map(({icon:n,label:r,path:s})=>d.jsx(q,{variant:"ghost",size:"icon",asChild:!0,className:`flex flex-col items-center gap-1 p-2 md:p-3 h-auto transition-colors hover:bg-transparent ${t===s?"text-orange-700 hover:text-orange-700/80":"text-black dark:text-white hover:text-black/80 dark:hover:text-white/80"}`,"data-testid":`button-nav-${s.slice(1)||"home"}`,children:d.jsx($E,{href:s,children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(n,{className:"w-5 h-5 md:w-6 md:h-6"}),d.jsx("span",{className:"hidden md:block text-xs lg:text-sm font-medium",children:r})]})})},s))})})}var K=(t=>(t.LOCATION="LOCATION",t.ITINERARY="ITINERARY",t.SOUVENIR="SOUVENIR",t.LANGUAGE="LANGUAGE",t.GENERAL="GENERAL",t))(K||{});const n5=[{id:"en",name:"English"},{id:"hi",name:""},{id:"bn",name:""},{id:"mr",name:""},{id:"te",name:""},{id:"ta",name:""}],F_={en:{[K.ITINERARY]:"Plan Itinerary",[K.SOUVENIR]:"Find Souvenirs",[K.LOCATION]:"Location Info",[K.LANGUAGE]:"Language Help",[K.GENERAL]:"General Chat"},hi:{[K.ITINERARY]:" ",[K.SOUVENIR]:" ",[K.LOCATION]:" ",[K.LANGUAGE]:" ",[K.GENERAL]:" "},bn:{[K.ITINERARY]:"",[K.SOUVENIR]:"",[K.LOCATION]:" ",[K.LANGUAGE]:" ",[K.GENERAL]:" "},mr:{[K.ITINERARY]:" ",[K.SOUVENIR]:"",[K.LOCATION]:" ",[K.LANGUAGE]:" ",[K.GENERAL]:" "},te:{[K.ITINERARY]:" ",[K.SOUVENIR]:"",[K.LOCATION]:" ",[K.LANGUAGE]:" ",[K.GENERAL]:" "},ta:{[K.ITINERARY]:"",[K.SOUVENIR]:"",[K.LOCATION]:" ",[K.LANGUAGE]:" ",[K.GENERAL]:" "}},U_=[{id:K.ITINERARY,icon:""},{id:K.SOUVENIR,icon:""},{id:K.LOCATION,icon:""},{id:K.LANGUAGE,icon:""},{id:K.GENERAL,icon:""}],z_=({onSelectFeature:t,language:e,isExpanded:n=!1})=>{const[r,s]=N.useState(!1);return n?d.jsxs("div",{className:"mb-2",children:[d.jsxs(q,{onClick:()=>s(!r),variant:"outline",className:"w-full flex items-center justify-between p-3 h-10 text-sm hover:bg-primary/10 transition-colors border-border",children:[d.jsxs("span",{className:"flex items-center gap-2",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Tourism Features"})]}),r?d.jsx(aw,{className:"w-4 h-4"}):d.jsx(ow,{className:"w-4 h-4"})]}),r&&d.jsx("div",{className:"grid grid-cols-3 gap-3 mt-3 animate-in slide-in-from-top-2 duration-200",children:U_.map(i=>d.jsxs(q,{onClick:()=>{t(i.id),s(!1)},variant:"outline",className:"flex flex-col items-center justify-center text-center p-4 h-auto hover:bg-primary/10 transition-colors border-border",children:[d.jsx("span",{className:"text-2xl mb-2",children:i.icon}),d.jsx("span",{className:"text-sm font-medium text-foreground",children:F_[e][i.id]})]},i.id))})]}):d.jsxs("div",{className:"mb-2",children:[d.jsxs(q,{onClick:()=>s(!r),variant:"outline",className:"w-full flex items-center justify-between p-2 h-8 text-xs hover:bg-primary/10 transition-colors border-border",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Features"})]}),r?d.jsx(aw,{className:"w-3 h-3"}):d.jsx(ow,{className:"w-3 h-3"})]}),r&&d.jsx("div",{className:"grid grid-cols-3 gap-1 mt-2 animate-in slide-in-from-top-2 duration-200",children:U_.map(i=>d.jsxs(q,{onClick:()=>{t(i.id),s(!1)},variant:"outline",className:"flex flex-col items-center justify-center text-center p-1 h-12 hover:bg-primary/10 transition-colors border-border",children:[d.jsx("span",{className:"text-sm mb-0.5",children:i.icon}),d.jsx("span",{className:"text-[10px] font-medium text-foreground leading-tight",children:F_[e][i.id].split(" ")[0]})]},i.id))})]})},r5=({selectedLanguage:t,onLanguageChange:e,isExpanded:n=!1})=>d.jsxs("div",{className:`flex ${n?"flex-wrap gap-2":"flex-col gap-1"} mb-2`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(t4,{className:"w-4 h-4 text-muted-foreground"}),d.jsx("span",{className:"text-sm font-medium text-foreground",children:n?"Select Language:":"Language"})]}),d.jsx("div",{className:`flex ${n?"flex-wrap gap-2":"flex-col gap-1"}`,children:n5.map(r=>d.jsx(q,{onClick:()=>e(r.id),variant:t===r.id?"default":"outline",size:"sm",className:`${n?"min-w-0 px-3 py-1":"w-full"} text-xs transition-colors`,children:r.name},r.id))})]});var $_;(function(t){t.STRING="string",t.NUMBER="number",t.INTEGER="integer",t.BOOLEAN="boolean",t.ARRAY="array",t.OBJECT="object"})($_||($_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H_;(function(t){t.LANGUAGE_UNSPECIFIED="language_unspecified",t.PYTHON="python"})(H_||(H_={}));var B_;(function(t){t.OUTCOME_UNSPECIFIED="outcome_unspecified",t.OUTCOME_OK="outcome_ok",t.OUTCOME_FAILED="outcome_failed",t.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(B_||(B_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=["user","model","function","system"];var W_;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(W_||(W_={}));var G_;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(G_||(G_={}));var q_;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(q_||(q_={}));var K_;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(K_||(K_={}));var el;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.OTHER="OTHER"})(el||(el={}));var Y_;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(Y_||(Y_={}));var Q_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Q_||(Q_={}));var X_;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(X_||(X_={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Li extends ct{constructor(e,n){super(e),this.response=n}}class yI extends ct{constructor(e,n,r,s){super(e),this.status=n,this.statusText=r,this.errorDetails=s}}class ys extends ct{}class vI extends ct{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="https://generativelanguage.googleapis.com",i5="v1beta",o5="0.24.1",a5="genai-js";var yi;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})(yi||(yi={}));class l5{constructor(e,n,r,s,i){this.model=e,this.task=n,this.apiKey=r,this.stream=s,this.requestOptions=i}toString(){var e,n;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||i5;let i=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||s5}/${r}/${this.model}:${this.task}`;return this.stream&&(i+="?alt=sse"),i}}function c5(t){const e=[];return t!=null&&t.apiClient&&e.push(t.apiClient),e.push(`${a5}/${o5}`),e.join(" ")}async function u5(t){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",c5(t.requestOptions)),n.append("x-goog-api-key",t.apiKey);let r=(e=t.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(s){throw new ys(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${s.message}`)}for(const[s,i]of r.entries()){if(s==="x-goog-api-key")throw new ys(`Cannot set reserved header name ${s}`);if(s==="x-goog-api-client")throw new ys(`Header name ${s} can only be set using the apiClient field`);n.append(s,i)}}return n}async function d5(t,e,n,r,s,i){const o=new l5(t,e,n,r,i);return{url:o.toString(),fetchOptions:Object.assign(Object.assign({},m5(i)),{method:"POST",headers:await u5(o),body:s})}}async function nc(t,e,n,r,s,i={},o=fetch){const{url:a,fetchOptions:c}=await d5(t,e,n,r,s,i);return h5(a,c,o)}async function h5(t,e,n=fetch){let r;try{r=await n(t,e)}catch(s){f5(s,t)}return r.ok||await p5(r,t),r}function f5(t,e){let n=t;throw n.name==="AbortError"?(n=new vI(`Request aborted when fetching ${e.toString()}: ${t.message}`),n.stack=t.stack):t instanceof yI||t instanceof ys||(n=new ct(`Error fetching from ${e.toString()}: ${t.message}`),n.stack=t.stack),n}async function p5(t,e){let n="",r;try{const s=await t.json();n=s.error.message,s.error.details&&(n+=` ${JSON.stringify(s.error.details)}`,r=s.error.details)}catch{}throw new yI(`Error fetching from ${e.toString()}: [${t.status} ${t.statusText}] ${n}`,t.status,t.statusText,r)}function m5(t){const e={};if((t==null?void 0:t.signal)!==void 0||(t==null?void 0:t.timeout)>=0){const n=new AbortController;(t==null?void 0:t.timeout)>=0&&setTimeout(()=>n.abort(),t.timeout),t!=null&&t.signal&&t.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),fu(t.candidates[0]))throw new Li(`${Br(t)}`,t);return g5(t)}else if(t.promptFeedback)throw new Li(`Text not available. ${Br(t)}`,t);return""},t.functionCall=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),fu(t.candidates[0]))throw new Li(`${Br(t)}`,t);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),J_(t)[0]}else if(t.promptFeedback)throw new Li(`Function call not available. ${Br(t)}`,t)},t.functionCalls=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),fu(t.candidates[0]))throw new Li(`${Br(t)}`,t);return J_(t)}else if(t.promptFeedback)throw new Li(`Function call not available. ${Br(t)}`,t)},t}function g5(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.text&&i.push(o.text),o.executableCode&&i.push("\n```"+o.executableCode.language+`
`+o.executableCode.code+"\n```\n"),o.codeExecutionResult&&i.push("\n```\n"+o.codeExecutionResult.output+"\n```\n");return i.length>0?i.join(""):""}function J_(t){var e,n,r,s;const i=[];if(!((n=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const o of(s=(r=t.candidates)===null||r===void 0?void 0:r[0].content)===null||s===void 0?void 0:s.parts)o.functionCall&&i.push(o.functionCall);if(i.length>0)return i}const y5=[el.RECITATION,el.SAFETY,el.LANGUAGE];function fu(t){return!!t.finishReason&&y5.includes(t.finishReason)}function Br(t){var e,n,r;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((n=t.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((r=t.candidates)===null||r===void 0)&&r[0]){const i=t.candidates[0];fu(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function Nl(t){return this instanceof Nl?(this.v=t,this):new Nl(t)}function v5(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),s,i=[];return s={},o("next"),o("throw"),o("return"),s[Symbol.asyncIterator]=function(){return this},s;function o(m){r[m]&&(s[m]=function(v){return new Promise(function(x,w){i.push([m,v,x,w])>1||a(m,v)})})}function a(m,v){try{c(r[m](v))}catch(x){p(i[0][3],x)}}function c(m){m.value instanceof Nl?Promise.resolve(m.value.v).then(u,f):p(i[0][2],m)}function u(m){a("next",m)}function f(m){a("throw",m)}function p(m,v){m(v),i.shift(),i.length&&a(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function w5(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=E5(e),[r,s]=n.tee();return{stream:x5(r),response:_5(s)}}async function _5(t){const e=[],n=t.getReader();for(;;){const{done:r,value:s}=await n.read();if(r)return _y(C5(e));e.push(s)}}function x5(t){return v5(this,arguments,function*(){const n=t.getReader();for(;;){const{value:r,done:s}=yield Nl(n.read());if(s)break;yield yield Nl(_y(r))}})}function E5(t){const e=t.getReader();return new ReadableStream({start(r){let s="";return i();function i(){return e.read().then(({value:o,done:a})=>{if(a){if(s.trim()){r.error(new ct("Failed to parse stream"));return}r.close();return}s+=o;let c=s.match(Z_),u;for(;c;){try{u=JSON.parse(c[1])}catch{r.error(new ct(`Error parsing JSON response: "${c[1]}"`));return}r.enqueue(u),s=s.substring(c[0].length),c=s.match(Z_)}return i()}).catch(o=>{let a=o;throw a.stack=o.stack,a.name==="AbortError"?a=new vI("Request aborted when reading from the stream"):a=new ct("Error reading from the stream"),a})}}})}function C5(t){const e=t[t.length-1],n={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of t){if(r.candidates){let s=0;for(const i of r.candidates)if(n.candidates||(n.candidates=[]),n.candidates[s]||(n.candidates[s]={index:s}),n.candidates[s].citationMetadata=i.citationMetadata,n.candidates[s].groundingMetadata=i.groundingMetadata,n.candidates[s].finishReason=i.finishReason,n.candidates[s].finishMessage=i.finishMessage,n.candidates[s].safetyRatings=i.safetyRatings,i.content&&i.content.parts){n.candidates[s].content||(n.candidates[s].content={role:i.content.role||"user",parts:[]});const o={};for(const a of i.content.parts)a.text&&(o.text=a.text),a.functionCall&&(o.functionCall=a.functionCall),a.executableCode&&(o.executableCode=a.executableCode),a.codeExecutionResult&&(o.codeExecutionResult=a.codeExecutionResult),Object.keys(o).length===0&&(o.text=""),n.candidates[s].content.parts.push(o)}s++}r.usageMetadata&&(n.usageMetadata=r.usageMetadata)}return n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(t,e,n,r){const s=await nc(e,yi.STREAM_GENERATE_CONTENT,t,!0,JSON.stringify(n),r);return w5(s)}async function _I(t,e,n,r){const i=await(await nc(e,yi.GENERATE_CONTENT,t,!1,JSON.stringify(n),r)).json();return{response:_y(i)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){if(t!=null){if(typeof t=="string")return{role:"system",parts:[{text:t}]};if(t.text)return{role:"system",parts:[t]};if(t.parts)return t.role?t:{role:"system",parts:t.parts}}}function kl(t){let e=[];if(typeof t=="string")e=[{text:t}];else for(const n of t)typeof n=="string"?e.push({text:n}):e.push(n);return S5(e)}function S5(t){const e={role:"user",parts:[]},n={role:"function",parts:[]};let r=!1,s=!1;for(const i of t)"functionResponse"in i?(n.parts.push(i),s=!0):(e.parts.push(i),r=!0);if(r&&s)throw new ct("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!s)throw new ct("No content is provided for sending chat message.");return r?e:n}function b5(t,e){var n;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(n=e==null?void 0:e.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const s=t.generateContentRequest!=null;if(t.contents){if(s)throw new ys("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=t.contents}else if(s)r=Object.assign(Object.assign({},r),t.generateContentRequest);else{const i=kl(t);r.contents=[i]}return{generateContentRequest:r}}function ex(t){let e;return t.contents?e=t:e={contents:[kl(t)]},t.systemInstruction&&(e.systemInstruction=xI(t.systemInstruction)),e}function T5(t){return typeof t=="string"||Array.isArray(t)?{content:kl(t)}:t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],I5={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function N5(t){let e=!1;for(const n of t){const{role:r,parts:s}=n;if(!e&&r!=="user")throw new ct(`First content should be with role 'user', got ${r}`);if(!V_.includes(r))throw new ct(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(V_)}`);if(!Array.isArray(s))throw new ct("Content should have 'parts' property with an array of Parts");if(s.length===0)throw new ct("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const a of s)for(const c of tx)c in a&&(i[c]+=1);const o=I5[r];for(const a of tx)if(!o.includes(a)&&i[a]>0)throw new ct(`Content with role '${r}' can't contain '${a}' part`);e=!0}}function nx(t){var e;if(t.candidates===void 0||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const r of n.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="SILENT_ERROR";class k5{constructor(e,n,r,s={}){this.model=n,this.params=r,this._requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(N5(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var r,s,i,o,a,c;await this._sendPromise;const u=kl(e),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n);let m;return this._sendPromise=this._sendPromise.then(()=>_I(this._apiKey,this.model,f,p)).then(v=>{var x;if(nx(v.response)){this._history.push(u);const w=Object.assign({parts:[],role:"model"},(x=v.response.candidates)===null||x===void 0?void 0:x[0].content);this._history.push(w)}else{const w=Br(v.response);w&&console.warn(`sendMessage() was unsuccessful. ${w}. Inspect response object for details.`)}m=v}).catch(v=>{throw this._sendPromise=Promise.resolve(),v}),await this._sendPromise,m}async sendMessageStream(e,n={}){var r,s,i,o,a,c;await this._sendPromise;const u=kl(e),f={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(s=this.params)===null||s===void 0?void 0:s.generationConfig,tools:(i=this.params)===null||i===void 0?void 0:i.tools,toolConfig:(o=this.params)===null||o===void 0?void 0:o.toolConfig,systemInstruction:(a=this.params)===null||a===void 0?void 0:a.systemInstruction,cachedContent:(c=this.params)===null||c===void 0?void 0:c.cachedContent,contents:[...this._history,u]},p=Object.assign(Object.assign({},this._requestOptions),n),m=wI(this._apiKey,this.model,f,p);return this._sendPromise=this._sendPromise.then(()=>m).catch(v=>{throw new Error(rx)}).then(v=>v.response).then(v=>{if(nx(v)){this._history.push(u);const x=Object.assign({},v.candidates[0].content);x.role||(x.role="model"),this._history.push(x)}else{const x=Br(v);x&&console.warn(`sendMessageStream() was unsuccessful. ${x}. Inspect response object for details.`)}}).catch(v=>{v.message!==rx&&console.error(v)}),m}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(t,e,n,r){return(await nc(e,yi.COUNT_TOKENS,t,!1,JSON.stringify(n),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A5(t,e,n,r){return(await nc(e,yi.EMBED_CONTENT,t,!1,JSON.stringify(n),r)).json()}async function P5(t,e,n,r){const s=n.requests.map(o=>Object.assign(Object.assign({},o),{model:e}));return(await nc(e,yi.BATCH_EMBED_CONTENTS,t,!1,JSON.stringify({requests:s}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n,r={}){this.apiKey=e,this._requestOptions=r,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=xI(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var r;const s=ex(e),i=Object.assign(Object.assign({},this._requestOptions),n);return _I(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}async generateContentStream(e,n={}){var r;const s=ex(e),i=Object.assign(Object.assign({},this._requestOptions),n);return wI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},s),i)}startChat(e){var n;return new k5(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const r=b5(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),s=Object.assign(Object.assign({},this._requestOptions),n);return R5(this.apiKey,this.model,r,s)}async embedContent(e,n={}){const r=T5(e),s=Object.assign(Object.assign({},this._requestOptions),n);return A5(this.apiKey,this.model,r,s)}async batchEmbedContents(e,n={}){const r=Object.assign(Object.assign({},this._requestOptions),n);return P5(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O5{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new ct("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new sx(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,r){if(!e.name)throw new ys("Cached content must contain a `name` field.");if(!e.model)throw new ys("Cached content must contain a `model` field.");const s=["model","systemInstruction"];for(const o of s)if(n!=null&&n[o]&&e[o]&&(n==null?void 0:n[o])!==e[o]){if(o==="model"){const a=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,c=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(a===c)continue}throw new ys(`Different value for "${o}" specified in modelParams (${n[o]}) and cachedContent (${e[o]})`)}const i=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new sx(this.apiKey,i,r)}}const EI=void 0;console.log("API Key loaded:","No");const CI=new O5(EI),Uo=(t,e)=>({id:"bot-"+Date.now(),text:t,sender:"bot",timestamp:new Date,feature:e}),j5=async()=>{try{console.log("Testing AI connection...");const r=(await(await CI.getGenerativeModel({model:"gemini-1.5-flash"}).generateContent("Say hello")).response).text();return console.log("AI connection test successful:",r),!0}catch(t){return console.error("AI connection test failed:",t),!1}},L5=t=>t.replace(/\*\*([^*]+)\*\*/g,"$1").replace(/\*([^*]+)\*/g,"$1").replace(/#{1,6}\s*/g,"").replace(/^\s*[-*+]\s*/gm,"").replace(/^\s*\d+\.\s*/gm,"").replace(/```[^`]*```/g,"").replace(/`([^`]+)`/g,"$1").trim(),rc=async(t,e,n)=>{try{if(console.log(" Generating AI response for:",t),!EI)throw console.error(" Gemini API key not found"),new Error("Gemini API key not found");console.log(" API Key found, initializing model...");const r=CI.getGenerativeModel({model:"gemini-1.5-flash",generationConfig:{temperature:.8,topP:.9,maxOutputTokens:600}});let s=`You are a helpful travel expert. Give detailed, enthusiastic advice about travel destinations, local products, culture, and trip planning.

Important rules:
- Only discuss travel, tourism, and related topics
- Be specific and helpful with recommendations
- Include practical details like costs and timing
- Use plain text only (no markdown formatting)
- Be conversational and engaging

User question: ${t}

Please provide a detailed, helpful response:`;console.log(" Sending request to Gemini API...");const a=(await(await r.generateContent(s)).response).text();return console.log(" AI response received successfully"),console.log(" Response preview:",a.substring(0,100)+"..."),L5(a)}catch(r){console.error(" AI generation error details:",r);const s=r instanceof Error?r.message:String(r);return s.includes("API_KEY")&&console.error(" API Key issue detected"),s.includes("quota")&&console.error(" API quota exceeded"),M5(e,t)}},M5=(t,e)=>{switch(t){case K.ITINERARY:return"I'd love to help you plan an amazing trip! Tell me where you want to go, how many days you have, and what type of experiences you enjoy most - adventure, culture, relaxation, or food exploration. I'll create a perfect itinerary for you!";case K.LOCATION:return"Let me help you discover incredible places! What type of destination interests you? Are you looking for historical sites, natural wonders, vibrant cities, peaceful beaches, or cultural experiences? Share your preferences and I'll recommend some amazing spots!";case K.SOUVENIR:return"Shopping for authentic local treasures is one of my favorite topics! Are you interested in handmade crafts, traditional textiles, local foods and spices, jewelry, or art? Tell me about your destination and budget, and I'll guide you to the best authentic products!";case K.LANGUAGE:return"Language and cultural communication is so important for great travel experiences! Which destination are you visiting? I can help you with essential phrases, cultural etiquette, dining customs, and tips for connecting with locals. What would you like to learn?";default:return e&&e.toLowerCase().includes("hello")?"Hello there, fellow traveler! I'm excited to help you discover amazing destinations and authentic experiences. Whether you need help planning trips, finding great local products, or learning about cultures, I'm here for you. What's your next adventure?":"Welcome to your personal travel assistant! I'm here to help you explore the world with insider tips and detailed recommendations. Ask me about destinations, trip planning, local products, cultural experiences, or anything travel-related. Where would you like to explore?"}},D5=async(t,e="en",n)=>{n&&n.length>0&&n.slice(-6).map(o=>`${o.sender==="user"?"Human":"Assistant"}: ${o.text}`).join(`
`);const r=`Help me plan a travel itinerary. ${t}. Please provide specific places, timing, and practical travel tips. Language: ${e}`,s=await rc(r,K.ITINERARY);return Uo(s,K.ITINERARY)},F5=async(t,e="en",n)=>{n&&n.length>0&&n.slice(-6).map(o=>`${o.sender==="user"?"Human":"Assistant"}: ${o.text}`).join(`
`);const r=`Tell me about this travel destination: ${t}. Include attractions, activities, best times to visit, and practical information. Language: ${e}`,s=await rc(r,K.LOCATION);return Uo(s,K.LOCATION)},U5=async(t,e,n)=>{n&&n.length>0&&n.slice(-6).map(o=>`${o.sender==="user"?"Human":"Assistant"}: ${o.text}`).join(`
`);const r=`Help with language and cultural information: ${t}. Provide useful phrases and cultural tips for travelers. Target language: ${e}`,s=await rc(r,K.LANGUAGE);return Uo(s,K.LANGUAGE)},z5=async(t,e="en",n)=>{n&&n.length>0&&n.slice(-6).map(o=>`${o.sender==="user"?"Human":"Assistant"}: ${o.text}`).join(`
`);const r=`Recommend local products, souvenirs, and shopping experiences: ${t}. Include specific items, where to buy them, price ranges, and what makes them special. Language: ${e}`,s=await rc(r,K.SOUVENIR);return Uo(s,K.SOUVENIR)},ix=async(t,e="en",n)=>{try{console.log("Getting general response for:",t);const r=t.toLowerCase();let s=K.GENERAL;r.includes("itinerary")||r.includes("plan")||r.includes("trip")||r.includes("visit")?s=K.ITINERARY:r.includes("place")||r.includes("destination")||r.includes("attraction")||r.includes("location")?s=K.LOCATION:r.includes("souvenir")||r.includes("shopping")||r.includes("buy")||r.includes("product")?s=K.SOUVENIR:(r.includes("language")||r.includes("phrase")||r.includes("speak")||r.includes("say"))&&(s=K.LANGUAGE);let i="";n&&n.length>0&&(i=n.slice(-4).map(u=>`${u.sender==="user"?"Human":"Assistant"}: ${u.text}`).join(`
`));const o=`${t} (Language: ${e})`,a=await rc(o,s,i);return console.log("Response generated successfully"),Uo(a,s)}catch(r){return console.error("Error in getGeneralResponse:",r),Uo("I'm having trouble connecting right now. Please try asking your question again in a moment!",K.GENERAL)}};function $5({isOpen:t,onClose:e}){const[n,r]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(!1),[c,u]=N.useState("en"),[f,p]=N.useState(null),[m,v]=N.useState(!1),[x,w]=N.useState([{id:"1",text:"Hello! I'm your AI-powered travel expert, ready to help you discover incredible destinations and authentic experiences! I can assist you with trip planning, finding amazing local products, cultural insights, and language tips. Try asking me about any destination, or click one of the features below to get started. Where would you like to explore today?",sender:"bot",timestamp:new Date,feature:K.GENERAL}]),[I,E]=N.useState(""),y=N.useRef(null),b=()=>{var S;(S=y.current)==null||S.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{b()},[x]),N.useEffect(()=>{j5().then(S=>{console.log("AI Connection Status:",S?"Connected":"Failed")})},[]);const P=async S=>{p(S),v(!0);try{let k;switch(S){case K.ITINERARY:k=await D5("I need help planning a travel itinerary. Can you guide me?",c,x);break;case K.SOUVENIR:k=await z5("I'm looking for local products and souvenirs. What do you recommend?",c,x);break;case K.LOCATION:k=await F5("I want to explore interesting places and attractions. What can you suggest?",c,x);break;case K.LANGUAGE:k=await U5("I need help with language and cultural tips for my travels",c,x);break;default:k=await ix("Hello! I'm interested in travel assistance.",c,x)}w(A=>[...A,k])}catch(k){console.error("Error getting feature response:",k)}finally{v(!1)}},L=async()=>{if(!I.trim())return;const S={id:Date.now().toString(),text:I,sender:"user",timestamp:new Date};w(A=>[...A,S]);const k=I;E(""),v(!0);try{console.log("Sending message:",k);const A=await ix(k,c,x);w(O=>[...O,A])}catch(A){console.error("Error getting AI response:",A);const O={id:(Date.now()+1).toString(),text:"I'm having a connection issue right now. The chatbot should be working properly! Let me try to help you anyway - what would you like to know about travel destinations, planning, or local products?",sender:"bot",timestamp:new Date};w(R=>[...R,O])}finally{v(!1)}},D=S=>{S.key==="Enter"&&L()},T=()=>{i(!s),console.log("Voice recording:",!s)},_=S=>{u(S),a(!1)};return t?d.jsxs(d.Fragment,{children:[n&&d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[d.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:()=>r(!1)}),d.jsxs("div",{className:"relative w-full max-w-4xl h-[90vh] mx-4 bg-card rounded-2xl shadow-2xl animate-in zoom-in-95 duration-300 border border-border flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-primary rounded-full flex items-center justify-center animate-bounce",children:d.jsx(iw,{className:"w-6 h-6 text-primary-foreground"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Travel Assistant"}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Personal Tourism Guide"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(q,{variant:"ghost",size:"icon",onClick:()=>a(!o),className:"hover:bg-accent hover:text-accent-foreground",children:d.jsx(f4,{className:"w-5 h-5"})}),d.jsx(q,{variant:"ghost",size:"icon",onClick:()=>r(!1),className:"hover:bg-accent hover:text-accent-foreground",children:d.jsx(l4,{className:"w-5 h-5"})}),d.jsx(q,{variant:"ghost",size:"icon",onClick:e,className:"hover:bg-accent hover:text-accent-foreground",children:d.jsx(Hp,{className:"w-5 h-5"})})]})]}),o&&d.jsx("div",{className:"px-6 py-3 border-b border-border bg-muted/20 flex-shrink-0",children:d.jsx(r5,{selectedLanguage:c,onLanguageChange:_,isExpanded:!0})}),d.jsx("div",{className:"px-6 py-3 border-b border-border flex-shrink-0",children:d.jsx(z_,{onSelectFeature:P,language:c,isExpanded:!0})}),d.jsx("div",{className:"flex-1 px-6 py-4 overflow-y-auto",children:d.jsxs("div",{className:"space-y-3",children:[x.map(S=>d.jsx("div",{className:`flex ${S.sender==="bot"?"justify-start":"justify-end"}`,children:d.jsx("div",{className:`max-w-xs lg:max-w-md px-4 py-3 rounded-2xl whitespace-pre-wrap ${S.sender==="bot"?"bg-muted text-foreground":"bg-primary text-primary-foreground"} animate-in slide-in-from-bottom-2 duration-300`,children:d.jsx("p",{className:"text-sm",children:S.text})})},S.id)),m&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-muted text-foreground px-4 py-3 rounded-2xl",children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),d.jsx("div",{ref:y})]})}),d.jsx("div",{className:"px-6 py-4 border-t border-border flex-shrink-0",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(qe,{value:I,onChange:S=>E(S.target.value),onKeyPress:D,placeholder:"Ask about places, products, or travel tips...",className:"flex-1 px-4 py-3 rounded-xl border-border focus:border-primary focus:ring-primary h-12",disabled:m}),d.jsx(q,{onClick:T,size:"icon",variant:"outline",className:`w-12 h-12 flex-shrink-0 rounded-xl transition-colors ${s?"bg-destructive hover:bg-destructive/90 text-destructive-foreground border-destructive":"border-border hover:bg-accent hover:text-accent-foreground"}`,disabled:m,children:d.jsx(Gu,{className:`w-5 h-5 ${s?"animate-pulse":""}`})}),d.jsx(q,{onClick:L,size:"icon",className:"w-12 h-12 flex-shrink-0 bg-primary hover:bg-primary/90 text-primary-foreground rounded-xl transition-colors",disabled:m||!I.trim(),children:d.jsx($p,{className:"w-5 h-5"})})]})})]})]}),!n&&d.jsx("div",{className:"fixed bottom-4 right-4 z-40 animate-in slide-in-from-bottom-4 duration-300",children:d.jsxs("div",{className:"w-80 h-[500px] bg-card rounded-2xl shadow-2xl border border-border flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border rounded-t-2xl bg-primary flex-shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-8 h-8 bg-primary-foreground rounded-full flex items-center justify-center",children:d.jsx(iw,{className:"w-4 h-4 text-primary"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-semibold text-primary-foreground",children:"Travel Assistant"}),d.jsx("p",{className:"text-xs text-primary-foreground/80",children:"Tourism Guide"})]})]}),d.jsxs("div",{className:"flex gap-1",children:[d.jsx(q,{variant:"ghost",size:"icon",onClick:()=>r(!0),className:"w-6 h-6 hover:bg-primary/20 text-primary-foreground",children:d.jsx(o4,{className:"w-3 h-3"})}),d.jsx(q,{variant:"ghost",size:"icon",onClick:e,className:"w-6 h-6 hover:bg-primary/20 text-primary-foreground",children:d.jsx(Hp,{className:"w-3 h-3"})})]})]}),d.jsx("div",{className:"px-3 py-2 border-b border-border flex-shrink-0",children:d.jsx(z_,{onSelectFeature:P,language:c,isExpanded:!1})}),d.jsx("div",{className:"flex-1 px-4 py-2 overflow-y-auto",children:d.jsxs("div",{className:"space-y-2",children:[x.map(S=>d.jsx("div",{className:`flex ${S.sender==="bot"?"justify-start":"justify-end"}`,children:d.jsx("div",{className:`max-w-[180px] px-2 py-1.5 rounded-lg text-xs whitespace-pre-wrap ${S.sender==="bot"?"bg-muted text-foreground":"bg-primary text-primary-foreground"}`,children:d.jsx("p",{className:"leading-tight",children:S.text})})},S.id)),m&&d.jsx("div",{className:"flex justify-start",children:d.jsx("div",{className:"bg-muted text-foreground px-3 py-2 rounded-lg",children:d.jsxs("div",{className:"flex space-x-1",children:[d.jsx("div",{className:"w-1 h-1 bg-primary rounded-full animate-bounce"}),d.jsx("div",{className:"w-1 h-1 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-1 h-1 bg-primary rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),d.jsx("div",{ref:y})]})}),d.jsx("div",{className:"px-3 py-2 border-t border-border flex-shrink-0",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(qe,{value:I,onChange:S=>E(S.target.value),onKeyPress:D,placeholder:"Ask about travel...",className:"flex-1 px-3 py-2 text-xs rounded-lg border-border focus:border-primary focus:ring-primary h-8",disabled:m}),d.jsx(q,{onClick:T,size:"icon",variant:"outline",className:`w-8 h-8 flex-shrink-0 rounded-lg transition-colors ${s?"bg-destructive hover:bg-destructive/90 text-destructive-foreground border-destructive":"border-border hover:bg-accent hover:text-accent-foreground"}`,disabled:m,children:d.jsx(Gu,{className:`w-3 h-3 ${s?"animate-pulse":""}`})}),d.jsx(q,{onClick:L,size:"icon",className:"w-8 h-8 flex-shrink-0 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg",disabled:m||!I.trim(),children:d.jsx($p,{className:"w-3 h-3"})})]})})]})})]}):null}function Zd(){const[t,e]=N.useState(!1);return d.jsxs(d.Fragment,{children:[d.jsx(q,{className:"fixed bottom-20 right-4 rounded-full w-12 h-12 shadow-lg bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-300 hover:scale-110",size:"icon",onClick:()=>e(!0),children:d.jsx(a4,{className:"h-6 w-6"})}),d.jsx($5,{isOpen:t,onClose:()=>e(!1)})]})}function H5(){const[t,e]=N.useState("All"),[n,r]=N.useState(""),[s,i]=N.useState(!1),[,o]=Nr();sC();const[a,c]=N.useState(!1),{data:u=[],isLoading:f}=$R({queryKey:t==="All"?["/api/products"]:[`/api/products?category=${t}`]}),p=u.filter(v=>v.name.toLowerCase().includes(n.toLowerCase())||v.description.toLowerCase().includes(n.toLowerCase())),m=()=>{i(!s),console.log("Voice search:",!s)};return f?d.jsx("div",{className:"w-full max-w-7xl mx-auto bg-background min-h-screen relative pb-20 px-4 sm:px-6 lg:px-8",children:d.jsx("div",{className:"flex items-center justify-center h-screen",children:d.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading products..."})})}):d.jsxs("div",{className:"w-full max-w-7xl mx-auto bg-background min-h-screen relative pb-20 px-4 sm:px-6 lg:px-8",children:[d.jsxs("header",{className:"flex items-center justify-between py-4 md:py-6 bg-background",children:[d.jsx("div",{className:"relative",children:d.jsx("img",{src:"https://imgs.search.brave.com/6sZRHCMMvfkvvYz9DA2pEU6KiPUo_ujBE-3bx41bjxo/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93MC5w/ZWFrcHguY29tL3dh/bGxwYXBlci8yMDAv/MTAxMC9IRC13YWxs/cGFwZXItc3VzaGFu/dC1pcy1sZWFuaW5n/LWJhY2stb24td2Fs/bC13ZWFyaW5nLWJs/YWNrLW92ZXJjb2F0/LXN1c2hhbnQtc2lu/Z2gtcmFqcHV0LXRo/dW1ibmFpbC5qcGc",alt:"User profile",className:"w-12 h-12 md:w-14 md:h-14 lg:w-16 lg:h-16 rounded-full object-cover ring-2 ring-accent cursor-pointer hover:ring-primary transition-colors","data-testid":"img-user-avatar",onClick:()=>o(a?"/user":"/login")})}),d.jsx("h1",{className:"hidden md:block text-xl lg:text-2xl font-bold text-foreground",children:"Artizone"}),d.jsxs(q,{variant:"outline",className:"flex items-center gap-2 px-3 md:px-4 py-2 border-2 border-accent hover:bg-accent/10 rounded-full md:rounded-lg","data-testid":"button-explore",onClick:()=>o("/explore"),children:[d.jsx(ZO,{className:"w-4 h-4 md:w-5 md:h-5 text-primary"}),d.jsx("span",{className:"hidden md:inline font-medium text-xs md:text-sm",children:"Explore"})]})]}),d.jsx("div",{className:"mb-6 md:mb-8",children:d.jsxs("div",{className:"flex gap-2 md:gap-3 max-w-2xl md:mx-auto",children:[d.jsxs("div",{className:"flex-1 relative",children:[d.jsx(CS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 md:w-5 md:h-5 text-muted-foreground"}),d.jsx(qe,{type:"text",placeholder:"Search products...",className:"pl-10 md:pl-12 pr-12 md:pr-14 py-3 md:py-4 bg-input border border-border rounded-lg md:rounded-xl text-sm md:text-base",value:n,onChange:v=>r(v.target.value),"data-testid":"input-search"}),d.jsx(q,{variant:"ghost",size:"icon",onClick:m,className:`absolute right-2 top-1/2 transform -translate-y-1/2 w-8 h-8 md:w-9 md:h-9 rounded-lg transition-colors ${s?"bg-destructive hover:bg-destructive/90 text-destructive-foreground":"hover:bg-accent hover:text-accent-foreground"}`,"data-testid":"button-mic",children:d.jsx(Gu,{className:`w-4 h-4 md:w-5 md:h-5 ${s?"animate-pulse":""}`})})]}),d.jsx(q,{className:"px-4 py-3 md:px-6 md:py-4 bg-primary text-primary-foreground rounded-lg md:rounded-xl hover:bg-primary/90","data-testid":"button-filter",children:d.jsx(g4,{className:"w-4 h-4 md:w-5 md:h-5"})})]})}),d.jsx(t5,{activeCategory:t,onCategoryChange:e}),d.jsx("div",{className:"mb-6",children:p.length===0&&!f?d.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No products found"}):d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 lg:gap-6","data-testid":"grid-products",children:p.map(v=>d.jsx(e5,{product:v},v.id))})}),d.jsx(Zo,{}),d.jsx(Zd,{})]})}class _t extends Error{constructor(e,n="unknown",r){super(e),this.code=n,this.originalError=r,this.name="AuthError"}}const Si=t=>{switch(t){case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/user-not-found":return"No account found with this email address.";case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/user-disabled":return"This account has been disabled.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";case"auth/network-request-failed":return"Network error. Please check your connection.";case"auth/popup-closed-by-user":return"Sign-in popup was closed. Please try again.";case"auth/popup-blocked":return"Sign-in popup was blocked. Please allow popups and try again.";case"auth/cancelled-popup-request":return"Only one popup request is allowed at a time.";default:return"An unexpected error occurred. Please try again."}},B5=async t=>{try{const{email:e,password:n,fullName:r}=t,i=(await nM(At,e,n)).user;return r&&await _b(i,{displayName:r}),await sM(i),i}catch(e){throw console.error("Sign up error:",e),new _t(Si(e.code),e.code,e)}},V5=async t=>{try{const{email:e,password:n}=t;return(await rM(At,e,n)).user}catch(e){throw console.error("Sign in error:",e),new _t(Si(e.code),e.code,e)}},SI=async()=>{try{return(await kM(At,La)).user}catch(t){throw console.error("Google sign in error:",t),t.code==="auth/popup-closed-by-user"||t.code==="auth/cancelled-popup-request"?new _t("Sign-in was cancelled.",t.code,t):new _t(Si(t.code),t.code,t)}},W5=async t=>{try{await tM(At,t)}catch(e){throw console.error("Password reset error:",e),new _t(Si(e.code),e.code,e)}},G5=async t=>{const e=At.currentUser;if(!e)throw new _t("No user is currently logged in");try{const n={};t.fullName&&(n.displayName=t.fullName),t.photoURL&&(n.photoURL=t.photoURL),Object.keys(n).length>0&&await _b(e,n),console.log("Profile updated successfully")}catch(n){throw console.error("Profile update error:",n),new _t(Si(n.code))}},q5=async()=>{const t=At.currentUser;if(!t)throw new _t("No user is currently logged in");try{return{uid:t.uid,email:t.email||"",fullName:t.displayName||"",photoURL:t.photoURL||"",phone:"",address:"",city:"",country:""}}catch(e){throw console.error("Get profile error:",e),new _t(Si(e.code))}},K5=async()=>{try{await At.signOut(),console.log("User signed out successfully")}catch(t){throw console.error("Sign out error:",t),new _t(Si(t.code))}};function Y5(){const[,t]=Nr(),{user:e}=Jd(),[n,r]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(null),[c,u]=N.useState({email:"",password:""});if(e)return t("/"),null;const f=async w=>{w.preventDefault(),i(!0),a(null);try{await V5(c),t("/")}catch(I){I instanceof _t?a(I.message):a("An unexpected error occurred. Please try again.")}finally{i(!1)}},p=w=>{u({...c,[w.target.name]:w.target.value}),o&&a(null)},m=async()=>{i(!0),a(null);try{await SI(),t("/")}catch(w){w instanceof _t?w.message.includes("cancelled")||a(w.message):a("Failed to sign in with Google. Please try again.")}finally{i(!1)}},v=w=>{w==="Google"?m():a(`${w} login is not yet implemented.`)},x=async()=>{if(!c.email){a("Please enter your email address first");return}i(!0),a(null);try{await W5(c.email),a(null);const w=document.createElement("div");w.style.cssText=`
        color: #16a34a;
        backgroundColor: #f0fdf4;
        border: 1px solid #bbf7d0;
        borderRadius: 6px;
        padding: 12px;
        marginBottom: 16px;
        fontSize: 14px;
      `,w.textContent="Password reset email sent! Please check your inbox.";const I=document.querySelector(".error-message");I!=null&&I.parentNode&&(I.parentNode.insertBefore(w,I),setTimeout(()=>w.remove(),5e3))}catch(w){w instanceof _t?a(w.message):a("Failed to send password reset email. Please try again.")}finally{i(!1)}};return d.jsxs("div",{className:"login-background",children:[d.jsxs("video",{className:"background-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:[d.jsx("source",{src:"https://videos.pexels.com/video-files/3571264/3571264-uhd_2560_1440_30fps.mp4",type:"video/mp4"}),d.jsx("source",{src:"https://videos.pexels.com/video-files/2795405/2795405-uhd_2560_1440_25fps.mp4",type:"video/mp4"})]}),d.jsxs("div",{className:"login-glass",children:[d.jsx("h2",{children:"Welcome back!"}),o&&d.jsx("div",{className:"error-message",style:{color:"#ef4444",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"14px"},children:o}),d.jsxs("form",{className:"login-form",onSubmit:f,children:[d.jsx(qe,{type:"email",name:"email",placeholder:"Email",className:"login-input",value:c.email,onChange:p,disabled:s,required:!0}),d.jsxs("div",{className:"password-row",children:[d.jsx(qe,{type:n?"text":"password",name:"password",placeholder:"Password",className:"login-input",value:c.password,onChange:p,disabled:s,required:!0}),d.jsx("span",{className:"eye-icon",onClick:()=>r(!n),children:n?d.jsx(Up,{size:18}):d.jsx(zp,{size:18})})]}),d.jsx("button",{type:"button",className:"forgot-link",onClick:x,disabled:s,children:"FORGOT PASSWORD?"}),d.jsx(q,{type:"submit",className:"login-button",disabled:s||!c.email||!c.password,children:s?d.jsxs(d.Fragment,{children:[d.jsx(xl,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing in..."]}):"LOG IN"})]}),d.jsx("div",{className:"divider",children:"or sign in with"}),d.jsxs("div",{className:"social-icons",children:[d.jsx("button",{type:"button",className:"social-icon google",title:"Google",onClick:()=>v("Google"),disabled:s}),d.jsx("button",{type:"button",className:"social-icon apple",title:"Apple",onClick:()=>v("Apple"),disabled:s}),d.jsx("button",{type:"button",className:"social-icon facebook",title:"Facebook",onClick:()=>v("Facebook"),disabled:s})]}),d.jsxs("div",{className:"signup-row",children:["Don't have an account?"," ",d.jsx("button",{type:"button",className:"signup-link",onClick:()=>t("/signup"),disabled:s,children:"SIGN UP"})]})]})]})}function Q5(){const[,t]=Nr(),{user:e}=Jd(),[n,r]=N.useState(!1),[s,i]=N.useState(!1),[o,a]=N.useState(!1),[c,u]=N.useState(null),[f,p]=N.useState(null),[m,v]=N.useState({fullName:"",phone:"",email:"",password:"",confirmPassword:""});if(e)return t("/"),null;const x=()=>m.fullName.trim()?m.email.trim()?m.password?m.password.length<6?"Password must be at least 6 characters long.":m.password!==m.confirmPassword?"Passwords don't match!":null:"Please enter a password.":"Please enter your email address.":"Please enter your full name.",w=async b=>{b.preventDefault();const P=x();if(P){u(P);return}a(!0),u(null),p(null);try{await B5({email:m.email,password:m.password,fullName:m.fullName,phone:m.phone}),p("Account created successfully! Please check your email to verify your account before signing in."),setTimeout(()=>{t("/login")},3e3)}catch(L){L instanceof _t?u(L.message):u("An unexpected error occurred. Please try again.")}finally{a(!1)}},I=b=>{v({...m,[b.target.name]:b.target.value}),c&&u(null),f&&p(null)},E=async()=>{a(!0),u(null),p(null);try{await SI(),t("/")}catch(b){b instanceof _t?b.message.includes("cancelled")||u(b.message):u("Failed to sign up with Google. Please try again.")}finally{a(!1)}},y=b=>{b==="Google"?E():u(`${b} signup is not yet implemented.`)};return d.jsxs("div",{className:"signup-background",children:[d.jsxs("video",{className:"background-video",autoPlay:!0,muted:!0,loop:!0,playsInline:!0,children:[d.jsx("source",{src:"https://cdn.pixabay.com/video/2023/11/19/189813-887078786_tiny.mp4",type:"video/mp4"}),d.jsx("source",{src:"https://videos.pexels.com/video-files/2795405/2795405-uhd_2560_1440_25fps.mp4",type:"video/mp4"})]}),d.jsxs("div",{className:"signup-glass",children:[d.jsx("h2",{children:"Create an account"}),c&&d.jsx("div",{className:"error-message",style:{color:"#ef4444",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"14px"},children:c}),f&&d.jsx("div",{className:"success-message",style:{color:"#16a34a",backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"6px",padding:"12px",marginBottom:"16px",fontSize:"14px"},children:f}),d.jsxs("form",{className:"signup-form",onSubmit:w,children:[d.jsx(qe,{type:"text",name:"fullName",placeholder:"Full Name",className:"signup-input",value:m.fullName,onChange:I,disabled:o,required:!0}),d.jsx(qe,{type:"tel",name:"phone",placeholder:"Phone number (optional)",className:"signup-input",value:m.phone,onChange:I,disabled:o}),d.jsx(qe,{type:"email",name:"email",placeholder:"Email",className:"signup-input",value:m.email,onChange:I,disabled:o,required:!0}),d.jsxs("div",{className:"password-row",children:[d.jsx(qe,{type:n?"text":"password",name:"password",placeholder:"Password (min. 6 characters)",className:"signup-input",value:m.password,onChange:I,disabled:o,required:!0}),d.jsx("span",{className:"eye-icon",onClick:()=>r(!n),children:n?d.jsx(Up,{size:18}):d.jsx(zp,{size:18})})]}),d.jsxs("div",{className:"password-row",children:[d.jsx(qe,{type:s?"text":"password",name:"confirmPassword",placeholder:"Confirm Password",className:"signup-input",value:m.confirmPassword,onChange:I,disabled:o,required:!0}),d.jsx("span",{className:"eye-icon",onClick:()=>i(!s),children:s?d.jsx(Up,{size:18}):d.jsx(zp,{size:18})})]}),d.jsx(q,{type:"submit",className:"signup-button",disabled:o||!m.fullName||!m.email||!m.password||!m.confirmPassword,children:o?d.jsxs(d.Fragment,{children:[d.jsx(xl,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating account..."]}):"SIGN UP"}),d.jsxs("div",{className:"social-icons",children:[d.jsx("button",{type:"button",className:"social-icon google",title:"Google",onClick:()=>y("Google"),disabled:o}),d.jsx("button",{type:"button",className:"social-icon apple",title:"Apple",onClick:()=>y("Apple"),disabled:o}),d.jsx("button",{type:"button",className:"social-icon facebook",title:"Facebook",onClick:()=>y("Facebook"),disabled:o})]}),d.jsxs("div",{className:"signup-row",children:["Already have an account?"," ",d.jsx("button",{type:"button",className:"switch-link",onClick:()=>t("/login"),disabled:o,children:"LOGIN"})]})]})]})]})}const bI=N.forwardRef(({className:t,...e},n)=>d.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));bI.displayName="Textarea";function X5(){const{theme:t,setTheme:e}=sC();return d.jsxs(q,{variant:"outline",size:"icon",onClick:()=>e(t==="dark"?"light":"dark"),children:[d.jsx(y4,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),d.jsx(c4,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),d.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}function J5(){const[,t]=Nr(),{user:e,logout:n}=Jd(),[r,s]=N.useState(!1),[i,o]=N.useState(!1),[a,c]=N.useState(null),[u,f]=N.useState({avatar:"https://imgs.search.brave.com/6sZRHCMMvfkvvYz9DA2pEU6KiPUo_ujBE-3bx41bjxo/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93MC5w/ZWFrcHguY29tL3dh/bGxwYXBlci8yMDAv/MTAxMC9IRC13YWxs/cGFwZXItc3VzaGFu/dC1pcy1sZWFuaW5n/LWJhY2stb24td2Fs/bC13ZWFyaW5nLWJs/YWNrLW92ZXJjb2F0/LXN1c2hhbnQtc2lu/Z2gtcmFqcHV0LXRo/dW1ibmFpbC5qcGc",banner:"https://images.unsplash.com/photo-1506905925346-21bda4d32df4?auto=format&fit=crop&w=1200&q=80",name:"",email:"",phone:"",address:"",city:"",country:""});N.useEffect(()=>{(async()=>{if(e){o(!0);try{const I=await q5();f({avatar:I.photoURL||u.avatar,banner:u.banner,name:I.fullName,email:I.email,phone:I.phone,address:I.address,city:I.city,country:I.country})}catch(I){console.error("Failed to load profile:",I),f(E=>({...E,name:e.displayName||"",email:e.email||"",avatar:e.photoURL||E.avatar}))}finally{o(!1)}}})()},[e]);const p=async()=>{if(e){o(!0),c(null);try{await G5({fullName:u.name,photoURL:u.avatar}),s(!1)}catch(w){c(w.message||"Failed to update profile")}finally{o(!1)}}},m=async()=>{try{await K5(),n(),t("/login")}catch{c("Failed to sign out")}};if(i&&!u.name)return d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(xl,{className:"w-8 h-8 animate-spin"})});const v=w=>{var E;const I=(E=w.target.files)==null?void 0:E[0];if(I){const y=URL.createObjectURL(I);f(b=>({...b,avatar:y}))}},x=w=>{var E;const I=(E=w.target.files)==null?void 0:E[0];if(I){const y=URL.createObjectURL(I);f(b=>({...b,banner:y}))}};return d.jsxs("div",{className:"min-h-screen pb-24",children:[d.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"py-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"User Profile"}),d.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[d.jsx(X5,{}),d.jsx(q,{variant:r?"default":"outline",onClick:()=>r?p():s(!0),className:"flex-1 sm:flex-none",disabled:i,children:i?d.jsxs(d.Fragment,{children:[d.jsx(xl,{className:"w-4 h-4 mr-2 animate-spin"}),r?"Saving...":"Loading..."]}):r?"Save Changes":"Edit Profile"}),d.jsxs(q,{variant:"destructive",onClick:m,disabled:i,className:"flex items-center gap-2",children:[d.jsx(i4,{className:"w-4 h-4"}),"Sign Out"]})]})]}),a&&d.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded mb-6",children:a}),d.jsxs("div",{className:"relative mb-6",children:[d.jsx("label",{htmlFor:"banner-upload",className:"cursor-pointer block",children:d.jsxs("div",{className:"relative w-full h-48 md:h-64 lg:h-72 rounded-xl overflow-hidden border-2 border-border hover:border-primary/40 transition-colors bg-gradient-to-r from-primary/10 to-primary/5",children:[d.jsx("img",{src:u.banner,alt:"Profile Banner",className:"w-full h-full object-cover"}),d.jsx("div",{className:"absolute inset-0 bg-black/20 hover:bg-black/30 transition-colors"}),d.jsx("div",{className:"absolute top-4 right-4 bg-primary text-primary-foreground rounded-full p-3 shadow-lg hover:bg-primary/90 transition-colors",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:d.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})}),d.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold",children:u.name}),d.jsx("p",{className:"text-sm md:text-base opacity-90",children:"Welcome to your profile"})]})]})}),d.jsx("input",{type:"file",id:"banner-upload",className:"hidden",accept:"image/*",onChange:x})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex justify-center -mt-14 mb-6",children:d.jsxs("div",{className:"relative",children:[d.jsxs("label",{htmlFor:"profile-upload",className:"cursor-pointer block",children:[d.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-background shadow-lg hover:shadow-xl transition-shadow bg-background",children:d.jsx("img",{src:u.avatar,alt:"Profile",className:"w-full h-full object-cover"})}),d.jsx("div",{className:"absolute bottom-0 right-0 bg-primary text-primary-foreground rounded-full p-2 shadow-lg",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-4 h-4",children:d.jsx("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"})})})]}),d.jsx("input",{type:"file",id:"profile-upload",className:"hidden",accept:"image/*",onChange:v})]})}),d.jsxs(on,{className:"p-4 md:p-6",children:[d.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4 md:mb-6",children:"Personal Information"}),d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm md:text-base font-medium",children:"Name"}),d.jsx(qe,{value:u.name,disabled:!r,onChange:w=>f({...u,name:w.target.value}),className:"mt-1 md:mt-2"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm md:text-base font-medium",children:"Email"}),d.jsx(qe,{type:"email",value:u.email,disabled:!r,onChange:w=>f({...u,email:w.target.value}),className:"mt-1 md:mt-2"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm md:text-base font-medium",children:"Phone Number"}),d.jsx(qe,{type:"tel",value:u.phone,disabled:!r,onChange:w=>f({...u,phone:w.target.value}),className:"mt-1 md:mt-2"})]})]})]}),d.jsxs(on,{className:"p-4 md:p-6",children:[d.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4 md:mb-6",children:"Address Information"}),d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm md:text-base font-medium",children:"Address"}),d.jsx(bI,{value:u.address,disabled:!r,onChange:w=>f({...u,address:w.target.value}),className:"mt-1 md:mt-2"})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 md:gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"text-sm md:text-base font-medium",children:"City"}),d.jsx(qe,{value:u.city,disabled:!r,onChange:w=>f({...u,city:w.target.value}),className:"mt-1 md:mt-2"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-sm md:text-base font-medium",children:"Country"}),d.jsx(qe,{value:u.country,disabled:!r,onChange:w=>f({...u,country:w.target.value}),className:"mt-1 md:mt-2"})]})]})]})]}),d.jsxs(on,{className:"p-4 md:p-6",children:[d.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4 md:mb-6",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-4",children:[d.jsxs(q,{variant:"outline",className:"flex items-center justify-center gap-2 h-12 md:h-14",onClick:()=>t("/order/25436"),children:[d.jsx(u4,{className:"w-4 h-4 md:w-5 md:h-5"}),d.jsx("span",{className:"text-sm md:text-base",children:"Your Orders"})]}),d.jsxs(q,{variant:"outline",className:"flex items-center justify-center gap-2 h-12 md:h-14",onClick:()=>t("/"),children:[d.jsx(m4,{className:"w-4 h-4 md:w-5 md:h-5"}),d.jsx("span",{className:"text-sm md:text-base",children:"Keep Shopping"})]}),d.jsx(q,{variant:"outline",className:"flex items-center justify-center gap-2 h-12 md:h-14 sm:col-span-2 lg:col-span-1",asChild:!0,children:d.jsxs("a",{href:"https://www.google.com/maps",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2",children:[d.jsx(_S,{className:"w-4 h-4 md:w-5 md:h-5"}),d.jsx("span",{className:"text-sm md:text-base",children:"View on Map"})]})})]})]})]})]})}),d.jsx(Zo,{})]})}const Z5=Ig("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Rl({className:t,variant:e,...n}){return d.jsx("div",{className:He(Z5({variant:e}),t),...n})}const eU=[{id:1,name:"Luxury Paris Tour",location:"Paris, France",price:1299,originalPrice:1599,rating:4.8,reviews:234,image:"https://images.unsplash.com/photo-1511739001486-6bfe10ce785f?auto=format&fit=crop&w=400&q=80",category:"Tours",duration:"5 Days",groupSize:"12 People",discount:19,isOnSale:!0,description:"Experience the romance of Paris with guided tours of iconic landmarks"},{id:2,name:"Mountain Adventure Backpack",location:"Outdoor Gear",price:149,originalPrice:199,rating:4.6,reviews:89,image:"https://images.unsplash.com/photo-1553062407-98eeb64c6a62?auto=format&fit=crop&w=400&q=80",category:"Gear",duration:"Premium Quality",groupSize:"Solo Travel",discount:25,isOnSale:!0,description:"Professional hiking backpack with weather-resistant materials"},{id:3,name:"Tropical Beach Resort",location:"Bali, Indonesia",price:89,originalPrice:129,rating:4.9,reviews:456,image:"https://images.unsplash.com/photo-1559827260-dc66d52bef19?auto=format&fit=crop&w=400&q=80",category:"Hotels",duration:"Per Night",groupSize:"2 Guests",discount:31,isOnSale:!0,description:"Luxury beachfront resort with stunning ocean views and spa"},{id:4,name:"Northern Lights Expedition",location:"Iceland",price:899,originalPrice:999,rating:4.7,reviews:167,image:"https://images.unsplash.com/photo-1531366936337-7c912a4589a7?auto=format&fit=crop&w=400&q=80",category:"Tours",duration:"3 Days",groupSize:"8 People",discount:10,isOnSale:!1,description:"Chase the magical Northern Lights in Iceland's pristine wilderness"},{id:5,name:"Professional Camera Kit",location:"Photography",price:549,originalPrice:699,rating:4.5,reviews:92,image:"https://images.unsplash.com/photo-1502920917128-1aa500764cbd?auto=format&fit=crop&w=400&q=80",category:"Gear",duration:"Complete Set",groupSize:"Travel Ready",discount:21,isOnSale:!0,description:"Complete travel photography kit with camera, lenses, and accessories"},{id:6,name:"Safari Adventure Kenya",location:"Nairobi, Kenya",price:1799,originalPrice:2199,rating:4.9,reviews:312,image:"https://images.unsplash.com/photo-1547036967-23d11aacaee0?auto=format&fit=crop&w=400&q=80",category:"Tours",duration:"7 Days",groupSize:"6 People",discount:18,isOnSale:!0,description:"Ultimate African safari experience with luxury accommodations"}],tU=["All","Tours","Hotels","Gear","Flights"];function nU(){const[t,e]=N.useState(eU),[n,r]=N.useState(""),[s,i]=N.useState("All"),[o,a]=N.useState("grid"),[c,u]=N.useState("name"),f=m=>{e(t.filter(v=>v.id!==m))},p=t.filter(m=>(s==="All"||m.category===s)&&m.name.toLowerCase().includes(n.toLowerCase())).sort((m,v)=>{switch(c){case"price":return m.price-v.price;case"rating":return v.rating-m.rating;case"name":return m.name.localeCompare(v.name);default:return 0}});return d.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[d.jsx("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"py-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"My Favorites"}),d.jsxs("p",{className:"text-muted-foreground mt-1",children:[t.length," items saved"]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(q,{variant:o==="grid"?"default":"outline",size:"icon",onClick:()=>a("grid"),children:d.jsx(wS,{className:"w-4 h-4"})}),d.jsx(q,{variant:o==="list"?"default":"outline",size:"icon",onClick:()=>a("list"),children:d.jsx(s4,{className:"w-4 h-4"})})]})]}),d.jsxs("div",{className:"mb-6 space-y-4",children:[d.jsxs("div",{className:"relative max-w-md",children:[d.jsx(CS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),d.jsx(qe,{type:"text",placeholder:"Search favorites...",className:"pl-10",value:n,onChange:m=>r(m.target.value)})]}),d.jsx("div",{className:"flex flex-wrap gap-2",children:tU.map(m=>d.jsx(q,{variant:s===m?"default":"outline",size:"sm",onClick:()=>i(m),className:"rounded-full",children:m},m))}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(e4,{className:"w-4 h-4 text-muted-foreground"}),d.jsxs("select",{value:c,onChange:m=>u(m.target.value),className:"px-3 py-1 border rounded-md bg-background text-foreground",children:[d.jsx("option",{value:"name",children:"Sort by Name"}),d.jsx("option",{value:"price",children:"Sort by Price"}),d.jsx("option",{value:"rating",children:"Sort by Rating"})]})]})]}),p.length===0?d.jsxs("div",{className:"text-center py-16",children:[d.jsx(Vl,{className:"w-16 h-16 mx-auto text-muted-foreground mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No favorites found"}),d.jsx("p",{className:"text-muted-foreground",children:n||s!=="All"?"Try adjusting your search or filters":"Start adding items to your favorites"})]}):d.jsx("div",{className:o==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:p.map(m=>d.jsxs(on,{className:`overflow-hidden hover:shadow-lg transition-shadow group ${o==="list"?"flex flex-col sm:flex-row":""}`,children:[d.jsxs("div",{className:`relative ${o==="list"?"w-full sm:w-48 flex-shrink-0 h-40 sm:h-auto":"h-48"}`,children:[d.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),m.isOnSale&&d.jsxs(Rl,{className:"absolute top-2 left-2 bg-destructive text-destructive-foreground",children:["-",m.discount,"% OFF"]}),d.jsx(Rl,{className:"absolute top-2 right-2 bg-primary/20 text-primary",children:m.category}),d.jsx(q,{variant:"ghost",size:"icon",className:"absolute bottom-2 right-2 bg-background/80 hover:bg-background text-destructive hover:text-destructive",onClick:()=>f(m.id),children:d.jsx(v4,{className:"w-4 h-4"})})]}),d.jsxs(bs,{className:"p-4 flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("h3",{className:"font-semibold text-foreground line-clamp-1 flex-1 min-w-0",children:m.name}),d.jsx(q,{variant:"ghost",size:"icon",className:"text-muted-foreground flex-shrink-0 ml-2",children:d.jsx(SS,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground text-sm mb-2",children:[d.jsx(_S,{className:"w-3 h-3 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:m.location})]}),d.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:m.description}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground mb-3",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(YO,{className:"w-3 h-3 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:m.duration})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(_4,{className:"w-3 h-3 flex-shrink-0"}),d.jsx("span",{className:"truncate",children:m.groupSize})]})]}),d.jsx("div",{className:"flex items-center gap-2 mb-3",children:d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ir,{className:"w-4 h-4 fill-yellow-400 text-yellow-400 flex-shrink-0"}),d.jsx("span",{className:"font-medium",children:m.rating}),d.jsxs("span",{className:"text-muted-foreground",children:["(",m.reviews,")"]})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",m.price]}),m.originalPrice>m.price&&d.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["$",m.originalPrice]})]}),d.jsxs(q,{className:"bg-primary hover:bg-primary/90 flex-shrink-0 w-full sm:w-auto",children:[d.jsx(Ng,{className:"w-4 h-4 mr-2"}),d.jsx("span",{className:"hidden sm:inline",children:"Add to Cart"}),d.jsx("span",{className:"sm:hidden",children:"Cart"})]})]})]})]},m.id))})]})}),d.jsx(Zo,{}),d.jsx(Zd,{})]})}const rU=[{title:"Featured Products",subtitle:"Best selling items across all categories",products:[{id:1,name:"Executive Office Chair",price:15999,originalPrice:19999,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?auto=format&fit=crop&w=400&q=80",rating:4.8,discount:"20% OFF",featured:!0},{id:2,name:"Dining Table Set",price:24999,originalPrice:32999,image:"https://mywakeup.in/cdn/shop/files/set_main_website_1680_x_1680_cd1d4cf3-96ec-44cd-a0d9-97d998eac976.png?v=1748580984&width=1214",rating:4.6,discount:"25% OFF"},{id:3,name:"Cement Bags (50kg)",price:399,originalPrice:450,image:"https://firsthammer.co.in/wp-content/uploads/2023/09/ultratech-super-cement-1000x1000-2.webp",rating:4.5,discount:"11% OFF"},{id:4,name:"Modern Sofa Set",price:45999,originalPrice:55999,image:"https://images.unsplash.com/photo-1567538096630-e0c55bd6374c?auto=format&fit=crop&w=400&q=80",rating:4.9,discount:"18% OFF"},{id:5,name:"Steel Rods (12mm)",price:4599,originalPrice:4999,image:"https://images.unsplash.com/photo-1504307651254-35680f356dfd?auto=format&fit=crop&w=400&q=80",rating:4.4,discount:"8% OFF"}]},{title:"Office Furniture",subtitle:"Professional furniture for modern workspaces",products:[{id:6,name:"Ergonomic Office Chair",price:12999,originalPrice:15999,image:"https://images.unsplash.com/photo-1541558869434-2840d308329a?auto=format&fit=crop&w=400&q=80",rating:4.7},{id:7,name:"Executive Desk",price:18999,originalPrice:22999,image:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&w=400&q=80",rating:4.5},{id:8,name:"Filing Cabinet",price:7999,originalPrice:9999,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?auto=format&fit=crop&w=400&q=80",rating:4.3},{id:9,name:"Conference Table",price:35999,originalPrice:42999,image:"https://www.northern-interiors.ca/cdn/shop/files/Conference_table-transformed.jpg?v=1706243841",rating:4.8},{id:10,name:"Office Bookshelf",price:9999,originalPrice:12999,image:"https://images.unsplash.com/photo-1594620302200-9a762244a156?auto=format&fit=crop&w=400&q=80",rating:4.4}]},{title:"Home Furniture",subtitle:"Comfortable and stylish furniture for your home",products:[{id:11,name:"King Size Bed",price:29999,originalPrice:39999,image:"https://images.unsplash.com/photo-1505693314120-0d443867891c?auto=format&fit=crop&w=400&q=80",rating:4.9},{id:12,name:"Dining Table (6 Seater)",price:22999,originalPrice:28999,image:"https://media-uk.landmarkshops.in/cdn-cgi/image/h=750,w=750,q=85,fit=cover/homecentre/1000012978245-1000012978245-0719_01-2100.jpg",rating:4.6},{id:13,name:"L-Shape Sofa",price:42999,originalPrice:52999,image:"https://images.unsplash.com/photo-1567538096630-e0c55bd6374c?auto=format&fit=crop&w=400&q=80",rating:4.8},{id:14,name:"Wardrobe (3 Door)",price:19999,originalPrice:24999,image:"https://www.nilkamalfurniture.com/cdn/shop/files/MWILLY3DWBWOMNWG_06.webp?v=1753176572",rating:4.5},{id:15,name:"Coffee Table",price:8999,originalPrice:11999,image:"https://ik.imagekit.io/2xkwa8s1i/img/coffee-tables/java-coffee-table/1.jpg?tr=w-3840",rating:4.7}]},{title:"Construction Materials",subtitle:"High-quality materials for construction projects",products:[{id:16,name:"Red Bricks (1000 pcs)",price:4999,originalPrice:5499,image:"https://t3.ftcdn.net/jpg/05/61/69/58/360_F_561695885_nsjqnCQs0O9vkg78kPY0Pj2r3j5tBwXa.jpg",rating:4.3},{id:17,name:"Portland Cement (50kg)",price:389,originalPrice:420,image:"https://youmats-media.s3.me-central-1.amazonaws.com/Y4EF02ILZ/conversions/saudicement1-cropper.webp",rating:4.6},{id:18,name:"Steel TMT Bars (12mm)",price:4599,originalPrice:4999,image:"https://images.jdmagicbox.com/quickquotes/images_main/ars-steel-tmt-bar-12-mm-grade-fe-550-d-2220066938-drsgzvcs.jpg",rating:4.7},{id:19,name:"River Sand (1 Ton)",price:1299,originalPrice:1499,image:"https://images.jdmagicbox.com/quickquotes/images_main/construction-river-sand-1-ton-2217481392-7f53a3e0.jpg",rating:4.2},{id:20,name:"Concrete Blocks",price:35,originalPrice:40,image:"https://www.jkcement.com/wp-content/uploads/2023/08/production-building-blocks-composition-foam-blocks-blocks-construction-isolate-1024x683.webp",rating:4.4}]},{title:"Hardware & Tools",subtitle:"Essential tools and hardware for construction",products:[{id:21,name:"Power Drill Set",price:3999,originalPrice:4999,image:"https://m.media-amazon.com/images/I/71k2eqGU-RL.jpg",rating:4.5},{id:22,name:"Hammer Set (3 pcs)",price:899,originalPrice:1199,image:"https://m.media-amazon.com/images/I/61Tvik9--uL._UF1000,1000_QL80_.jpg",rating:4.3},{id:23,name:"Measuring Tape (50m)",price:599,originalPrice:799,image:"https://microless.com/cdn/products/afc8b0e94bb03e3fdd03fcc13381ba0c-md.jpg",rating:4.6},{id:24,name:"Spirit Level",price:799,originalPrice:999,image:"https://shop.hpalloy.in/wp-content/uploads/2024/05/piritlevel_0.5mm_withoutmagnet_big.jpg",rating:4.4},{id:25,name:"Tool Box (Metal)",price:1999,originalPrice:2499,image:"https://m.media-amazon.com/images/I/716cj+SCoVL.jpg",rating:4.7}]}];function sU(){const[,t]=Nr(),[e,n]=N.useState([]);N.useState({});const r=a=>{n(c=>c.includes(a)?c.filter(u=>u!==a):[...c,a])},s=(a,c)=>{const u=document.getElementById(`category-${a.replace(/\s+/g,"-").toLowerCase()}`);if(!u)return;const f=288,p=c==="left"?-f*2:f*2;u.scrollBy({left:p,behavior:"smooth"})},i=({product:a,isFeatured:c=!1})=>d.jsxs(on,{className:`group cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg ${c?"w-80 md:w-96":"w-64 md:w-72"} flex-shrink-0`,children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:a.image,alt:a.name,className:`w-full ${c?"h-48 md:h-56":"h-40 md:h-48"} object-cover rounded-t-lg`}),d.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300 rounded-t-lg"}),a.discount&&d.jsx(Rl,{className:"absolute top-2 left-2 bg-red-500 hover:bg-red-500 text-white",children:a.discount}),a.featured&&d.jsx(Rl,{className:"absolute top-2 right-2 bg-amber-500 hover:bg-amber-500 text-white",children:"Featured"}),d.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[d.jsx(q,{variant:"secondary",size:"icon",className:"w-8 h-8 rounded-full bg-white/90 hover:bg-white",onClick:u=>{u.stopPropagation(),r(a.id)},children:d.jsx(Vl,{className:`w-4 h-4 ${e.includes(a.id)?"fill-red-500 text-red-500":""}`})}),d.jsx(q,{variant:"secondary",size:"icon",className:"w-8 h-8 rounded-full bg-white/90 hover:bg-white",onClick:u=>{u.stopPropagation(),t("/cart")},children:d.jsx(Ng,{className:"w-4 h-4"})})]})]}),d.jsxs(bs,{className:"p-3 md:p-4",children:[d.jsx("h3",{className:"font-semibold text-sm md:text-base text-foreground line-clamp-2 mb-2",children:a.name}),d.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[d.jsx(ir,{className:"w-3 h-3 md:w-4 md:h-4 fill-yellow-400 text-yellow-400"}),d.jsx("span",{className:"text-xs md:text-sm font-medium",children:a.rating})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-lg md:text-xl font-bold text-primary",children:["",a.price]}),a.originalPrice&&d.jsxs("span",{className:"text-xs md:text-sm text-muted-foreground line-through",children:["",a.originalPrice]})]})]})]}),o=({category:a,index:c})=>{const u=`category-${a.title.replace(/\s+/g,"-").toLowerCase()}`;return d.jsxs("section",{className:"mb-8 md:mb-12",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground",children:a.title}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:a.subtitle})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx(q,{variant:"outline",size:"icon",className:"w-8 h-8 md:w-10 md:h-10",onClick:()=>s(a.title,"left"),children:d.jsx(QO,{className:"w-4 h-4"})}),d.jsx(q,{variant:"outline",size:"icon",className:"w-8 h-8 md:w-10 md:h-10",onClick:()=>s(a.title,"right"),children:d.jsx(XO,{className:"w-4 h-4"})})]})]}),d.jsx("div",{id:u,className:"flex gap-4 md:gap-6 overflow-x-auto overflow-y-hidden pb-4 [&::-webkit-scrollbar]:hidden [-ms-overflow-style:none] [scrollbar-width:none]",children:a.products.map(f=>d.jsx(i,{product:f,isFeatured:c===0},f.id))})]})};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-background/50 pb-24",children:[d.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsx("header",{className:"py-4 md:py-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-foreground",children:"Categories"}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Discover furniture and construction materials"})]}),d.jsx(q,{variant:"outline",className:"text-xs md:text-sm",onClick:()=>t("/favorites"),children:"View Favorites"})]})}),d.jsx("div",{className:"space-y-8 md:space-y-12",children:rU.map((a,c)=>d.jsx(o,{category:a,index:c},a.title))}),d.jsxs("section",{className:"mt-12 md:mt-16",children:[d.jsx("h2",{className:"text-xl md:text-2xl font-bold text-foreground mb-6",children:"Quick Access"}),d.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{name:"Office Furniture",icon:"",count:"50+ items"},{name:"Home Furniture",icon:"",count:"80+ items"},{name:"Construction",icon:"",count:"120+ items"},{name:"Tools & Hardware",icon:"",count:"200+ items"}].map(a=>d.jsxs(on,{className:"p-4 text-center hover:shadow-md transition-shadow cursor-pointer",children:[d.jsx("div",{className:"text-2xl md:text-3xl mb-2",children:a.icon}),d.jsx("h3",{className:"font-semibold text-sm md:text-base",children:a.name}),d.jsx("p",{className:"text-xs md:text-sm text-muted-foreground",children:a.count})]},a.name))})]})]}),d.jsx(Zo,{}),d.jsx(Zd,{})]})}function iU(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var xy="Checkbox",[oU,SU]=Hl(xy),[aU,lU]=oU(xy),TI=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:c="on",onCheckedChange:u,form:f,...p}=t,[m,v]=N.useState(null),x=cn(e,P=>v(P)),w=N.useRef(!1),I=m?f||!!m.closest("form"):!0,[E=!1,y]=jC({prop:s,defaultProp:i,onChange:u}),b=N.useRef(E);return N.useEffect(()=>{const P=m==null?void 0:m.form;if(P){const L=()=>y(b.current);return P.addEventListener("reset",L),()=>P.removeEventListener("reset",L)}},[m,y]),d.jsxs(aU,{scope:n,state:E,disabled:a,children:[d.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":vs(E)?"mixed":E,"aria-required":o,"data-state":kI(E),"data-disabled":a?"":void 0,disabled:a,value:c,...p,ref:x,onKeyDown:De(t.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:De(t.onClick,P=>{y(L=>vs(L)?!0:!L),I&&(w.current=P.isPropagationStopped(),w.current||P.stopPropagation())})}),I&&d.jsx(cU,{control:m,bubbles:!w.current,name:r,value:c,checked:E,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:vs(i)?!1:i})]})});TI.displayName=xy;var II="CheckboxIndicator",NI=N.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=lU(II,n);return d.jsx(jd,{present:r||vs(i.state)||i.state===!0,children:d.jsx(ht.span,{"data-state":kI(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});NI.displayName=II;var cU=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:s,...i}=t,o=N.useRef(null),a=iU(n),c=EC(e);N.useEffect(()=>{const f=o.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&v){const x=new Event("click",{bubbles:r});f.indeterminate=vs(n),v.call(f,vs(n)?!1:n),f.dispatchEvent(x)}},[a,n,r]);const u=N.useRef(vs(n)?!1:n);return d.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vs(t){return t==="indeterminate"}function kI(t){return vs(t)?"indeterminate":t?"checked":"unchecked"}var RI=TI,uU=NI;const dm=N.forwardRef(({className:t,...e},n)=>d.jsx(RI,{ref:n,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:d.jsx(uU,{className:He("flex items-center justify-center text-current"),children:d.jsx(vS,{className:"h-4 w-4"})})}));dm.displayName=RI.displayName;const dU=[{id:1,name:"Porem ipsum",price:1200,quantity:1,image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",selected:!0},{id:2,name:"Dorem ipsum",price:1450,quantity:1,image:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",selected:!0},{id:3,name:"Horem ipsum",price:980,quantity:1,image:"https://images.unsplash.com/photo-1565193566173-7a0ee3dbe261?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",selected:!0},{id:4,name:"Forem ipsum",price:2999,quantity:1,image:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300",selected:!0}];function hU(){const[,t]=Nr(),[e,n]=N.useState(dU),[r,s]=N.useState(""),[i,o]=N.useState(!1),a=y=>{n(b=>b.map(P=>({...P,selected:y})))},c=(y,b)=>{n(P=>P.map(L=>L.id===y?{...L,selected:b}:L))},u=(y,b)=>{n(P=>P.map(L=>{if(L.id===y){const D=b?L.quantity+1:Math.max(1,L.quantity-1);return{...L,quantity:D}}return L}))},f=()=>{r.trim()&&o(!0)},p=e.filter(y=>y.selected),m=e.length>0&&p.length===e.length,v=p.reduce((y,b)=>y+b.price*b.quantity,0),x=490,w=i?20:0,I=v*w/100,E=v+x-I;return d.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[d.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("header",{className:"flex items-center justify-between py-4 md:py-6",children:[d.jsxs(q,{variant:"ghost",size:"icon",className:"flex items-center gap-2 p-2 md:p-3",onClick:()=>t("/"),children:[d.jsx(yS,{className:"w-5 h-5 md:w-6 md:h-6"}),d.jsx("span",{className:"hidden sm:inline text-sm md:text-base font-medium",children:"Back"})]}),d.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-bold text-foreground",children:"Cart"}),d.jsx("img",{src:"https://imgs.search.brave.com/6sZRHCMMvfkvvYz9DA2pEU6KiPUo_ujBE-3bx41bjxo/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93MC5w/ZWFrcHguY29tL3dh/bGxwYXBlci8yMDAv/MTAxMC9IRC13YWxs/cGFwZXItc3VzaGFu/dC1pcy1sZWFuaW5n/LWJhY2stb24td2Fs/bC13ZWFyaW5nLWJs/YWNrLW92ZXJjb2F0/LXN1c2hhbnQtc2lu/Z2gtcmFqcHV0LXRo/dW1ibmFpbC5qcGc",alt:"User profile",className:"w-10 h-10 md:w-12 md:h-12 lg:w-14 lg:h-14 rounded-full object-cover ring-2 ring-accent"})]}),d.jsx(on,{className:"mb-6 bg-gradient-to-br from-amber-100 to-orange-200 dark:from-amber-900/20 dark:to-orange-900/20 border-0 shadow-lg",children:d.jsxs(bs,{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4 md:mb-6",children:[d.jsx(dm,{checked:m,onCheckedChange:a,className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),d.jsx("span",{className:"text-sm md:text-base font-medium text-foreground",children:"Select all"})]}),d.jsx("div",{className:"space-y-4 md:space-y-6",children:e.map(y=>d.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[d.jsx(dm,{checked:y.selected,onCheckedChange:b=>c(y.id,!!b),className:"data-[state=checked]:bg-amber-600 data-[state=checked]:border-amber-600"}),d.jsx("img",{src:y.image,alt:y.name,className:"w-16 h-16 md:w-20 md:h-20 rounded-lg object-cover"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-medium text-sm md:text-base text-foreground truncate",children:y.name}),d.jsxs("p",{className:"text-sm md:text-base font-semibold text-foreground mt-1",children:["",y.price]})]}),d.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[d.jsx(q,{variant:"outline",size:"icon",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2",onClick:()=>u(y.id,!1),disabled:y.quantity<=1,children:d.jsx(xS,{className:"w-3 h-3 md:w-4 md:h-4"})}),d.jsx("span",{className:"w-8 md:w-10 text-center text-sm md:text-base font-medium",children:y.quantity}),d.jsx(q,{variant:"outline",size:"icon",className:"w-8 h-8 md:w-10 md:h-10 rounded-full border-2",onClick:()=>u(y.id,!0),children:d.jsx(ES,{className:"w-3 h-3 md:w-4 md:h-4"})})]})]},y.id))})]})}),d.jsx(on,{className:"mb-6 bg-gradient-to-br from-amber-100 to-orange-200 dark:from-amber-900/20 dark:to-orange-900/20 border-0 shadow-lg",children:d.jsxs(bs,{className:"p-4 md:p-6",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("div",{className:"flex-1",children:d.jsx(qe,{placeholder:"coupon code",value:r,onChange:y=>s(y.target.value),className:"bg-background/50 border-0 text-sm md:text-base",disabled:i})}),d.jsx("div",{className:"flex items-center gap-2",children:i?d.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium text-sm md:text-base",children:[d.jsx(vS,{className:"w-4 h-4"}),d.jsx("span",{children:"Promo code applied"})]}):d.jsx(q,{onClick:f,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 md:px-6 text-sm md:text-base",disabled:!r.trim(),children:"Apply"})})]}),d.jsxs("div",{className:"mt-4 md:mt-6 space-y-2 md:space-y-3",children:[d.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[d.jsx("span",{children:"Subtotal:"}),d.jsxs("span",{children:["",v.toFixed(0)]})]}),d.jsxs("div",{className:"flex justify-between text-sm md:text-base",children:[d.jsx("span",{children:"Delivery Fee:"}),d.jsxs("span",{children:["",x]})]}),i&&d.jsxs("div",{className:"flex justify-between text-sm md:text-base text-green-600",children:[d.jsx("span",{children:"Discount:"}),d.jsxs("span",{children:[w,"%"]})]})]})]})}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-4",children:[d.jsxs("div",{className:"text-center sm:text-left",children:[d.jsx("p",{className:"text-sm text-muted-foreground",children:"Total"}),d.jsxs("p",{className:"text-2xl md:text-3xl font-bold text-foreground",children:["",E.toFixed(0)]})]}),d.jsx(q,{className:"bg-amber-900 hover:bg-amber-800 text-white px-8 md:px-12 py-3 md:py-4 text-base md:text-lg font-semibold rounded-xl w-full sm:w-auto",disabled:p.length===0,children:"Checkout"})]})]}),d.jsx(Zo,{})]})}function fU(){const[,t]=Nr(),[e,n]=N.useState(0),[r,s]=N.useState(1),[i,o]=N.useState(!1),a={id:1,name:"Furniliving Modern Accent Chair, Sherpa Upholstered Living Room Chair Arm Chairs with Solid Metal Legs, Tufted-Button Design Reading Chair, Sofa Chair for Bedroom, Living Room, Office, IvoryWhite",brand:"Furniliving",price:11499,originalPrice:24999,discount:54,rating:5,reviewCount:4,inStock:2,deliveryDate:"Friday, 26 September",images:["https://m.media-amazon.com/images/I/717l3p4P4DL._SX679_.jpg","https://www.shutterstock.com/shutterstock/videos/3748091039/preview/stock-footage-minimalist-office-lounge-with-warm-tones-and-modern-decor-elegant-business-lounge-with-designer.webm","https://m.media-amazon.com/images/I/71wwSSJ1G3L._SX679_.jpg","https://m.media-amazon.com/images/I/71ZF5k90fcL._SX679_.jpg"],features:["Brand	Furniliving","Colour	Ivorywhite-sherpa","Material	sherpa","Product Dimensions	48.3D x 62W x 97.8H Centimeters","Size	Large","Back Style	Tufted Back"],offers:[{type:"Cashback",description:"Upto 27.00 cashback as Amazon Pay Balance"},{type:"Partner Offers",description:"Buy 2 or more and get 10% off on Qualifying Items"}]},c=a.images.slice(0,4);return d.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[d.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("header",{className:"flex items-center gap-4 py-4 md:py-6",children:[d.jsx(q,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"lg:hidden",children:d.jsx(yS,{className:"w-5 h-5"})}),d.jsxs("nav",{className:"hidden lg:flex items-center gap-2 text-sm text-muted-foreground",children:[d.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>t("/"),children:"Home"}),d.jsx("span",{children:"/"}),d.jsx("span",{className:"cursor-pointer hover:text-primary",onClick:()=>t("/categories"),children:"Categories"}),d.jsx("span",{children:"/"}),d.jsx("span",{className:"text-foreground",children:"Product"})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8",children:[d.jsx("div",{className:"lg:col-span-5",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"relative",children:[a.images[e].endsWith(".webm")||a.images[e].endsWith(".mp4")?d.jsx("video",{src:a.images[e],className:"w-full h-80 md:h-96 lg:h-[500px] object-contain bg-gray-50 rounded-lg border",controls:!0,autoPlay:!0,muted:!0,loop:!0}):d.jsx("img",{src:a.images[e],alt:a.name,className:"w-full h-80 md:h-96 lg:h-[500px] object-contain bg-gray-50 rounded-lg border"}),d.jsx(q,{variant:"outline",size:"icon",className:"absolute top-4 right-4 bg-white/90 hover:bg-white",onClick:()=>o(!i),children:d.jsx(Vl,{className:`w-5 h-5 ${i?"fill-red-500 text-red-500":""}`})}),d.jsx(q,{variant:"outline",size:"icon",className:"absolute top-4 left-4 bg-white/90 hover:bg-white",children:d.jsx(SS,{className:"w-5 h-5"})})]}),d.jsx("div",{className:"flex gap-2 overflow-x-auto",children:c.map((u,f)=>d.jsx("div",{className:`relative w-16 h-16 md:w-20 md:h-20 cursor-pointer flex-shrink-0 ${e===f?"ring-2 ring-primary":""} rounded`,onClick:()=>n(f),children:f===1||u.endsWith(".webm")||u.endsWith(".mp4")?d.jsxs(d.Fragment,{children:[d.jsx("video",{src:u,className:"w-full h-full object-contain bg-gray-50 rounded border",muted:!0}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 rounded",children:d.jsx(d4,{className:"w-4 h-4 md:w-6 md:h-6 text-white fill-white"})})]}):d.jsx("img",{src:u,alt:`Product ${f+1}`,className:"w-full h-full object-contain bg-gray-50 rounded border"})},f))})]})}),d.jsx("div",{className:"lg:col-span-7",children:d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:["Brand: ",d.jsx("span",{className:"text-primary",children:a.brand})]}),d.jsx("h1",{className:"text-xl md:text-2xl lg:text-3xl font-semibold text-foreground leading-tight",children:a.name})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("span",{className:"text-lg font-semibold",children:a.rating}),d.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,f)=>d.jsx(ir,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},f))})]}),d.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.reviewCount," ratings"]})]}),d.jsx("div",{className:"flex items-center gap-2",children:d.jsx(Rl,{className:"bg-red-500 hover:bg-red-500 text-white px-2 py-1",children:"Limited time deal"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("span",{className:"text-sm text-red-600 font-medium",children:["-",a.discount,"%"]}),d.jsxs("span",{className:"text-3xl md:text-4xl font-bold text-foreground",children:["",a.price]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-sm text-muted-foreground",children:"M.R.P.:"}),d.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:["",a.originalPrice]})]}),d.jsx("p",{className:"text-sm text-muted-foreground",children:"Inclusive of all taxes"})]}),d.jsx(on,{children:d.jsxs(bs,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx("div",{className:"w-6 h-6 rounded-full bg-orange-100 flex items-center justify-center",children:d.jsx("span",{className:"text-orange-600 text-xs",children:"%"})}),d.jsx("span",{className:"font-medium",children:"Offers"})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.offers.map((u,f)=>d.jsxs("div",{className:"p-3 border rounded-lg",children:[d.jsx("h4",{className:"font-medium text-sm",children:u.type}),d.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:u.description})]},f))})]})}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 py-4 border-t border-b",children:[d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx(lw,{className:"w-6 h-6 text-blue-600 mb-2"}),d.jsx("span",{className:"text-xs font-medium",children:"Free Delivery"})]}),d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx(h4,{className:"w-6 h-6 text-green-600 mb-2"}),d.jsx("span",{className:"text-xs font-medium",children:"10 days Replacement"})]}),d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx(lw,{className:"w-6 h-6 text-purple-600 mb-2"}),d.jsx("span",{className:"text-xs font-medium",children:"Amazon Delivered"})]}),d.jsxs("div",{className:"flex flex-col items-center text-center",children:[d.jsx(p4,{className:"w-6 h-6 text-gray-600 mb-2"}),d.jsx("span",{className:"text-xs font-medium",children:"Secure transaction"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"bg-green-50 text-green-800 text-sm p-3 rounded-lg",children:d.jsxs("span",{className:"font-medium",children:["Only ",a.inStock," left in stock."]})}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("span",{className:"text-sm font-medium",children:"Quantity:"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(q,{variant:"outline",size:"sm",onClick:()=>s(Math.max(1,r-1)),disabled:r<=1,children:d.jsx(xS,{className:"w-4 h-4"})}),d.jsx("span",{className:"w-12 text-center font-medium",children:r}),d.jsx(q,{variant:"outline",size:"sm",onClick:()=>s(r+1),children:d.jsx(ES,{className:"w-4 h-4"})})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx(q,{className:"w-full bg-yellow-400 hover:bg-yellow-500 text-black text-lg py-3 rounded-full",children:"Add to Cart"}),d.jsx(q,{className:"w-full bg-orange-400 hover:bg-orange-500 text-white text-lg py-3 rounded-full",onClick:()=>t("/payment"),children:"Buy Now"}),d.jsx(q,{variant:"outline",className:"w-full py-3 rounded-full",children:"Add to Wish List"})]}),d.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[d.jsxs("p",{className:"text-sm",children:[d.jsx("span",{className:"font-medium",children:"FREE delivery"})," ",d.jsx("span",{className:"font-bold",children:a.deliveryDate})]}),d.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Delivering to Chennai 600040 - ",d.jsx("span",{className:"text-blue-600 cursor-pointer",children:"Update location"})]})]})]})})]}),d.jsxs("div",{className:"mt-8 lg:mt-12",children:[d.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Product Features"}),d.jsx("ul",{className:"space-y-2",children:a.features.map((u,f)=>d.jsxs("li",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),d.jsx("span",{className:"text-sm md:text-base",children:u})]},f))})]}),d.jsxs("div",{className:"mt-8 lg:mt-12 border-t pt-8",children:[d.jsx("h3",{className:"text-xl md:text-2xl font-semibold mb-6",children:"Customer Reviews"}),d.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 md:p-6 rounded-lg mb-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("span",{className:"text-2xl font-bold",children:a.rating}),d.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,f)=>d.jsx(ir,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"},f))}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"out of 5"})]}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[a.reviewCount," global ratings"]})]}),d.jsx("div",{className:"space-y-2",children:[5,4,3,2,1].map(u=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:"text-sm w-8",children:[u," star"]}),d.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:d.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${u===5?75:u===4?25:0}%`}})}),d.jsx("span",{className:"text-sm text-muted-foreground w-8",children:u===5?"75%":u===4?"25%":"0%"})]},u))})]})}),d.jsxs("div",{className:"space-y-6 mb-8",children:[d.jsx("div",{className:"border-b pb-6",children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Reviewer",className:"w-12 h-12 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h4",{className:"font-medium",children:"Rahul Sharma"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"2 days ago"})]}),d.jsx("div",{className:"flex items-center gap-1 text-yellow-500 mb-2",children:[...Array(5)].map((u,f)=>d.jsx(ir,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},f))}),d.jsx("p",{className:"text-sm md:text-base text-foreground mb-2",children:d.jsx("span",{className:"font-medium",children:"Excellent quality and fast delivery!"})}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"This product exceeded my expectations! The quality is outstanding and it arrived earlier than expected. The metal construction feels premium and the details are amazing. Would definitely recommend to anyone looking for a high-quality toy car."}),d.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[d.jsx(q,{variant:"ghost",size:"sm",className:"text-xs",children:"Helpful"}),d.jsx(q,{variant:"ghost",size:"sm",className:"text-xs",children:"Report"})]})]})]})}),d.jsx("div",{className:"border-b pb-6",children:d.jsxs("div",{className:"flex gap-4",children:[d.jsx("img",{src:"https://randomuser.me/api/portraits/women/44.jpg",alt:"Reviewer",className:"w-12 h-12 rounded-full object-cover"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("h4",{className:"font-medium",children:"Priya Verma"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:"1 week ago"})]}),d.jsxs("div",{className:"flex items-center gap-1 text-yellow-500 mb-2",children:[[...Array(4)].map((u,f)=>d.jsx(ir,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},f)),d.jsx(ir,{className:"w-4 h-4 text-gray-300"})]}),d.jsx("p",{className:"text-sm md:text-base text-foreground mb-2",children:d.jsx("span",{className:"font-medium",children:"Great value for money"})}),d.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:"Beautiful design and great value for money. The finishing is perfect and my kids love it. The sound effects are really cool. Only minor issue is that the doors could be a bit smoother to open."}),d.jsxs("div",{className:"flex items-center gap-4 mt-3",children:[d.jsx(q,{variant:"ghost",size:"sm",className:"text-xs",children:"Helpful (2)"}),d.jsx(q,{variant:"ghost",size:"sm",className:"text-xs",children:"Report"})]})]})]})})]}),d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 md:p-6 rounded-lg",children:[d.jsx("h4",{className:"font-medium text-lg mb-4",children:"Write a Review"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Rating"}),d.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(u=>d.jsx("button",{className:"p-1",children:d.jsx(ir,{className:"w-6 h-6 text-gray-300 hover:text-yellow-400 transition-colors"})},u))})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium mb-2",children:"Your Review"}),d.jsxs("div",{className:"border rounded-lg p-4 bg-background",children:[d.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[d.jsx("img",{src:"https://imgs.search.brave.com/6sZRHCMMvfkvvYz9DA2pEU6KiPUo_ujBE-3bx41bjxo/rs:fit:860:0:0:0/g:ce/aHR0cHM6Ly93MC5w/ZWFrcHguY29tL3dh/bGxwYXBlci8yMDAv/MTAxMC9IRC13YWxs/cGFwZXItc3VzaGFu/dC1pcy1sZWFuaW5n/LWJhY2stb24td2Fs/bC13ZWFyaW5nLWJs/YWNrLW92ZXJjb2F0/LXN1c2hhbnQtc2lu/Z2gtcmFqcHV0LXRo/dW1ibmFpbC5qcGc",alt:"Your profile",className:"w-10 h-10 rounded-full object-cover"}),d.jsx("div",{className:"flex-1",children:d.jsx("textarea",{placeholder:"Share your experience with this product...",className:"w-full min-h-[100px] px-4 py-3 rounded-lg border bg-background text-sm resize-none focus:outline-none focus:ring-2 focus:ring-primary"})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[d.jsx(r4,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Add Photos"})]}),d.jsxs(q,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[d.jsx(Gu,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Voice Note"})]})]}),d.jsxs(q,{className:"flex items-center gap-2",children:[d.jsx($p,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Submit Review"})]})]})]})]})]})]})]})]}),d.jsx(Zo,{}),d.jsx(Zd,{})]})}function pU(){return d.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:d.jsx(on,{className:"w-full max-w-md mx-4",children:d.jsxs(bs,{className:"pt-6",children:[d.jsxs("div",{className:"flex mb-4 gap-2",children:[d.jsx(JO,{className:"h-8 w-8 text-red-500"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),d.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function pu({children:t,requireAuth:e=!0,redirectTo:n="/login"}){const{user:r,loading:s}=Jd(),[,i]=Nr();return s?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx(xl,{className:"w-8 h-8 animate-spin"})}):e&&!r?(i(n),null):!e&&r?(i("/"),null):d.jsx(d.Fragment,{children:t})}function ox({children:t}){return d.jsx(pu,{requireAuth:!1,children:t})}function mU(){return d.jsxs(cR,{children:[d.jsx(er,{path:"/",component:H5}),d.jsx(er,{path:"/login",children:d.jsx(ox,{children:d.jsx(Y5,{})})}),d.jsx(er,{path:"/signup",children:d.jsx(ox,{children:d.jsx(Q5,{})})}),d.jsx(er,{path:"/user",children:d.jsx(pu,{children:d.jsx(J5,{})})}),d.jsx(er,{path:"/favorites",children:d.jsx(pu,{children:d.jsx(nU,{})})}),d.jsx(er,{path:"/cart",children:d.jsx(pu,{children:d.jsx(hU,{})})}),d.jsx(er,{path:"/categories",component:sU}),d.jsx(er,{path:"/product/:id",component:fU}),d.jsx(er,{component:pU})]})}function gU(){return d.jsx(qR,{defaultTheme:"system",storageKey:"ui-theme",children:d.jsx(kR,{client:WR,children:d.jsx(K6,{children:d.jsxs(_O,{children:[d.jsx(S4,{}),d.jsx(mU,{})]})})})})}try{const t=document.getElementById("root");if(!t)throw new Error("Root element not found!");RE(t).render(d.jsx(gU,{})),console.log(" Your beautiful project with Firebase authentication is now running!")}catch(t){console.error("Error loading project:",t),document.body.innerHTML=`
    <div style="padding: 20px; color: red; font-family: Arial; text-align: center;">
      <h1>Error Loading Project</h1>
      <p>${t instanceof Error?t.message:String(t)}</p>
      <button onclick="window.location.reload()" style="padding: 10px 20px; margin-top: 10px; font-size: 16px;">Reload</button>
    </div>
  `}
